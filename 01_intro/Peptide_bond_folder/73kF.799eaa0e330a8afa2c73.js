(window.webpackJsonp=window.webpackJsonp||[]).push([["73kF"],{P9IM:function(e,t,n){"use strict";var i=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var i={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(i,r,o):i[r]=e[r]}i.default=e,n&&n.set(e,i);return i}(n("q1tI")),r=i(n("17x9")),o=i(n("i8i4")),a=n("reBI"),l=i(n("Xb39"));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}const{Keypad:p}=a.components;var d={propTypes:{apiOptions:r.default.shape({customKeypad:r.default.bool,nativeKeypadProxy:r.default.func}),keypadStyle:r.default.any},getInitialState(){const e=this;let t=null;return e.props.apiOptions&&e.props.apiOptions.customKeypad&&e.props.apiOptions.nativeKeypadProxy&&(t=e.props.apiOptions.nativeKeypadProxy((()=>e.blur&&e.blur()))),{keypadElement:t}},componentDidMount(){const e=this;var t;e.props.apiOptions&&e.props.apiOptions.customKeypad&&!e.props.apiOptions.nativeKeypadProxy&&(e._keypadContainer=document.createElement("div"),null==(t=document.body)||t.appendChild(e._keypadContainer),(0,l.default)(s.createElement(p,{onElementMounted:t=>{e.setState({keypadElement:t})},onDismiss:()=>{e.blur&&e.blur()},style:e.props.keypadStyle}),e._keypadContainer))},componentWillUnmount(){const e=this;e._keypadContainer&&(o.default.unmountComponentAtNode(e._keypadContainer),e._keypadContainer.parentNode&&e._keypadContainer.parentNode.removeChild(e._keypadContainer),e._keypadContainer=null)},keypadElement(){return this.state.keypadElement}};t.default=d},YH1v:function(e,t,n){"use strict";var i=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i(n("pVnL")),r=O(n("q1tI")),o=i(n("i8i4")),a=n("mR6N"),l=i(n("TSYQ")),u=i(n("5pch")),p=O(n("HEOz")),d=n("j8wP"),h=i(n("hzUw")),c=i(n("uBl0")),f=i(n("TBZ3")),g=i(n("MG0i")),m=n("UcaO"),b=i(n("Boyy")),y=n("zahm");function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function O(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var i={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(i,r,o):i[r]=e[r]}return i.default=e,n&&n.set(e,i),i}class P extends r.Component{constructor(...e){super(...e),this.state={isFinalHelpPage:!1},this._hintsVisible=()=>null==this.props.hintsVisible||-1===this.props.hintsVisible?this.props.hints.length:this.props.hintsVisible,this._cacheImagesInHint=e=>{u.default.each(e.images,((e,t)=>{(new Image).src=c.default.getRealImageUrl(t)}))},this._cacheHintImages=()=>{this._hintsVisible()>0?u.default.each(this.props.hints,this._cacheImagesInHint):this.props.hints.length>0&&this._cacheImagesInHint(this.props.hints[0])},this.getApiOptions=()=>(0,s.default)({},d.ApiOptions.defaults,this.props.apiOptions,{readOnly:!1}),this.getSerializedState=()=>u.default.times(this._hintsVisible(),(e=>this.refs["hintRenderer"+e].getSerializedState())),this.restoreSerializedState=(e,t)=>{let n=1;const i=()=>{--n,t&&0===n&&t()};u.default.each(e,((e,t)=>{const s=this.refs["hintRenderer"+t];s&&(++n,s.restoreSerializedState(e,i))})),i()}}componentDidMount(){this._cacheHintImages()}UNSAFE_componentWillReceiveProps(e){e.hintsVisible-this.props.hintsVisible>1&&this.setState({isFinalHelpPage:!0})}componentDidUpdate(e,t){if(u.default.isEqual(e.hints,this.props.hints)&&e.hintsVisible===this.props.hintsVisible||this._cacheHintImages(),e.hintsVisible<this.props.hintsVisible){const e=this.props.hintsVisible-1;o.default.findDOMNode(this.refs["hintRenderer"+e]).focus()}}render(){const e=this.getApiOptions(),t=this._hintsVisible(),n=[],i=this.state.isFinalHelpPage;this.props.hints.slice(0,t).forEach(((s,o)=>{const a=o===this.props.hints.length-1&&!/\*\*/.test(s.content),l=o===t-1,u=r.createElement(h.default,{lastHint:a,lastRendered:l,hint:s,pos:o,totalHints:this.props.hints.length,ref:"hintRenderer"+o,key:"hintRenderer"+o,apiOptions:e,findExternalWidgets:this.props.findExternalWidgets,linterContext:b.default.pushContextStack(this.props.linterContext,"hints["+o+"]")});i?n.push(u):s.replace&&n.length>0?n[n.length-1]=u:n.push(u)}));const{getAnotherHint:s}=e,o=s&&t>0&&t<this.props.hints.length,u=`(${t}/${this.props.hints.length})`,d=(0,l.default)(this.props.className,e.isMobile&&t>0&&(0,a.css)(C.mobileHintStylesHintsRenderer));return r.createElement("div",{className:d},e.isMobile&&t>0&&r.createElement("div",{className:(0,a.css)(C.mobileHintStylesHintTitle,g.default.responsiveLabel)},p._("Hints")),n,o&&r.createElement("button",{rel:"button",className:(0,a.css)(C.linkButton,C.getAnotherHintButton,e.isMobile&&C.mobileHintStylesGetAnotherHintButton),onClick:e=>{e.preventDefault(),e.stopPropagation(),s&&s()}},r.createElement("span",{className:(0,a.css)(C.plusText,e.isMobile&&C.mobileHintStylesPlusText)},"+"),r.createElement("span",{className:(0,a.css)(C.getAnotherHintText)},p._("Get another hint")," ",u)))}}P.defaultProps={linterContext:y.linterContextDefault};const v=m.baseUnitPx+m.hintBorderWidth,C=a.StyleSheet.create({rendererMargins:{marginTop:m.baseUnitPx},linkButton:{cursor:"pointer",border:"none",backgroundColor:"transparent",fontSize:"100%",fontFamily:"inherit",fontWeight:"bold",color:m.kaGreen,padding:0,position:"relative"},plusText:{fontSize:20,position:"absolute",top:-3,left:0},getAnotherHintText:{marginLeft:16},mobileHintStylesHintsRenderer:{marginTop:4*m.baseUnitPx,border:`solid ${m.gray85}`,borderWidth:"1px 0 0 0",position:"relative",":before":{content:'""',display:"table",clear:"both"},":after":{content:'""',display:"table",clear:"both"}},mobileHintStylesHintTitle:{fontFamily:"inherit",fontStyle:"normal",fontWeight:"bold",color:m.gray17,paddingTop:m.baseUnitPx,paddingBottom:1.5*m.baseUnitPx,[f.default.lgOrSmaller]:{paddingLeft:0},[f.default.smOrSmaller]:{paddingLeft:v}},getAnotherHintButton:{marginTop:1.5*m.baseUnitPx},mobileHintStylesGetAnotherHintButton:{[f.default.lgOrSmaller]:{paddingLeft:0},[f.default.smOrSmaller]:{paddingLeft:v}},mobileHintStylesPlusText:{[f.default.lgOrSmaller]:{left:0},[f.default.smOrSmaller]:{left:v}}});var _=P;t.default=_},YqAk:function(e,t,n){"use strict";var i=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i(n("pVnL")),r=S(n("q1tI")),o=S(n("i8i4")),a=i(n("5pch")),l=i(n("96rG")),u=i(n("Xb39")),p=n("j8wP"),d=i(n("YH1v")),h=i(n("Atlv")),c=i(n("P9IM")),f=i(n("uBl0")),g=i(n("vNny")),m=i(n("Boyy")),b=n("zahm");function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function S(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var i={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(i,r,o):i[r]=e[r]}return i.default=e,n&&n.set(e,i),i}const{mapObject:O}=g.default;class P extends r.Component{constructor(e){super(e),this._handleFocusChange=(e,t)=>{null!=e?this._setCurrentFocus(e):this._onRendererBlur(t)},this.handleInteractWithWidget=e=>{const t=a.default.difference(this.state.questionHighlightedWidgets,[e]);this.setState({questionCompleted:!1,questionHighlightedWidgets:t}),this.props.apiOptions.interactionCallback&&this.props.apiOptions.interactionCallback()},this.state=(0,s.default)({},c.default.getInitialState.call(this),{hintsVisible:e.initialHintsVisible||0,questionCompleted:!1,questionHighlightedWidgets:[]})}componentDidMount(){c.default.componentDidMount.call(this),this.props.controlPeripherals&&this.props.apiOptions.setDrawingAreaAvailable&&this.props.apiOptions.setDrawingAreaAvailable(!0),this._currentFocus=null,this.update()}UNSAFE_componentWillReceiveProps(e){this.setState({questionHighlightedWidgets:[]})}componentDidUpdate(){this.update()}componentWillUnmount(){c.default.componentWillUnmount.call(this);const e=document.querySelector(this.props.workAreaSelector);null!=e&&o.unmountComponentAtNode(e);const t=document.querySelector(this.props.hintsAreaSelector);if(null!=t&&o.unmountComponentAtNode(t),this.props.controlPeripherals){const e=this.props.item.answerArea||{};e.calculator&&(0,l.default)("#calculator").hide(),e.periodicTable&&(0,l.default)(".periodic-table-info-box").hide(),e.zTable&&(0,l.default)(".z-table-info-box").hide(),e.tTable&&(0,l.default)(".t-table-info-box").hide(),e.chi2Table&&(0,l.default)(".chi2-table-info-box").hide()}}keypadElement(){return c.default.keypadElement.call(this)}update(){const e=(0,s.default)({},p.ApiOptions.defaults,this.props.apiOptions,{onFocusChange:this._handleFocusChange}),t=document.querySelector(this.props.workAreaSelector),n=document.querySelector(this.props.hintsAreaSelector);if(!t||!n)return;(0,u.default)(r.createElement(h.default,(0,s.default)({ref:t=>{if(!t)return;this.questionRenderer=t;const{answerableCallback:n}=e;if(n){n(0===this.questionRenderer.emptyWidgets().length)}},keypadElement:this.keypadElement(),problemNum:this.props.problemNum,onInteractWithWidget:this.handleInteractWithWidget,highlightedWidgets:this.state.questionHighlightedWidgets,apiOptions:e,questionCompleted:this.state.questionCompleted,reviewMode:this.props.reviewMode,savedState:this.props.savedState,linterContext:m.default.pushContextStack(this.props.linterContext,"question")},this.props.item.question,{legacyPerseusLint:this.props.legacyPerseusLint})),t),(0,u.default)(r.createElement(d.default,{ref:e=>this.hintsRenderer=e,hints:this.props.item.hints,hintsVisible:this.state.hintsVisible,apiOptions:e,linterContext:m.default.pushContextStack(this.props.linterContext,"hints")}),n);const i=this.props.item.answerArea||{};this.props.controlPeripherals?((0,l.default)("#calculator").toggle(i.calculator||!1),(0,l.default)(".periodic-table-info-box").toggle(i.periodicTable||!1),(0,l.default)(".z-table-info-box").toggle(i.zTable||!1),(0,l.default)(".t-table-info-box").toggle(i.tTable||!1),(0,l.default)(".chi2-table-info-box").toggle(i.chi2Table||!1)):(i.calculator&&this.props.onShowCalculator&&this.props.onShowCalculator(),i.periodicTable&&this.props.onShowPeriodicTable&&this.props.onShowPeriodicTable(),i.zTable&&this.props.onShowZTable&&this.props.onShowZTable(),i.tTable&&this.props.onShowTTable&&this.props.onShowTTable(),i.chi2Table&&this.props.onShowChi2Table&&this.props.onShowChi2Table())}_setCurrentFocus(e){const t=this.keypadElement(),n=this._currentFocus;this._currentFocus=e;const i=this.getInputPaths(),s=this._currentFocus&&i.some((e=>f.default.inputPathsEqual(e,this._currentFocus)));null!=this.props.apiOptions.onFocusChange&&this.props.apiOptions.onFocusChange(this._currentFocus,n,s&&t&&t.getDOMNode()),t&&(s?t.activate():t.dismiss())}_onRendererBlur(e){const t=this._currentFocus;f.default.inputPathsEqual(e,t)&&setTimeout((()=>{f.default.inputPathsEqual(this._currentFocus,t)&&this._setCurrentFocus(null)}))}_setWidgetProps(e,t,n){this.questionRenderer._setWidgetProps(e,t,n)}setInputValue(e,t,n){return this.questionRenderer.setInputValue(e,t,n)}focusPath(e){return this.questionRenderer.focusPath(e)}blurPath(e){return this.questionRenderer.blurPath(e)}getDOMNodeForPath(e){return this.questionRenderer.getDOMNodeForPath(e)}getGrammarTypeForPath(e){return this.questionRenderer.getGrammarTypeForPath(e)}getInputPaths(){return this.questionRenderer.getInputPaths()}focus(){return this.questionRenderer.focus()}blur(){this._currentFocus&&this.blurPath(this._currentFocus)}showHint(){this.state.hintsVisible<this.getNumHints()&&this.setState({hintsVisible:this.state.hintsVisible+1})}getNumHints(){return this.props.item.hints.length}scoreInput(){const e=this.questionRenderer.guessAndScore(),t=e[0],n=e[1],i=[t,[]],s=f.default.keScoreFromPerseusScore(n,i,this.questionRenderer.getSerializedState()),r=this.questionRenderer.emptyWidgets();return this.setState({questionCompleted:s.correct,questionHighlightedWidgets:r}),s}getWidgetIds(){return this.questionRenderer.getWidgetIds()}scoreWidgets(){const e=this.questionRenderer.scoreWidgets(),t=this.questionRenderer.getUserInputForWidgets(),n=this.questionRenderer.getSerializedState();return O(e,((e,i)=>f.default.keScoreFromPerseusScore(e,t[i],n[i])))}getSerializedState(){var e;return{question:this.questionRenderer.getSerializedState(),hints:null==(e=this.hintsRenderer)?void 0:e.getSerializedState()}}restoreSerializedState(e,t){var n;let i=2;const s=()=>{--i,t&&0===i&&t()};this.questionRenderer.restoreSerializedState(e.question,s),null==(n=this.hintsRenderer)||n.restoreSerializedState(e.hints,s)}showRationalesForCurrentlySelectedChoices(){this.questionRenderer.showRationalesForCurrentlySelectedChoices()}deselectIncorrectSelectedChoices(){this.questionRenderer.deselectIncorrectSelectedChoices()}render(){return r.createElement("div",null)}}P.defaultProps={apiOptions:p.ApiOptions.defaults,controlPeripherals:!0,hintsAreaSelector:"#hintsarea",initialHintsVisible:0,workAreaSelector:"#workarea",reviewMode:!1,linterContext:b.linterContextDefault};var v=P;t.default=v},"ZM/w":function(e,t,n){"use strict";var i=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i(n("pVnL")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var i={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(i,r,o):i[r]=e[r]}i.default=e,n&&n.set(e,i);return i}(n("q1tI")),o=i(n("17x9")),a=i(n("TSYQ")),l=i(n("uBl0")),u=n("j8wP"),p=i(n("Atlv")),d=i(n("P9IM")),h=i(n("Boyy")),c=n("zahm");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}const g=o.default.shape({content:o.default.string,widgets:o.default.objectOf(o.default.any),images:o.default.objectOf(o.default.any)});class m extends r.Component{constructor(e){super(e),this.keypadElement=()=>d.default.keypadElement.call(this),this._handleFocusChange=(e,t)=>{e?this._setCurrentFocus(e):this._onRendererBlur(t)},this._setCurrentFocus=e=>{const t=this.keypadElement(),n=this._currentFocus;this._currentFocus=e;let i=!1;if(this._currentFocus){const[e,...t]=this._currentFocus;i=this.refs[e].getInputPaths().some((e=>l.default.inputPathsEqual(e,t)))}null!=this.props.apiOptions.onFocusChange&&this.props.apiOptions.onFocusChange(this._currentFocus,n,i&&t&&t.getDOMNode()),t&&(i?t.activate():t.dismiss())},this._onRendererBlur=e=>{const t=this._currentFocus;l.default.inputPathsEqual(e,t)&&setTimeout((()=>{l.default.inputPathsEqual(this._currentFocus,t)&&this._setCurrentFocus(null)}))},this.blur=()=>{if(this._currentFocus){const[e,...t]=this._currentFocus;this.refs[e].blurPath(t)}},this._sections=()=>Array.isArray(this.props.json)?this.props.json:[this.props.json],this.state=d.default.getInitialState.call(this)}componentDidMount(){d.default.componentDidMount.call(this),this._currentFocus=null}shouldComponentUpdate(e,t){return e!==this.props||t!==this.state}componentWillUnmount(){d.default.componentWillUnmount.call(this)}render(){const e=(0,s.default)({},u.ApiOptions.defaults,this.props.apiOptions,{isArticle:!0}),t=(0,a.default)({"framework-perseus":!0,"perseus-article":!0,"bibliotron-article":this.props.useNewStyles,[u.ClassNames.MOBILE]:e.isMobile}),n=this._sections().map(((t,n)=>{const i=`section-${n}`;return r.createElement("div",{key:n,className:"clearfix"},r.createElement(p.default,(0,s.default)({},t,{ref:i,key:n,key_:n,keypadElement:this.keypadElement(),apiOptions:(0,s.default)({},e,{onFocusChange:(e,t)=>{this._handleFocusChange(e&&[i].concat(e),t&&[i].concat(t))}}),linterContext:h.default.pushContextStack(this.props.linterContext,"article"),legacyPerseusLint:this.props.legacyPerseusLint})))}));return r.createElement("div",{className:t},n)}}m.propTypes=(0,s.default)({},d.default.propTypes,{apiOptions:o.default.shape({onFocusChange:o.default.func,isMobile:o.default.bool}),json:o.default.oneOfType([g,o.default.arrayOf(g)]).isRequired,useNewStyles:o.default.bool,linterContext:c.linterContextProps,legacyPerseusLint:o.default.arrayOf(o.default.string)}),m.defaultProps={apiOptions:{},useNewStyles:!1,linterContext:c.linterContextDefault};var b=m;t.default=b},hzUw:function(e,t,n){"use strict";var i=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i(n("pVnL")),r=g(n("q1tI")),o=n("mR6N"),a=i(n("TSYQ")),l=g(n("HEOz")),u=i(n("Atlv")),p=i(n("TBZ3")),d=n("UcaO"),h=i(n("Boyy")),c=n("zahm");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var i={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(i,r,o):i[r]=e[r]}return i.default=e,n&&n.set(e,i),i}class m extends r.Component{constructor(...e){super(...e),this.getSerializedState=()=>this.refs.renderer.getSerializedState(),this.restoreSerializedState=(e,t)=>{this.refs.renderer.restoreSerializedState(e,t)}}render(){const{apiOptions:e,className:t,hint:n,lastHint:i,lastRendered:p,pos:d,totalHints:c}=this.props,{isMobile:f}=e,g=(0,a.default)(!f&&"perseus-hint-renderer",f&&(0,o.css)(b.newHint),f&&p&&(0,o.css)(b.lastRenderedNewHint),i&&"last-hint",p&&"last-rendered",t),m=(0,s.default)({},e,{customKeypad:!1,staticRender:!1});return r.createElement("div",{className:g,tabIndex:"-1"},!e.isMobile&&r.createElement("span",{className:"perseus-sr-only"},l._("Hint #%(pos)s",{pos:d+1})),!e.isMobile&&!e.satStyling&&c&&null!=d&&r.createElement("span",{className:"perseus-hint-label",style:{display:"block",color:e.hintProgressColor}},`${d+1} / ${c}`),r.createElement(u.default,{ref:"renderer",widgets:n.widgets,content:n.content||"",images:n.images,apiOptions:m,findExternalWidgets:this.props.findExternalWidgets,linterContext:h.default.pushContextStack(this.props.linterContext,"hint")}))}}m.defaultProps={linterContext:c.linterContextDefault};const b=o.StyleSheet.create({newHint:{marginBottom:1.5*d.baseUnitPx,borderLeftColor:d.gray97,borderLeftStyle:"solid",borderLeftWidth:d.hintBorderWidth,[p.default.lgOrSmaller]:{paddingLeft:d.baseUnitPx},[p.default.smOrSmaller]:{paddingLeft:0},":focus":{outline:"none"}},lastRenderedNewHint:{marginBottom:0,borderLeftColor:d.kaGreen}});var y=m;t.default=y}}]);
//# sourceMappingURL=../../sourcemaps/en/73kF.799eaa0e330a8afa2c73.js.map