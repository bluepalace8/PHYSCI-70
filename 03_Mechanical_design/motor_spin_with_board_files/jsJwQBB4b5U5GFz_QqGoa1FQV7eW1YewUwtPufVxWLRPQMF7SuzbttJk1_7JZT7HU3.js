if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }

__d("LSRemoveError",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.db.table(6).fetch([[[a[0]]]]),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSMoveThreadToInboxAndUpdateParent",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({folderName:"inbox",parentThreadKey:a[1]})})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSOptimisticUnarchiveThread",["LSIssueNewError","LSIssueNewTask","LSMoveThreadToInboxAndUpdateParent"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(e,g){g=e.done;e=e.value;return g?0:(e.item,c.seq([function(d){return c.sp(b("LSMoveThreadToInboxAndUpdateParent"),a[0],[0,0])},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=[0,1]:(b=a.item,d[7]=b.syncGroup,c.i64.neq(d[7],f)?d[6]=d[7]:d[6]=[0,1],d[0]=d[6])})},function(a){return c.sb(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[2]=!1:(b=a.item,d[2]=b.errorShouldBeShown)})},function(a){return d[2]===!0?(d[6]=c.localizeV2([0,2285622730],f),d[7]=c.localizeV2([0,1919524925],f),c.sp(b("LSIssueNewError"),f,[0,1545093],d[6],d[7])):c.resolve()},function(e){return d[4]=new c.Map(),d[4].set("thread_id",a[0]),d[4].set("sync_group",d[0]),d[5]=c.toJSON(d[4]),c.sp(b("LSIssueNewTask"),"unarchive_thread",[0,242],d[5],f,f,[0,0],f)}]))})},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("CometOnRefresh.react",["CometRouterRefreshKeyContext","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useContext,i=b.useEffect,j=b.useRef;function a(a){var b=h(c("CometRouterRefreshKeyContext")),d=j(b);i(function(){b!=null&&b!==d.current&&(d.current=b,a())},[b,a])}g.useOnRefresh=a}),98);
__d("CometBlueBridgeContext",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext(!1);g["default"]=b}),98);
__d("CometMenuSeparator.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a,b){return h.jsx("hr",{className:"aov4n071 dhix69tm wkznzc2l bi6gxh9e pwoa4pd7",ref:b})}a.displayName=a.name+" [from "+f.id+"]";b=h.forwardRef(a);g["default"]=b}),98);
__d("BaseToastAnimationInternal.react",["react","stylex","useFadeEffect","useMergeRefs","useToasterStateManager","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback,j=100,k={mount:{opacity:"pedkr2u6",transform:"g3zh7qmp",transitionDuration:"pc15xi3s",transitionTimingFunction:"ilcmz9jb"},root:{opacity:"b5wmifdl",transform:"f2tghaqp",transitionDuration:"s1992sns",transitionProperty:"r5qslco7",transitionTimingFunction:"nf1dmkjp"}};function a(a){var b=a.children,d=a.expired;d=d===void 0?!1:d;var e=a.id,f=a.position;a=a.xstyle;var g=c("useToasterStateManager")(),l=h.Children.only(b);b=i(function(){g.resetTimer(e)},[e,g]);var m=i(function(){g.stopTimer(e)},[e,g]),n=i(function(){g.shown(e)},[e,g]),o=i(function(){g.hidden(e)},[e,g]),p=i(function(a){l.props.onActionPress!=null&&l.props.onActionPress(a),a.defaultPrevented||g.expire(e)},[l.props,e,g]);o=c("useVisibilityObserver")({onHidden:o,onVisible:n,options:{activityMonitorOverride:null}});n=c("useFadeEffect")(!d);d=n[0];var q=n[1];n=n[2];n=c("useMergeRefs")(n,o);return d?h.jsx("li",{className:c("stylex")(k.root,q&&k.mount,a),onMouseEnter:m,onMouseLeave:b,ref:n,style:{bottom:j*f},children:h.cloneElement(l,{onActionPress:p})}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("BaseToasterView.react",["BaseToasterStateManager","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("BaseToasterStateManager").getInstance();a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={visibleToasts:[]},b)||babelHelpers.assertThisInitialized(c)}b.getDerivedStateFromProps=function(a,b){b=b!=null?b.visibleToasts.slice(0,a.maxVisible):[];var c=0,d=a.filterToasts,e=a.toasterState,f={},g=d!=null?Object.keys(e).filter(function(a){var b,c=e[a];f[a]=c;var g=c==null?void 0:c.shown;b=c==null?void 0:(b=c.value)==null?void 0:(b=b.type)==null?void 0:b.name;if(c==null||b==null)return!0;if(d.has(b)&&!g){i.expire(a);return!1}}):Object.keys(e),h=b.reduce(function(a,b){b!=null&&a.add(b.id);return a},new Set()),j=0;while(c<a.maxVisible){var k=b[c],l=Object.keys(f).length>0?f:a.toasterState;if(k!=null){l=Object.prototype.hasOwnProperty.call(l,k.id);if(l){l=e[k.id];b[c]={expired:l.expired,id:l.id,toast:l.value};c++;continue}else b[c]=null}k=null;while(k==null&&j<g.length){l=g[j++];var m=h.has(l);m||(k=a.toasterState[l])}k!=null&&(b[c]={expired:k.expired,id:k.id,toast:k.value});c++}return{visibleToasts:b}};var c=b.prototype;c.render=function(){var a=this;return h.jsx("ul",{className:this.props.className,children:this.state.visibleToasts.map(function(b,c){return b!=null?a.props.children(b.toast,b.id,b.expired,c):null})})};return b}(h.PureComponent);a.defaultProps={maxVisible:1};g["default"]=a}),98);
__d("CometTwoButtonDialogImpl.react",["fbt","CometCardedDialog.react","CometTrackingNodeProvider.react","TetraButtonGroup.react","TetraText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={dialog:"comet-two-button-dialog",primary:"comet-two-button-dialog-primary",secondary:"comet-two-button-dialog-secondary"};function a(a){var b=a.body,d=a.disabled;d=d===void 0?!1:d;var e=a.onClose,f=a.primary,g=a.secondary,k=a.testids;k=k===void 0?j:k;var l=a.title,m=a.titleHorizontalAlignment;m=m===void 0?"start":m;a=a.expandButtonGroup;a=a===void 0?!1:a;return i.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:163,children:i.jsxs(c("CometCardedDialog.react"),{onClose:function(){return e("EXIT")},testid:void 0,title:l,titleHorizontalAlignment:m,withCloseButton:!0,children:[i.jsx("div",{className:"l9j0dhe7 dati1w0a f10w8fjw hv4rvrfc pybr56ya",children:i.jsx(c("TetraText.react"),{type:"body3",children:b})}),i.jsx("div",{className:"a8nywdso ihqw7lf3 rz4wbd8a jb3vyjys bkfpd7mw btwxx1t3 j83agx80",children:i.jsx(c("TetraButtonGroup.react"),{direction:"backward",expanding:a,paddingHorizontal:16,primary:{disabled:d,label:(l=f)!=null?l:h._(/*FBT_CALL*/"Confirm"/*FBT_CALL*/),onPress:function(){return e("PRIMARY")},testid:k.primary},secondary:{disabled:d,label:(m=g)!=null?m:h._(/*FBT_CALL*/"Cancel"/*FBT_CALL*/),onPress:function(){return e("SECONDARY")},reduceEmphasis:!0,testid:k.secondary}})})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometConfirmationDialogImpl.react",["CometTwoButtonDialogImpl.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.body,d=a.cancel,e=a.confirm,f=a.disabled;f=f===void 0?!1:f;var g=a.onClose;a=a.title;return h.jsx(c("CometTwoButtonDialogImpl.react"),{body:b,disabled:f,onClose:function(a){return g(a==="PRIMARY")},primary:e,secondary:d,testids:{dialog:"CometConfirmationDialogImpl",primary:"CometConfirmationDialogConfirmButton",secondary:"CometConfirmationDialogCancelButton"},title:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMenu.react",["cr:12346","react"],(function(a,b,c,d,e,f,g){"use strict";d("react"),g["default"]=b("cr:12346")}),98);
__d("MWChatTabEntryPoints.bs",[],(function(a,b,c,d,e,f){"use strict";a={};f.tabEntryPoints=a}),null);
__d("MessengerWebEntryPointsUtil.bs",["MessengerWebEntryPoint"],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==="pagesLikeInviteThem")return b("MessengerWebEntryPoint").PAGES_LIKE_INVITE_ITEM;else if(a==="pagesPrivateReply")return b("MessengerWebEntryPoint").PAGES_PRIVATE_REPLY;else if(a==="inboxActiveContacts"||a==="inboxArchived"||a==="inboxSpam"||a==="inboxFolder"||a==="inboxThreadList"||a==="inboxRecentThreads"||a==="inboxRemainingThreads"||a==="pendingRequests"||a==="inboxRestricted"||a==="archieve"||a==="inboxInThread"||a==="inboxPendingRequests")return b("MessengerWebEntryPoint").INBOX;else if(a==="jobs")return b("MessengerWebEntryPoint").jobs;else if(a==="storySeenByList"||a==="friendsTab")return b("MessengerWebEntryPoint").STORY_SEEN_BY_LIST;else if(a==="chatParticipants")return b("MessengerWebEntryPoint").ADD_PARTICIPANTS;else if(a==="compat")return b("MessengerWebEntryPoint").COMPAT;else if(a==="cookie")return b("MessengerWebEntryPoint").COOKIE;else if(a==="pagesAdminInviteItem")return b("MessengerWebEntryPoint").PAGES_ADMIN_INVITE_ITEM;else if(a==="groupWelcomePost")return b("MessengerWebEntryPoint").GROUP_WELCOME_POST;else if(a==="sidebarContactsList"||a==="sidebarGroupsList")return b("MessengerWebEntryPoint").SIDEBAR;else if(a==="jewelNestedFolder"||a==="jewel")return b("MessengerWebEntryPoint").JEWEL;else if(a==="shop")return b("MessengerWebEntryPoint").SHOP;else if(a==="pageLikeChaining")return b("MessengerWebEntryPoint").PAGE_LIKE_CHAINING;else if(a==="chatheadsOverflow")return b("MessengerWebEntryPoint").CHAT_HEADS_OVERFLOW;else if(a==="feedDynamicHoverCard")return b("MessengerWebEntryPoint").PAGES_HOVERCARD;else if(a==="messengerUniversalSearch")return b("MessengerWebEntryPoint").SEARCH_RESULT_PAGE;else if(a==="mentorship")return b("MessengerWebEntryPoint").MENTORSHIP;else if(a==="reactorList")return b("MessengerWebEntryPoint").REACTOR_LIST;else if(a==="feedPoll")return b("MessengerWebEntryPoint").FEED_POLL;else if(a==="timeline"||a==="feedOrganicPost")return b("MessengerWebEntryPoint").TIMELINE;else if(a==="pageResponsivenessCard"||a==="pageAboutCard")return b("MessengerWebEntryPoint").PAGES_ABOUT;else if(a==="inboxSearch"||a==="sidebarSearch"||a==="search")return b("MessengerWebEntryPoint").SEARCH;else if(a==="storyAggregatedUsers")return b("MessengerWebEntryPoint").STORY_AGGREGATED_USERS;else if(a==="fundraiserMoreMenu")return b("MessengerWebEntryPoint").FUNDRAISER_SUPPORT_REACTIVE_MORE_MENU;else if(a==="fundraiserFaq")return b("MessengerWebEntryPoint").FUNDRAISER_SUPPORT_REACTIVE_FAQ;else if(a==="notificationInThreadReply")return b("MessengerWebEntryPoint").MESSAGE_RECEIVED;else if(a==="roomsNullState")return b("MessengerWebEntryPoint").ROOMS_NULL_STATE;else if(a==="storyViewerSheetRow")return b("MessengerWebEntryPoint").STORIES_VIEWED_BY_LIST;else if(a==="feedOrganicPostNewsfeedPagePostCta")return b("MessengerWebEntryPoint").PAGES_CTA;else if(a==="chatheadsNewMessage")return b("MessengerWebEntryPoint").NEW_MESSAGE_BUTTON;else if(a==="groupExperts"||a==="groupCommunityFriendsDialog")return b("MessengerWebEntryPoint").GROUP_EXPERTS_DISCOVERY_INVITE;else if(a==="hovercard")return b("MessengerWebEntryPoint").HOVERCARD;else if(a==="crisisListingAttachment")return b("MessengerWebEntryPoint").CRISIS_LISTING_ATTACHMENT;else if(a==="mentalHealth")return b("MessengerWebEntryPoint").MENTAL_HEALTH;else if(a==="event")return b("MessengerWebEntryPoint").EVENTS_PERMALINK;else if(a==="jewelSearch")return b("MessengerWebEntryPoint").JEWEL_SEARCH;else if(a==="pagePopupChat")return b("MessengerWebEntryPoint").PAGES_POPUP_CHAT;else if(a==="communityHelp")return b("MessengerWebEntryPoint").COMMUNITY_HELP;else if(a==="jewelNewMessage")return b("MessengerWebEntryPoint").JEWEL_NEW_MESSAGE;else if(a==="fundraiser")return b("MessengerWebEntryPoint").FUNDRAISER;else if(a==="memories")return b("MessengerWebEntryPoint").MEMORIES_HOME;else if(a==="fundraiserSupportersList")return b("MessengerWebEntryPoint").FUNDRAISER_SUPPORTERS_LIST;else if(a==="groupRemovePost")return b("MessengerWebEntryPoint").GROUP_REMOVE_POST_TOMBSTONE;else if(a==="pagesHeader")return b("MessengerWebEntryPoint").PAGES_HEADER;else if(a==="groupMembers")return b("MessengerWebEntryPoint").GROUP_MEMBERS_TAB;else if(a==="chatheads")return b("MessengerWebEntryPoint").CHAT_HEADS;else if(a==="birthday")return b("MessengerWebEntryPoint").BIRTHDAYS;else if(a==="localBusinessesNearby")return b("MessengerWebEntryPoint").LOCAL_BUSINESSES_NEARBY;else if(a==="marketplace")return b("MessengerWebEntryPoint").MARKETPLACE;else if(a==="mutualFriendsDialog")return b("MessengerWebEntryPoint").MUTUAL_FRIENDS_DIALOG;else if(a==="feedOrganicPostViewAndMessage")return b("MessengerWebEntryPoint").FEED_STORY_CTA;else if(a==="profileServicesMenu")return b("MessengerWebEntryPoint").PROFILE_SERVICES_MENU;else if(a==="adsCta")return b("MessengerWebEntryPoint").RESHARES_DIALOG;else if(a==="offer")return b("MessengerWebEntryPoint").OFFER;else if(a==="payments")return b("MessengerWebEntryPoint").P2P_PAYMENTS;else if(a==="groupQuality")return b("MessengerWebEntryPoint").GROUP_QUALITY;else if(a==="pagesHomeFriendsDialog")return b("MessengerWebEntryPoint").PAGES_HOME_FRIENDS_DIALOG;else if(a==="communityFriendsDialog")return b("MessengerWebEntryPoint").PAGES_COMMUNITY_FRIENDS_DIALOG;else if(a==="groupChats")return b("MessengerWebEntryPoint").GROUP_CHATS;else if(a==="gratitude")return b("MessengerWebEntryPoint").GRATITUDE;else return b("MessengerWebEntryPoint").UNKNOWN}f.cast=a}),null);
__d("MWChatLogOpenChatTab.bs",["MWChatTabEntryPoints.bs","MessengerWebEntryPointsUtil.bs","MessengerWebEvent","MessengerWebEventsFalcoEvent.bs","ODS"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){var f=a!==void 0?a:!1;b("ODS").bumpEntityKey(3185,"mwchat_tab","open_user");var g=b("MessengerWebEntryPointsUtil.bs").cast(d);b("MWChatTabEntryPoints.bs").tabEntryPoints[c]=g;return b("MessengerWebEventsFalcoEvent.bs").log(function(){return{entry_point:g,event_name:b("MessengerWebEvent").OPEN_CHAT_TAB,other_user_fbid:f?null:c,is_secured:f}})}function c(a,c,d){var e=a!==void 0?a:!1;b("ODS").bumpEntityKey(3185,"mwchat_tab","open_group");var f=b("MessengerWebEntryPointsUtil.bs").cast(d);b("MWChatTabEntryPoints.bs").tabEntryPoints[c]=f;return b("MessengerWebEventsFalcoEvent.bs").log(function(){return{entry_point:f,event_name:b("MessengerWebEvent").OPEN_CHAT_TAB,thread_fbid:e?null:c,is_secured:e}})}function d(a,c,d,e){var f=a!==void 0?a:!1;b("ODS").bumpEntityKey(3185,"mwchat_tab","open_page");var g=b("MessengerWebEntryPointsUtil.bs").cast(d);b("MWChatTabEntryPoints.bs").tabEntryPoints[c]=g;return b("MessengerWebEventsFalcoEvent.bs").log(function(){return{entry_point:g,event_name:b("MessengerWebEvent").OPEN_CHAT_TAB,other_user_fbid:f?null:c,is_secured:f}})}f.logOpenUserTab=a;f.logOpenGroupTab=c;f.logOpenPageTab=d}),null);
__d("MWV2ChatOpenSecureTabForUserCallback.bs",["bs_curry","cr:614"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){if(!(b("cr:614")==null))return b("bs_curry")._3(b("cr:614").openChatTab,a,c,d)}f.$MAWChatOpenTabForUser$requireCond=b("cr:614");f.openChatTab=a}),null);
__d("LSErrorHandler.bs",["ix","BaseToasterStateManager","CometToast.react","LS.bs","LSRemoveError","LSTransaction.bs","ReQLTable","SortedAsyncIterable.bs","TetraIcon.react","bs_caml_option","bs_curry","fbicon","promiseDone","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j={contents:!1},k=b("BaseToasterStateManager").getInstance();function a(a){if(j.contents)return;j.contents=!0;var c=b("SortedAsyncIterable.bs").subscribe(b("ReQLTable").table(a,"user_visible_errors").asc,function(c,d){if(typeof d==="number")return;if(d.TAG!==0)return;var e=d._0,f={contents:void 0};f.contents=b("bs_caml_option").some(k.push(i.jsx(b("CometToast.react"),{onDismiss:function(c){b("promiseDone")(b("LSTransaction.bs").run(a,function(a){return b("LSRemoveError")(e.errorId,b("LS.bs").make(a))},"readWrite"),void 0,void 0);c=f.contents;if(c!==void 0){k.expire(b("bs_caml_option").valFromOption(c));return}},message:e.errorTitleText,icon:i.jsx(b("TetraIcon.react"),{icon:b("fbicon")._(g("502062"),20),color:"warning"})}),2750))});return function(a){j.contents=!1;return b("bs_curry")._1(c,void 0)}}f.subscribeToErrorTableAndShowToast=a}),null);
__d("MWCMReportGroupToAdminMenuItem.bs",["fbt","MWCMBumpEntityKey.bs","MWCMUseGetReportCommunityDialogTrigger.bs","MWInboxInfoPrivacyAndSupportSectionIcons.bs","MWMenuItem.react","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){a=a.thread;var c=g._(/*FBT_CALL*/"Report to Admin"/*FBT_CALL*/),d=b("MWCMUseGetReportCommunityDialogTrigger.bs").useHook(a);return i.jsx(b("MWMenuItem.react"),{"aria-label":c,primaryText:c,onClick:function(a){b("MWCMBumpEntityKey.bs").bumpEntityKeyWithAppId("mw.infobar","privacy_support_section_report_to_admin");return b("bs_curry")._1(d,void 0)},icon:b("MWInboxInfoPrivacyAndSupportSectionIcons.bs").ReportMessages.icon})}c=a;f.make=c}),null);
__d("MWLSLeaveGroupMenuItem.bs",["MWLSConfirmRemoveFromGroup.bs","MWMenuItem.react","MWThreadListHoverButtonDropdownMenuIcons.bs","MWUseNavigateAfterLeavingGroup.bs","ODS","bs_caml_option","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.thread,d=a.showIcon,e=a.shouldNavigate;a=a.shouldDeleteThreadOnLeave;d=d!==void 0?d:!1;e=e!==void 0?e:!1;a=a!==void 0?a:!1;var f=b("MWUseNavigateAfterLeavingGroup.bs").useHook(c);c=b("MWLSConfirmRemoveFromGroup.bs").useHook(c,e,a,f);e=c[1];var g=c[0];a={"aria-label":e,primaryText:e,onClick:function(a){b("ODS").bumpEntityKey(3185,"mwchat_settings","leave_thread");return b("bs_curry")._1(g,function(a){})},testid:"mw_leave_group_menu_item"};f=d?b("bs_caml_option").some(b("MWThreadListHoverButtonDropdownMenuIcons.bs").LeaveChat.icon):void 0;f!==void 0&&(a.icon=b("bs_caml_option").valFromOption(f));return h.jsx(b("MWMenuItem.react"),a)}c=a;f.make=c}),null);
__d("MWThreadListHoverButtonDropdownMenuDeleteThreadButton.bs",["LS.bs","LSLocalOptimisticDeleteCommunityChannel","LSOptimisticRemoveThread","LSThreadRemoveType.bs","LSTransaction.bs","MWCMThreadTypes.bs","MWChatSettingsDeleteConversation.bs","MWUseNavigateAfterLeavingGroup.bs","Promise","bs_curry","cr:1158","cr:12115","promiseDone","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a,c){var d=b("useReStore")(),e=b("MWUseNavigateAfterLeavingGroup.bs").useHook(a),f=b("cr:12115")==null?function(a){}:b("bs_curry")._1(b("cr:12115").useDispatch,void 0),g=b("MWCMThreadTypes.bs").isAnyCMThread(a.threadType);return h.useCallback(function(h){b("promiseDone")(b("LSTransaction.bs").run(d,function(c){if(g)return b("LSLocalOptimisticDeleteCommunityChannel")(a.threadKey,b("LS.bs").make(c));else return b("LSOptimisticRemoveThread")(a.threadKey,b("LSThreadRemoveType.bs").deleteThread,b("LS.bs").make(c))},"readWrite").then(function(d){c&&b("bs_curry")._1(e,void 0);b("cr:1158")==null||b("bs_curry")._1(f,b("bs_curry")._2(b("cr:1158").closeTabByThreadKey,Date.now(),a.threadKey));return b("Promise").resolve(void 0)}),void 0,void 0)},[d,a,e,c])}function a(a){var c=a.thread;a=a.selected;a=i(c,a);return h.jsx(b("MWChatSettingsDeleteConversation.bs").make,{disabled:!1,onClick:a,thread:c})}c=a;f.$MWChatStateActions$requireCond=b("cr:1158");f.$MWChatStateV2$requireCond=b("cr:12115");f.useDeleteThread=i;f.make=c}),null);
__d("RTWebJoinOngoingCallMenuItem.react",["fbt","ix","CometMenuItem.react","cr:11085","fbicon","react","useRTWebCometStartCallCallback"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){var e=a.callData,f=a.fbid,g=c("useRTWebCometStartCallCallback")();a=(a=e==null?void 0:e.call_state)!=null?a:"NO_ONGOING_CALL";var k,l,m;switch(a){case"AUDIO_GROUP_CALL":k=d("fbicon")._(i("558161"),20);l=h._(/*FBT_CALL*/"Join call"/*FBT_CALL*/);m="audio";break;case"VIDEO_GROUP_CALL":k=d("fbicon")._(i("493174"),20);l=h._(/*FBT_CALL*/"Join video chat"/*FBT_CALL*/);m="video";break;default:return null}return j.jsx(c("CometMenuItem.react"),{icon:k,onClick:function(){e!=null&&(b("cr:11085").logClick({component:"join_call_button",surface:"messages_jewel"}),g({existingCall:e,mediaType:m,thread:{id:f,type:2},trigger:"multiway_thread_list_join_call_button"}))},primaryText:l})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWThreadListHoverButtonDropdownMenu.bs",["fbt","CometLazyDialogTrigger.react","CometMenuSeparator.react","JSResource","LS.bs","LSMessagingThreadTypeUtil.bs","LSOptimisticRemoveThread","LSOptimisticUnarchiveThread","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","LSThreadRemoveType.bs","LSTransaction.bs","LsSystemFolder.bs","MAWGating.bs","MWCMBumpEntityKey.bs","MWCMReportGroupToAdminMenuItem.bs","MWCMThreadTypes.bs","MWChatThreadId.bs","MWChatUnmuteThread.bs","MWInboxInfoFRXItem.bs","MWLSCanLeaveGroup.bs","MWLSGetLearningSpaceRoomOnThread.bs","MWLSLeaveGroupMenuItem.bs","MWLSMarkThreadAsRead.bs","MWLSMarkThreadAsUnread.bs","MWLSRTCDisplayStatus.bs","MWLSStartPhoneCall.bs","MWLSThreadDisplayContext.bs","MWLSThreadProfileLink.bs","MWMenu.react","MWMenuItem.react","MWPUseIsThreadMuted.bs","MWThreadListHoverButtonDropdownMenuDeleteThreadButton.bs","MWThreadListHoverButtonDropdownMenuIcons.bs","MWThread_DEPRECATED.bs","MessengerMuteUtils.bs","MessengerWebEntryPoint","RTCCallState.bs","RTWebJoinOngoingCallMenuItem.react","ReQL.bs","ReQLSubscription.bs","ReQLTable","XCometMessengerControllerRouteBuilder","bs_belt_Array","bs_belt_Option","bs_caml","bs_caml_format","bs_caml_option","bs_curry","cr:10885","cr:10889","cr:10890","cr:11437","cr:11466","cr:1875067","gkx","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j=b("RTWebJoinOngoingCallMenuItem.react");c={make:j};var k=b("JSResource")("LSMuteThreadDialogForJSResource.react").__setRef("MWThreadListHoverButtonDropdownMenu.bs");function l(a){}function a(a){var c=a.fbid,d=a.isUnread,e=a.mutedUntil,f=a.onClose,h=a.onCloseJewel,m=a.messagingEntrypoint,n=a.thread;a=a.selected;var o=f!==void 0?f:l,p=h!==void 0?h:l;f=b("MWThread_DEPRECATED.bs").useIdExn(void 0);h=b("LSMessagingThreadTypeUtil.bs").isSecure(n.threadType);var q=b("MWLSMarkThreadAsRead.bs").useHook(void 0),r=b("MWLSMarkThreadAsUnread.bs").useHook(void 0),s=b("MWLSThreadProfileLink.bs").useHook(void 0),t=b("MWPUseIsThreadMuted.bs").useHook(n),u=b("MessengerMuteUtils.bs").muteActionLabel(t),v=b("MWLSStartPhoneCall.bs").useMakeRTCCall(void 0),w=v[0],x=b("MWLSRTCDisplayStatus.bs").useHook(void 0);x=x===0&&b("bs_belt_Option").isNone(v[1]);v=b("bs_caml").i64_eq(n.parentThreadKey,b("LsSystemFolder.bs").archived);var y=b("bs_caml").i64_eq(n.parentThreadKey,b("LsSystemFolder.bs").other),z=b("bs_caml").i64_eq(n.parentThreadKey,b("LsSystemFolder.bs").pending),A=b("useReStore")(),B=b("MWLSThreadDisplayContext.bs").useHook(void 0);B=B!==void 0?B===1?"inboxInThread":B===0?"chatInThread":"unknown":"unknown";var C=b("MWLSCanLeaveGroup.bs").useHook(n),D=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").muteThread,n),E=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").archiveThread,n),F=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").unarchiveThread,n),G=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").threadDetailsDeleteThread,n),H=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").goToSecretConversation,n),I=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").reportChatToAdmin,n),J=b("MWCMThreadTypes.bs").isAnyCMThread(n.threadType),K=b("MWChatUnmuteThread.bs").useHook(void 0),L=b("ReQLSubscription.bs").useFirst(i.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(A,"rtc_ongoing_calls_on_threads_v2").asc,{hd:n.threadKey,tl:0})},[A,JSON.stringify(n.threadKey)]));y=!y&&!z&&!v;z=b("MWLSGetLearningSpaceRoomOnThread.bs").useHook(n);var M=i.useRef(null);z=b("bs_belt_Array").keepMap([z[2]?b("bs_belt_Option").map(z[1],function(a){return i.jsx(b("MWMenuItem.react"),{primaryText:g._(/*FBT_CALL*/"Join room"/*FBT_CALL*/),href:a,icon:b("MWThreadListHoverButtonDropdownMenuIcons.bs").VideoChat.icon,target:"_blank"},"join_room")}):void 0,b("gkx")("1611062")&&x?b("bs_caml_option").some(i.jsx(b("MWMenuItem.react"),{primaryText:g._(/*FBT_CALL*/"Audio call"/*FBT_CALL*/),onClick:function(a){return b("bs_curry")._3(w,!1,c,"comet_chat_tab_call_option")},icon:b("MWThreadListHoverButtonDropdownMenuIcons.bs").AudioCall.icon},"rtc_audio_call")):void 0,b("gkx")("1611062")&&x?b("bs_caml_option").some(i.jsx(b("MWMenuItem.react"),{primaryText:g._(/*FBT_CALL*/"Video chat"/*FBT_CALL*/),onClick:function(a){return b("bs_curry")._3(w,!0,c,"comet_chat_tab_call_option")},icon:b("MWThreadListHoverButtonDropdownMenuIcons.bs").VideoChat.icon},"rtc_video_call")):void 0],function(a){return a});var N;if(v)N=null;else{x=0;b("cr:11437")==null||!h?x=1:N=i.jsx(b("cr:11437").make,{thread:n,isUnread:d});x===1&&(N=i.jsx(b("MWMenuItem.react"),{primaryText:d?g._(/*FBT_CALL*/"Mark as read"/*FBT_CALL*/):g._(/*FBT_CALL*/"Mark as unread"/*FBT_CALL*/),onClick:function(a){b("MWCMBumpEntityKey.bs").bumpEntityKeyWithAppId("mw.sidebar","group_thread_overflow_mark_as."+(d?"read":"unread"));if(d)return b("bs_curry")._1(q,void 0);else return b("bs_curry")._1(r,void 0)},icon:b("MWThreadListHoverButtonDropdownMenuIcons.bs").MarkAsReadOrUnread.icon}))}var O;if(D)if(t){x=0;b("cr:10890")==null||b("MAWGating.bs").isOccamadillo||!h?x=1:O=i.jsx(b("cr:10890").make,{thread:n,muteActionLabel:u,mutedUntil:e});x===1&&(O=i.jsx(b("MWMenuItem.react"),{primaryText:u,onClick:function(a){b("MWCMBumpEntityKey.bs").bumpEntityKeyWithAppId("mw.sidebar","group_thread_overflow_unmute_notifications");return b("bs_curry")._1(K,n)},secondaryText:b("bs_belt_Option").getWithDefault(b("MessengerMuteUtils.bs").mutedUntilLabel(e),""),icon:b("MWThreadListHoverButtonDropdownMenuIcons.bs").MuteConversation.Off.icon}))}else O=i.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:k,dialogProps:{thread:n},children:function(a){return i.jsx(b("MWMenuItem.react"),{primaryText:u,onClick:function(c){b("MWCMBumpEntityKey.bs").bumpEntityKeyWithAppId("mw.sidebar","group_thread_overflow_mute_notifications");return b("bs_curry")._1(a,void 0)},icon:b("MWThreadListHoverButtonDropdownMenuIcons.bs").MuteConversation.On.icon,ref:M})}});else O=null;if(L!==void 0){D=L.ongoingCallServerInfoData;t=D!==void 0?D:null}else t=null;if(m===b("MessengerWebEntryPoint").INBOX){var P;x=0;b("cr:11466")==null?x=1:E&&y?h?P=i.jsx(b("cr:11466").make,{thread:n}):x=1:P=null;x===1&&(P=E&&y&&!h?i.jsx(b("MWMenuItem.react"),{primaryText:g._(/*FBT_CALL*/"Archive chat"/*FBT_CALL*/),onClick:function(a){var d=b("bs_caml_format").caml_int64_of_string(c);b("promiseDone")(b("LSTransaction.bs").run(A,function(a){return b("LSOptimisticRemoveThread")(d,b("LSThreadRemoveType.bs").archiveThread,b("LS.bs").make(a))},"readWrite"),void 0,void 0)},icon:b("MWThreadListHoverButtonDropdownMenuIcons.bs").HideConversation.icon}):null);var Q;e=0;b("cr:10889")==null||!(G&&h)?e=1:Q=i.jsx(b("cr:10889").make,{thread:n,selected:a});e===1&&(Q=G?i.jsx(b("MWThreadListHoverButtonDropdownMenuDeleteThreadButton.bs").make,{thread:n,selected:a}):null);L=i.jsxs(i.Fragment,{children:[i.jsx(b("CometMenuSeparator.react"),{}),P,F&&v?i.jsx(b("MWMenuItem.react"),{primaryText:g._(/*FBT_CALL*/"Unarchive chat"/*FBT_CALL*/),onClick:function(a){var d=b("bs_caml_format").caml_int64_of_string(c);b("promiseDone")(b("LSTransaction.bs").run(A,function(a){return b("LSOptimisticUnarchiveThread")(d,b("LS.bs").make(a))},"readWrite"),void 0,void 0)},icon:b("MWThreadListHoverButtonDropdownMenuIcons.bs").UnhideConversation.icon}):null,Q]})}else L=null;return i.jsxs(b("MWMenu.react"),{children:[N,m!==b("MessengerWebEntryPoint").INBOX?i.jsx(b("MWMenuItem.react"),{primaryText:g._(/*FBT_CALL*/"Open in Messenger"/*FBT_CALL*/),href:b("XCometMessengerControllerRouteBuilder").buildURL({thread_key:c}),onClick:o,icon:b("MWThreadListHoverButtonDropdownMenuIcons.bs").AppMessenger.icon}):null,b("cr:1875067")==null?null:b("bs_curry")._1(b("cr:1875067").get,{icon:b("MWThreadListHoverButtonDropdownMenuIcons.bs").AppMessenger.icon,threadID:b("MWChatThreadId.bs").getFBID(f)}),O,s!==void 0?i.jsx(b("MWMenuItem.react"),{primaryText:g._(/*FBT_CALL*/"View profile"/*FBT_CALL*/),href:s,onClick:o,icon:b("MWThreadListHoverButtonDropdownMenuIcons.bs").ViewProfile.icon}):null,!(b("cr:10885")==null)&&H?i.jsx(b("cr:10885").make,{fbid:c,entryPoint:B,onPress:function(a){b("bs_curry")._1(p,a);return b("bs_curry")._1(o,a)}}):null,z.length!==0?i.jsxs(i.Fragment,{children:[i.jsx(b("CometMenuSeparator.react"),{}),z]}):null,i.jsx(j,{callData:{call_state:b("RTCCallState.bs").ofLsRtcCallState(n.ongoingCallState,n.threadType),initiator_fbid:null,server_info_data:t},fbid:c}),L,I&&J?i.jsx(b("MWCMReportGroupToAdminMenuItem.bs").make,{thread:n}):null,m===b("MessengerWebEntryPoint").INBOX?i.jsx(i.Fragment,{children:i.jsx(b("MWInboxInfoFRXItem.bs").make,{thread:n,children:function(c,a,d,e){return i.jsx(b("MWMenuItem.react"),{primaryText:d,onClick:function(a){return b("bs_curry")._1(c,void 0)},icon:b("MWThreadListHoverButtonDropdownMenuIcons.bs").SomethingIsWrong.icon,ref:a})}})}):null,C?i.jsx(b("MWLSLeaveGroupMenuItem.bs").make,{thread:n,showIcon:!0,shouldNavigate:a}):null],withArrow:!0})}e.exports=a;d=b("cr:1875067");e=a;f.RTWebJoinOngoingCallMenuItem=c;f.$GetMessengerDesktopMenuItem$requireCond=b("cr:1875067");f.getMessengerDesktopMenuItem=d;f.chatMuteConversationDialogResource=k;f.noOp=l;f.$MAWArchiveSecureThreadMenuItem$requireCond=b("cr:11466");f.$MAWMarkThreadAsReadMenuItem$requireCond=b("cr:11437");f.$MAWSecureConversationThreadListMenuItem$requireCond=b("cr:10885");f.$MAWThreadListHoverButtonDropdownMenuDeleteSecureThreadButton$requireCond=b("cr:10889");f.$MAWThreadListHoverButtonDropdownMenuUnmuteThreadMenuItem$requireCond=b("cr:10890");f.make=e}),null);
__d("isAdsExcelAddinURI",[],(function(a,b,c,d,e,f){var g=new RegExp("(^|\\.)fbaddins\\.com$","i"),h=["https"];function a(a){if(a.isEmpty()&&a.toString()!=="#")return!1;return!a.getDomain()&&!a.getProtocol()?!1:h.indexOf(a.getProtocol())!==-1&&g.test(a.getDomain())}f["default"]=a}),66);
__d("isValidAsyncSignalURI",[],(function(a,b,c,d,e,f){var g=new RegExp("((^|\\.)instagram\\.com$)|((^|\\.)wit\\.ai$)|((^|\\.)accountkit\\.com$)","i"),h=["https"];function a(a){if(a.isEmpty()&&a.toString()!=="#")return!1;return!a.getDomain()&&!a.getProtocol()?!1:h.includes(a.getProtocol())&&g.test(a.getDomain())}f["default"]=a}),66);
__d("AsyncSignal",["ErrorGuard","Promise","QueryString","Run","TimeSlice","TrackingConfig","URI","ZeroRewrites","getAsyncParams","isAdsExcelAddinURI","isFacebookURI","isMessengerDotComURI","isValidAsyncSignalURI","isWorkplaceDotComURI","memoize","promiseDone"],(function(a,b,c,d,e,f){var g,h,i;function a(a,c){this.data=c||{},this.uri=a.toString(),b("TrackingConfig").domain&&this.uri.charAt(0)=="/"&&(this.uri=b("TrackingConfig").domain+this.uri)}a.prototype.setHandler=function(a){this.handler=a;return this};a.prototype.setTimeout=function(a){this.timeout=a;return this};a.prototype.send=function(){b("TimeSlice").guard(this._send.bind(this),"AsyncSignal send",{propagationType:b("TimeSlice").PropagationType.ORPHAN})()};a.prototype._send=function(){var a=this.handler,c=this.data;c.asyncSignal=(Math.random()*1e4|0)+1;var d=b("ZeroRewrites").rewriteURI(new(g||(g=b("URI")))(this.uri));d=b("isFacebookURI")(d)||b("isMessengerDotComURI")(d)||b("isAdsExcelAddinURI")(d)||b("isWorkplaceDotComURI")(d)||b("isValidAsyncSignalURI")(d);if(d)Object.assign(c,b("getAsyncParams")("POST"));else throw new Error("'"+this.uri+"' is an external URL, you should not send async signals to offsite links.");var e=b("QueryString").appendToUrl(this.uri,c);i||(i=new(b("Promise"))(function(a){b("Run").onAfterLoad(a)}));d=i.then(function(){return new(b("Promise"))(function(a,b){var c=new Image();c.onload=a;c.onerror=c.onabort=b;c.src=e})});if(a){var f=!1,j=b("memoize")(function(){(h||(h=b("ErrorGuard"))).applyWithGuard(a,null,[f])});b("promiseDone")(d.then(function(){f=!0,j()},j));this.timeout&&setTimeout(j,this.timeout)}return this};e.exports=a}),null);
__d("StringTransformations",[],(function(a,b,c,d,e,f){"use strict";a={unicodeEscape:function(a){return a.replace(/[^A-Za-z0-9\-\.\:\_\$\/\+\=]/g,function(a){a=a.charCodeAt(0).toString(16);return"\\u"+("0000"+a.toUpperCase()).slice(-4)})},unicodeUnescape:function(a){return a.replace(/(\\u[0-9A-Fa-f]{4})/g,function(a){return String.fromCharCode(parseInt(a.slice(2),16))})}};f["default"]=a}),66);
__d("Chromedome",["fbt"],(function(a,b,c,d,e,f,g,h){function a(a){if(top!==window||document.domain==null||!/(^|\.)facebook\.(com|sg)$/.test(document.domain))return;a=h._(/*FBT_CALL*/"Stop!"/*FBT_CALL*/);var b=h._(/*FBT_CALL*/"This is a browser feature intended for developers. If someone told you to copy-paste something here to enable a Facebook feature or \"hack\" someone's account, it is a scam and will give them access to your Facebook account."/*FBT_CALL*/),c=h._(/*FBT_CALL*/"See {url} for more information."/*FBT_CALL*/,[h._param("url","https://www.facebook.com/selfxss")]);if(window.chrome||window.safari){var d="font-family:helvetica; font-size:20px; ";[[a,d+"font-size:50px; font-weight:bold; color:red; -webkit-text-stroke:1px black;"],[b,d],[c,d],["",""]].map(function(a){window.setTimeout(console.log.bind(console,"\n%c"+a[0].toString(),a[1]))})}else{a=[""," .d8888b.  888                       888","d88P  Y88b 888                       888","Y88b.      888                       888",' "Y888b.   888888  .d88b.  88888b.   888','    "Y88b. 888    d88""88b 888 "88b  888','      "888 888    888  888 888  888  Y8P',"Y88b  d88P Y88b.  Y88..88P 888 d88P",' "Y8888P"   "Y888  "Y88P"  88888P"   888',"                           888","                           888","                           888"];d=(""+b.toString()).match(/.{35}.+?\s+|.+$/g);if(d!=null){b=Math.floor(Math.max(0,(a.length-d.length)/2));for(var e=0;e<a.length||e<d.length;e++){var f=a[e];a[e]=f+new Array(45-f.length).join(" ")+(d[e-b]||"")}}console.log("\n\n\n"+a.join("\n")+"\n\n"+c.toString()+"\n");return}}g.start=a}),98);
__d("WebStorageMonster",["AsyncRequest","CacheStorage","Event","ExecutionEnvironment","NetworkStatus","StringTransformations","UserActivity","WebStorage","WebStorageMonsterLoggingURI","ifRequired","isEmpty","killswitch","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";var h=1e4,i=5,j=!1;function k(a){var b={};for(var d in a){var e=a.getItem(d),f=c("StringTransformations").unicodeEscape(d);typeof e==="string"&&(b[f]=e.length)}return b}function l(a){var b=c("WebStorage").getLocalStorage();if(!b||a==null||!a.keys)return;o._getLocalStorageKeys().forEach(function(c){a.keys.includes(c)&&b.removeItem(c)})}function m(a){var b=c("WebStorage").getLocalStorage();b&&o._getLocalStorageKeys().forEach(function(c){a.some(function(a){return new RegExp(a).test(c)})||b.removeItem(c)})}function n(a,b){a===void 0&&(a=!1);b===void 0&&(b=h);if(c("UserActivity").isActive(b)){var d=Math.max(h,Math.floor(b/i));c("setTimeoutAcrossTransitions")(function(){n(a,d)},d)}else{o.cleanNow(a);var e=!c("killswitch")("WEB_STORAGE_MONSTER_DONT_RESCHEDULE_ON_RUN");if(e){var f=b*i;c("setTimeoutAcrossTransitions")(function(){n(a,f)},f)}}}var o={registerLogoutForm:function(a,b){c("Event").listen(a,"submit",function(a){o.cleanOnLogout(b)})},schedule:function(a){a===void 0&&(a=!1);if(j||!c("ExecutionEnvironment").isInBrowser)return;j=!0;n(a)},cleanNow:function(a){a===void 0&&(a=!1);var b=Date.now(),d={},e=c("WebStorage").getLocalStorage();e&&(d.local_storage=k(e));e=c("WebStorage").getSessionStorage();e&&(d.session_storage=k(e));e=!c("isEmpty")(d);var f=Date.now();d.logtime=f-b;if(e){var g,h=c("WebStorageMonsterLoggingURI").uri;if(h===null)return null;var i=function(){new(c("AsyncRequest"))(h).setData(d).setHandler(function(b){b=b.getPayload();b&&b.keys&&(b.keys=b.keys.map(c("StringTransformations").unicodeUnescape));a||l(b);c("NetworkStatus").reportSuccess()}).setErrorHandler(function(){c("NetworkStatus").reportError()}).setOption("retries",2).send()};if(c("NetworkStatus").isOnline())i();else{f=function(a){a=a.online;a&&(i(),g.remove())};g=c("NetworkStatus").onChange(f)}}},cleanOnLogout:function(a){c("CacheStorage").disablePersistentWrites();c("ifRequired")("AsyncStorage",function(a){a.disablePersistentWrites()});a?m(a):m([]);a=c("WebStorage").getSessionStorage();a&&a.clear();c("ifRequired")("AsyncStorage",function(a){a.clear(function(){})})},_getLocalStorageKeys:function(){var a=c("WebStorage").getLocalStorage();return a?Object.keys(a):[]}};a=o;g["default"]=a}),98);
__d("Queue",[],(function(a,b,c,d,e,f){var g={};a=function(){function a(a){this._timeout=null,this._interval=(a==null?void 0:a.interval)||0,this._processor=a==null?void 0:a.processor,this._queue=[],this._stopped=!0}var b=a.prototype;b._dispatch=function(a){var b=this;a===void 0;if(this._stopped||this._queue.length===0)return;a=this._processor;if(a==null){this._stopped=!0;throw new Error("No processor available")}var c=this._interval;if(c!=null)a.call(this,this._queue.shift()),this._timeout=setTimeout(function(){return b._dispatch()},c);else while(this._queue.length)a.call(this,this._queue.shift())};b.enqueue=function(a){this._processor&&!this._stopped?this._processor(a):this._queue.push(a);return this};b.start=function(a){a&&(this._processor=a);this._stopped=!1;this._dispatch();return this};b.isStarted=function(){return!this._stopped};b.dispatch=function(){this._dispatch(!0)};b.stop=function(a){this._stopped=!0;a&&this._timeout!=null&&clearTimeout(this._timeout);return this};b.merge=function(a,b){if(b){(b=this._queue).unshift.apply(b,a._queue)}else{(b=this._queue).push.apply(b,a._queue)}a._queue=[];this._dispatch();return this};b.getLength=function(){return this._queue.length};a.get=function(b,c){var d;b in g?d=g[b]:d=g[b]=new a(c);return d};a.exists=function(a){return a in g};a.remove=function(a){return delete g[a]};return a}();f["default"]=a}),66);/*FB_PKG_DELIM*/
__d("getPrefersReducedMotion",[],(function(a,b,c,d,e,f){"use strict";var g=null;function h(a){g=a.matches}function a(){if(g==null)if(typeof window.matchMedia==="function"){var a=matchMedia("(prefers-reduced-motion: reduce)");g=a.matches;a.addListener(h)}else g=!1;return g}f["default"]=a}),66);
__d("BaseMultiPageView.react",["BaseMultiStepContainerContext","FocusInertRegion.react","FocusRegion.react","HiddenSubtreeContextProvider.react","Locale","emptyFunction","focusScopeQueries","getPrefersReducedMotion","gkx","mergeRefs","react","stylex","testID","useDynamicCallbackDANGEROUS"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useEffect,k=b.useImperativeHandle,l=b.useMemo,m=b.useReducer,n=b.useRef,o=d("Locale").isRTL(),p=300,q=c("getPrefersReducedMotion")()||!c("gkx")("1485"),r={page:{display:"j83agx80",flexDirection:"cbu4d94t",flexGrow:"buofh1pr",transformOrigin:"dd2scrzq",willChange:"srfxjet1"},pageInactive:{display:"mkhogb32",left:"j34wkznp",pointerEvents:"hzruof5a",position:"pmk7jnqg",top:"kr520xx4",zIndex:"tkr6xdv7"},root:{alignItems:"gs1a9yip",clipPath:"fj0cixhj",display:"j83agx80",flexDirection:"cbu4d94t",position:"l9j0dhe7",transformOrigin:"dd2scrzq",willChange:"ejg0drik"}};function s(a){return Math.cos((a+1)*Math.PI)/2+.5}var t=0;function u(){return t++}var v=[{key:u(),type:"initial_page"}];function w(a,b){var c=a.filter(function(a){return a.type!=="pushed_page"||!a.removed});switch(b.type){case"push_page":return c.concat([{component:b.component,direction:b.direction,key:u(),removed:!1,type:"pushed_page"}]);case"clear_removed_pages":return c;case"pop_page":var d=c[c.length-1];if(d.type==="pushed_page")return[].concat(c.slice(0,b.index!=null?Math.max(b.index+1,1):-1),[babelHelpers["extends"]({},d,{removed:!0})])}return a}function a(a,b){var e=a.children,f=a.disableAutoFocus,g=f===void 0?!1:f;f=a.disableAutoRestoreFocus;var t=f===void 0?!1:f;f=a.disableFocusContainment;var u=f===void 0?!1:f;f=a.disableInitialAutoFocus;f=f===void 0?!1:f;var x=a.fallback,y=a.imperativeRef,z=a.onPageChange;z=z===void 0?c("emptyFunction"):z;var A=a.pageXStyle,B=a.placeholderComponent;a=a.xstyle;var C=m(w,v),D=C[0],E=C[1],F=n(null),G=n(null),H=n(null),I=n(!1),J=f&&!I.current,K=l(function(){var a=null,b=0;for(var c=0;c<D.length;c++){var d=D[c];d.type==="pushed_page"&&(a=d.direction,d.removed?a=a==="start"?"end":"start":b=c)}return{animationDirection:a,currentIndex:b}},[D]),L=c("useDynamicCallbackDANGEROUS")(z);j(function(){L&&L(K.currentIndex)},[L,K.currentIndex]);var M=i(function(){var a=F.current,b=G.current;b!=null?H.current=b.getBoundingClientRect():a!=null&&(H.current=a.getBoundingClientRect())},[]),N=i(function(a,b){M(),I.current=!0,E({component:b,direction:a,type:"push_page"})},[M]),O=i(function(a){M(),E({index:a==null?void 0:a.index,type:"pop_page"})},[M]),P=i(function(a){return N("end",a)},[N]),Q=l(function(){return{fallback:x,placeholderComponent:B,popPage:O,pushPage:P}},[x,B,O,P]);k(y,function(){return{addPage:N,popPage:O}},[O,N]);var R=i(function(a){var b=G.current,c=F.current;if(a!=null){var d=H.current,e=a.getBoundingClientRect(),f=K.animationDirection;if(!q&&b!=null&&b!==a&&d!=null&&c!=null&&f!=null){f=(f==="start"?-1:1)*(o?-1:1);b.style.cssText="";a.style.cssText="";b.style.setProperty("display","flex");b.style.setProperty("width",d.width+"px");b.style.setProperty("height",d.height+"px");a.style.removeProperty("display");a.style.removeProperty("width");a.style.removeProperty("height");var g=Math.round(60*(p/1e3)),h=[],i=[],j=[];for(var k=0;k<=g;k++){var l=k/g,m=s(l),n=d.width/e.width,r=d.height/e.height;n=n+(1-n)*m;r=r+(1-r)*m;var t=d.left-e.left,u=d.top-e.top;t=t*(1-m);var v=u*(1-m),w=Math.min(d.width,e.width),x=w*-f*m;w=w*f*(1-m);m=u-v;u=-v;h.push({easing:"step-end",offset:l,transform:"translateX("+t+"px) translateY("+v+"px) scaleX("+n+") scaleY("+r+")"});i.push({easing:"step-end",offset:l,transform:"scaleX("+1/n+") scaleY("+1/r+") translateX("+x+"px) translateY("+m+"px)"});j.push({easing:"step-end",offset:l,transform:"scaleX("+1/n+") scaleY("+1/r+") translateX("+w+"px) translateY("+u+"px)"})}a.animate(j,p);c.animate(h,p);b.animate(i,p);a.animate([{opacity:0},{opacity:1}],p);b.animate([{opacity:1},{opacity:0}],p).onfinish=function(){b.style.cssText="",E({type:"clear_removed_pages"})}}G.current=a}},[K.animationDirection]);C=l(function(){return c("mergeRefs")(F,b)},[b]);return h.jsx("div",babelHelpers["extends"]({className:c("stylex")(r.root,a),ref:C},c("testID")("BaseMultiStepContainer"),{children:D.map(function(a,b){return h.jsx("div",babelHelpers["extends"]({"aria-hidden":b!==K.currentIndex,className:c("stylex")(r.page,b!==K.currentIndex&&r.pageInactive,A),ref:b===K.currentIndex?R:null},c("testID")(b===0?"base-multistep-container-first-step":null),{children:h.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:!g&&!J&&b===K.currentIndex?d("focusScopeQueries").headerOrTabbableScopeQuery:null,autoRestoreFocus:!t,containFocusQuery:u?null:d("focusScopeQueries").tabbableScopeQuery,recoverFocusQuery:d("focusScopeQueries").headerOrTabbableScopeQuery,children:h.jsx(c("FocusInertRegion.react"),{disabled:b===K.currentIndex,children:h.jsx(c("HiddenSubtreeContextProvider.react"),{isHidden:b!==K.currentIndex,children:h.jsx(c("BaseMultiStepContainerContext").Provider,{value:Q,children:a.type==="initial_page"?typeof e==="function"?e(P):e:a.type==="pushed_page"?h.createElement(a.component,{onReturn:O}):null})})})})}),a.key)})}))}a.displayName=a.name+" [from "+f.id+"]";e=h.forwardRef(a);g["default"]=e}),98);
__d("CometSeparatorMenuItem.react",["CometMenuItemBaseRoleContext","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext,j={separator:{borderTop:"l6v480f0",marginTop:"aahdfvyu",marginEnd:"wkznzc2l",marginBottom:"tvmbv18p",marginStart:"dhix69tm"}};function a(a,b){a=a.xstyle;var d=i(c("CometMenuItemBaseRoleContext"));return h.jsx("div",{className:c("stylex")([j.separator,a]),ref:b,role:d==="menuitem"?"separator":"presentation"})}a.displayName=a.name+" [from "+f.id+"]";b=h.forwardRef(a);g["default"]=b}),98);
__d("CometMenuBase.react",["fbt","ix","BaseScrollableArea.react","CometErrorBoundary.react","CometFocusGroupFirstLetterNavigation","CometListCellStrict.react","CometMenuFocusGroup","CometMenuItemBaseRoleContext","CometSeparatorMenuItem.react","FocusRegion.react","TetraTextPairing.react","fbicon","focusScopeQueries","react","stylex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=145,l={listItem:{borderTopStartRadius:"jk6sbkaj",borderTopEndRadius:"kdgqqoy6",borderBottomEndRadius:"ihh4hy1g",borderBottomStartRadius:"qttc61fc",display:"j83agx80",flexDirection:"btwxx1t3",marginTop:"kvgmc6g5",marginEnd:"oi9244e8",marginBottom:"oygrvhab",marginStart:"h676nmdw",paddingTop:"pybr56ya",paddingEnd:"dflh9lhu",paddingBottom:"f10w8fjw",paddingStart:"scb9dxdr"},root:{alignItems:"gs1a9yip",boxSizing:"rq0escxv",display:"j83agx80",flexDirection:"cbu4d94t",paddingEnd:"rz4wbd8a",paddingStart:"a8nywdso",paddingTop:"smdty95z",paddingBottom:"c1zf3a5g"},sizeFull:{marginEnd:"gu2zta1c",width:"k4urcfbm"},sizeNormal:{width:"geg40m2u"},sizeSmall:{width:"jbcpqwzg"}},m="menu",n={listbox:"option",menu:"menuitem"};function a(a){var b=a.children,e=a.footer,f=a.header,g=a.maxHeight,o=a.role;o=o===void 0?m:o;a=a.size;a=a===void 0?"normal":a;var p=0,q=j.Children.toArray(b).map(function(a){if(a==null)return null;var b=p++;return a.type===c("CometSeparatorMenuItem.react")?a:j.jsx(c("CometErrorBoundary.react"),{children:a},b)});o=n[o];return j.Children.count(b)>0?j.jsx(c("BaseScrollableArea.react"),{horizontal:!1,style:g!=null?{maxHeight:Math.max(g,k)}:void 0,vertical:!0,xstyle:[l.root,a==="full"&&l.sizeFull,a==="normal"&&l.sizeNormal,a==="small"&&l.sizeSmall],children:j.jsxs(c("CometMenuItemBaseRoleContext").Provider,{value:o,children:[f!=null?j.jsxs(j.Fragment,{children:[f.onPressBack!=null?j.jsx(c("CometListCellStrict.react"),{addOnStart:{"aria-label":h._(/*FBT_CALL*/"Back"/*FBT_CALL*/),icon:d("fbicon")._(i("512665"),24),onPress:f.onPressBack,type:"icon"},addOnStartVerticalAlign:"center",emphasized:!1,headline:f.title,level:3,meta:f.meta,paddingHorizontal:8}):j.jsx("div",{className:c("stylex")([l.listItem]),children:j.jsx(c("TetraTextPairing.react"),{body:f.body,headline:f.title,level:3,meta:f.meta,reduceEmphasis:!0})}),j.jsx(c("CometSeparatorMenuItem.react"),{})]}):null,j.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:(f==null?void 0:f.onPressBack)?d("focusScopeQueries").tabbableScopeQuery:null,children:j.jsx(c("CometMenuFocusGroup").FocusGroup,{onNavigate:d("CometFocusGroupFirstLetterNavigation").handleFirstLetterNavigation,orientation:"vertical",preventScrollOnFocus:!1,tabScopeQuery:d("focusScopeQueries").tabbableScopeQuery,wrap:!0,children:q})}),e!=null?j.jsxs(j.Fragment,{children:[j.jsx(c("CometSeparatorMenuItem.react"),{}),j.jsx("div",{className:c("stylex")(l.listItem),children:j.jsx(c("TetraTextPairing.react"),{level:3,meta:e.text})})]}):null]})}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometMenuBaseWithPopover.react",["BaseContextualLayerAvailableHeightContext","BaseMultiPageView.react","CometMenuBase.react","CometPopover.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext,j=15,k="menu";function a(a,b){var d=a.children,e=a.id,f=a.label,g=a.role;g=g===void 0?k:g;var l=a.arrowAlignment,m=a.withArrow;m=m===void 0?!1:m;var n=a.testid;n=n===void 0?"comet-menu":n;n=a.truncate;n=n===void 0?!1:n;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","id","label","role","arrowAlignment","withArrow","testid","truncate"]);var o=i(c("BaseContextualLayerAvailableHeightContext"));m&&o!=null&&(o-=j);return h.Children.count(d)>0?h.jsx(c("CometPopover.react"),{arrowAlignment:l,id:e,label:f,ref:b,role:g,testid:void 0,withArrow:m,children:h.jsx(c("BaseMultiPageView.react"),{disableAutoFocus:!0,disableFocusContainment:!0,children:h.jsx(c("CometMenuBase.react"),babelHelpers["extends"]({},a,{children:d,maxHeight:n?(l=o)!=null?l:0:void 0,role:g}))})}):null}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(h.forwardRef(a));g["default"]=b}),98);
__d("CometMenu.react",["CometMenuBaseWithPopover.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a,b){return h.jsx(c("CometMenuBaseWithPopover.react"),babelHelpers["extends"]({},a,{ref:b}))}a.displayName=a.name+" [from "+f.id+"]";b=h.forwardRef(a);g["default"]=b}),98);
__d("CometMenuItemSelectable_DEPRECATED.react",["ix","CometIcon.react","CometMenuItemBase.react","CometMenuItemIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(a){return!a?null:i.jsx(c("CometIcon.react"),{color:"highlight",icon:d("fbicon")._(h("477820"),20)})}j.displayName=j.name+" [from "+f.id+"]";function a(a,b){a.aux;var d=a.disabled,e=a.icon,f=a.iconColor,g=a.iconStyle,h=a.isSelected,k=babelHelpers.objectWithoutPropertiesLoose(a,["aux","disabled","icon","iconColor","iconStyle","isSelected"]);if(e)return i.jsx(c("CometMenuItemBase.react"),babelHelpers["extends"]({},k,{"aria-checked":h,aux:a.aux!=null?a.aux(h,d):j(h),disabled:d,iconNode:i.jsx(c("CometMenuItemIcon.react"),{icon:e,iconColor:f,use:g}),ref:b}));else{e=a.aux!=null?a.aux(h,d):j(h);return i.jsx(c("CometMenuItemBase.react"),babelHelpers["extends"]({},k,{"aria-checked":h,aux:e?i.jsx("div",{className:"irj2b8pg ew0dbk1b",children:e}):void 0,disabled:d,ref:b}))}}a.displayName=a.name+" [from "+f.id+"]";b=i.forwardRef(a);g["default"]=b}),98);
__d("SoundPlayer",["ODS","URI","createArrayFromMixed"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map();function i(a){var b=new(c("URI"))(a);return b.getDomain()?a:new(c("URI"))(window.location.href).setPath(b.getPath()).toString()}function j(a){a=new(c("URI"))(a).getPath();if(/\.mp3$/.test(a))return"audio/mpeg";return/\.og[ga]$/.test(a)?"audio/ogg":""}var k=function(a,b){for(var a=c("createArrayFromMixed")(a),d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;if(h.has(f))return;var g=document.createElement("audio");if(!g||!g.canPlayType||!g.canPlayType(j(f)))continue;g.preload="auto";g.src=i(f);document.body&&document.body.appendChild(g);h.set(f,g);(b==null?void 0:b.onPreload)!=null&&b.onPreload(g);return}};a=function(a,b){b===void 0&&(b={});for(var a=c("createArrayFromMixed")(a),e=Array.isArray(a),f=0,a=e?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=a.length)break;g=a[f++]}else{f=a.next();if(f.done)break;g=f.value}g=g;h.has(g)||k(g,b.callbacks);g=h.get(g);if(!g)continue;b.loop&&g.setAttribute("loop","");b.volume&&(g.volume=b.volume);g=g.play();g!=null&&typeof g.then==="function"?g.then(function(a){d("ODS").bumpEntityKey(2966,"sound_player","play.success")})["catch"](function(a){d("ODS").bumpEntityKey(2966,"sound_player","play.error")}):d("ODS").bumpEntityKey(2966,"sound_player","non_promise");return}};b=function(a){for(var a=c("createArrayFromMixed")(a),b=Array.isArray(a),d=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(b){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;e=h.get(e);if(e){e.pause();return}}};e=function(a){for(var a=c("createArrayFromMixed")(a),b=Array.isArray(a),d=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(b){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;var f=h.get(e);f&&(f.pause(),f.removeAttribute("src"),f.src=i(e))}};g.preload=k;g.play=a;g.pause=b;g.stop=e}),98);
__d("SoundSynchronizer",["SoundPlayer","WebStorage","createArrayFromMixed"],(function(a,b,c,d,e,f){var g,h="fb_sounds_playing3";function i(){var a=(g||(g=b("WebStorage"))).getLocalStorage();if(a)try{a=a[h];if(a){a=JSON.parse(a);if(Array.isArray(a))return a}}catch(a){}return[]}function j(a){var c=(g||(g=b("WebStorage"))).getLocalStorage();if(c){var d=i();d.push(a);while(d.length>5)d.shift();try{c[h]=JSON.stringify(d)}catch(a){}}}function k(a){return i().some(function(b){return b===a})}a={play:function(a,c,d,e){a=b("createArrayFromMixed")(a);c=c||a[0]+Math.floor(Date.now()/1e3);if(k(c))return;b("SoundPlayer").play(a,{loop:!!d,callbacks:e});j(c)},isSupported:function(){return!!(g||(g=b("WebStorage"))).getLocalStorage()}};e.exports=a}),null);
__d("SoundRPC",["FBJSON","SecurePostMessage","SoundSynchronizer","cr:950105"],(function(a,b,c,d,e,f,g){function h(a,b,c,e){d("SoundSynchronizer").play(a,b,c,e)}function a(a,b,c,e){b={name:"SoundRPC",data:{paths:b,sync:c,loop:e}};d("SecurePostMessage").sendMessageAllowAnyOrigin_UNSAFE(a,d("FBJSON").stringify(b))}function c(){return!!window.postMessage}function e(){var a=function(a){if(!/\.facebook.com$/.test(a.origin))return;var b={};try{a=a.data;typeof a==="string"&&(b=d("FBJSON").parse(a))}catch(a){}a=b;b=a.name;a=a.data;b==="SoundRPC"&&a!=null&&typeof a==="object"&&h(a.paths,a.sync,a.loop)};b("cr:950105")!=null?b("cr:950105").listen(window,"message",a):window.addEventListener("message",a)}g.playLocal=h;g.playRemote=a;g.supportsRPC=c;g._listen=e}),98);
__d("Sound",["SoundInitialData","SoundPlayer","SoundRPC","SoundSynchronizer","URI","UserAgent_DEPRECATED","Visibility","isFacebookURI"],(function(a,b,c,d,e,f,g){var h=null,i=!1;function a(a){}function b(a,b,c,e){h?d("SoundRPC").playRemote(h.contentWindow,a,b,!1):d("SoundRPC").playLocal(a,b,c,e),i=!0}function e(){return i}function f(a,b,d){if(!i&&c("Visibility").isHidden())return;this.play(a,b,d)}function j(a){h||d("SoundPlayer").stop(a)}var k=new(c("URI"))(location.href);k.getSubdomain()&&k.getSubdomain()!=="comet"&&k.getSubdomain()!=="www"&&k.setSubdomain("www");var l=k.getDomain();function m(){if(d("UserAgent_DEPRECATED").ie()<9)return!1;return c("SoundInitialData").RPC_DISABLED?!1:d("SoundSynchronizer").isSupported()&&d("SoundRPC").supportsRPC()}c("isFacebookURI")(k)&&location.host!==l&&m()&&(h=document.createElement("iframe"),h.setAttribute("src","//"+l+"/sound_iframe.php"),h.style.display="none",document.body&&document.body.appendChild(h));g.init=a;g.play=b;g.hasPlayedSoundBefore=e;g.playOnlyIfImmediate=f;g.stop=j}),98);/*FB_PKG_DELIM*/
__d("CometTheme.react",["BaseTheme.react","CometStyleXSheet","react","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo,j={root:{boxSizing:"cjfnh4rs",position:"hwddc3l5",zIndex:"ff7izwzc"}},k={dark:d("CometStyleXSheet").DARK_MODE_CLASS_NAME,light:d("CometStyleXSheet").LIGHT_MODE_CLASS_NAME,type:"CLASSNAMES"};function a(a){var b=a.theme,d=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["theme","xstyle"]);var e=c("useCurrentDisplayMode")(),f=i(function(){return b==="invert"?e==="dark"?"light":"dark":b},[e,b]);return h.jsx(c("BaseTheme.react"),babelHelpers["extends"]({config:k,displayMode:f,xstyle:[j.root,d]},a))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ZenonDialogContext",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext({hide:c("emptyFunction"),hideAll:c("emptyFunction"),hideByID:c("emptyFunction"),show:c("emptyFunction"),showByID:c("emptyFunction"),toggle:c("emptyFunction")});e=b;g["default"]=e}),98);
__d("useZenonDialogSetters",["react"],(function(a,b,c,d,e,f,g){"use strict";d("react");var h=d("react").useMemo;function a(a,b){return h(function(){return{hide:function(){a(null)},hideAll:function(){a(null),b([])},hideByID:function(a){b(function(b){return b.filter(function(b){return b.key!==a})})},show:a,showByID:function(a,c){b(function(b){var d=b.findIndex(function(b){return b.key===a}),e={key:a,node:c};if(d===-1)return[].concat(b,[e]);else return[].concat(b.slice(0,d),b.slice(d+1),[e])})},toggle:function(b){b===void 0&&(b=!1),b||a(null)}}},[a,b])}g["default"]=a}),98);
__d("ZenonDialogProvider.react",["ZenonDialogContext","react","useZenonDialogSetters"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useState;function a(a){a=a.children;var b=i(null),d=b[0];b=b[1];var e=i([]),f=e[0];e=e[1];b=c("useZenonDialogSetters")(b,e);return h.jsxs(c("ZenonDialogContext").Provider,{value:b,children:[a,d,f.map(function(a){a=a.node;return a})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ZenonCallLogger",["ZenonInfraActionsLogger","gkx","uuid"],(function(a,b,c,d,e,f,g){"use strict";var h=new Set(["setMediaStats","updateE2EEStats","updateIceInfo","setRemoteSdpOffer"]),i=new Set(["atLeastOneParticipantAlerted","atLeastOneParticipantAnswered"]);a=function(){function a(a,b){var d,e=this;this.$1=[];this.$3=new Set();this.$2={localCallID:c("uuid")(),peerID:a.peerID,sharedCallID:(d=a.serverInfoData)!=null?d:a.callID};b.forEach(function(b){return e.$1.push(new b(a,function(a){Object.assign(e.$2,a)}))})}var b=a.prototype;b.log=function(a){this.$4(a),this.$1.forEach(function(b){b.processEvent(a)})};b.$4=function(a){if(!c("gkx")("2890"))return;if(h.has(a.name))return;if(i.has(a.name)&&this.$3.has(a.name))return;this.$3.add(a.name);c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"[ZP] ZenonCallLogger event: "+a.name})};b.getLogIdentifiers=function(){return this.$2};return a}();g["default"]=a}),98);
__d("ZenonCallSummaryUploader",["cr:11423"],(function(a,b,c,d,e,f,g){"use strict";function a(){return b("cr:11423").getLoggableSummaries()}function c(){b("cr:11423").logCallSummaries()}function d(a){b("cr:11423").logCallSummary(a)}g.getLoggableSummaries=a;g.logCallSummaries=c;g.logCallSummary=d}),98);
__d("ZenonMqttUtil",["FBMqttChannel","IGDOverLSMqttChannel","ZenonAppProvider"],(function(a,b,c,d,e,f,g){"use strict";function a(){if(d("ZenonAppProvider").isInstagramApp())return c("IGDOverLSMqttChannel");else return c("FBMqttChannel")}g.getMqttChannel=a}),98);
__d("ZenonSignalingConstants",[],(function(a,b,c,d,e,f){"use strict";a="/rtc_multi";b="D3F4U1T_F8_TR4CK";f.RTC_MULTI_MQTT_TOPIC=a;f.DEFAULT_TRACK=b}),66);
__d("ZenonMqttMWMessageSender",["Promise","ZenonDebugLogger","ZenonMWMessageLogger","ZenonMWMessageReliabilityLogger","ZenonMWMessageTranslator","ZenonMqttUtil","ZenonSignalingConstants","ZenonUserActionLogger","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h=15e3;a=function(){function a(){}var e=a.prototype;e.waitForMqttConnected=function(){return new(b("Promise"))(function(a,b){var e=d("ZenonMqttUtil").getMqttChannel();if(e.getConnectionState()==="Connected")a();else{c("ZenonUserActionLogger").logCheckpoint({checkpoint:"MQTT not connected, deferring sending MWS message"});c("ZenonUserActionLogger").startTimer("MQTT not connected");var f={onMQTTStateChanged:function(b){b==="Connected"&&(c("ZenonUserActionLogger").stopTimer({checkpointName:"MQTT connected after deferring sending MWS message",timerName:"MQTT not connected"}),e.unsubscribeChannelEvents(f),window.clearTimeout(g),a())}},g=window.setTimeout(function(){e.unsubscribeChannelEvents(f),c("ZenonUserActionLogger").stopTimer({checkpointName:"MQTT never connected. Current status: "+e.getConnectionState(),timerName:"MQTT not connected"}),b("timeout")},h);e.subscribeChannelEvents(f)}})};e.asyncSendMessage=function(a){var e=this,f,g,h;return b("regeneratorRuntime").async(function(i){while(1)switch(i.prev=i.next){case 0:f=!0;i.next=3;return b("regeneratorRuntime").awrap(this.waitForMqttConnected()["catch"](function(a){c("ZenonUserActionLogger").logCheckpoint({checkpoint:"Not sending MWS message through MQTT because MQTT could not connect. Error: "+a}),f=!1}));case 3:if(f){i.next=5;break}return i.abrupt("return");case 5:g=c("ZenonDebugLogger").getInstance();d("ZenonMWMessageReliabilityLogger").logSendingMessage(a);g.logMWMessage("SENDING","MQTT",a);this.$2&&d("ZenonMWMessageLogger").logSentMessage(a,this.$2);h=d("ZenonMqttUtil").getMqttChannel();i.prev=10;i.next=13;return b("regeneratorRuntime").awrap(h.publish(d("ZenonSignalingConstants").RTC_MULTI_MQTT_TOPIC,JSON.stringify(a)).then(function(b){d("ZenonMWMessageReliabilityLogger").logSentMessage(a)},function(b){e.$3(a,b.toString())}));case 13:i.next=18;break;case 15:i.prev=15,i.t0=i["catch"](10),this.$3(a,i.t0.toString());case 18:case"end":return i.stop()}},null,this,[[10,15]])};e.$3=function(a,b){var e=c("ZenonDebugLogger").getInstance();b=b!=null?b:"MQTT Message Send Error";d("ZenonMWMessageReliabilityLogger").logSendMessageFailed(a);e.logSendMultiwayMessageFailure(b,a.jsonPayload.header.type)};e.sendMessage=function(a){a=d("ZenonMWMessageTranslator").toMWMessage(a);a!=null&&this.asyncSendMessage(a)};e.setMessageReceiver=function(a){this.$1=a};e.setLoggingEventHandler=function(a){this.$2=a};return a}();g["default"]=a}),98);
__d("XGroupCallSendMessageController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/groupcall/sendmessage/",{av:{type:"FBID"},webrtc_fbtrace:{type:"Int"}})}),null);
__d("XGroupCallSendRequestController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/groupcall/sendrequest/",{av:{type:"FBID"},webrtc_fbtrace:{type:"Int"}})}),null);
__d("ZenonXControllerSendRequest",["AsyncRequest","Promise","XGroupCallSendMessageController","XGroupCallSendRequestController","ZenonActorHooks","ZenonMWMessageReliabilityLogger","err","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=6e3;function i(a,e){return new(b("Promise"))(function(b,f){d("ZenonMWMessageReliabilityLogger").logSendingMessage(e),a.setMethod("POST").setAllowCrossPageTransition(!0).setHandler(function(a){d("ZenonMWMessageReliabilityLogger").logSentMessage(e),b(a)}).setErrorHandler(function(a){d("ZenonMWMessageReliabilityLogger").logSendRequestFailedFromHandler(e);a=a.getErrorDescription();a=new(c("err"))(a!=null?a.toString():"AsyncRequest error");f(a)}).setTimeoutHandler(h,function(){f("Timeout")}),a.send()})}function a(a){var b=c("XGroupCallSendMessageController").getURIBuilder();c("gkx")("2028434")&&b.setFBID("av",d("ZenonActorHooks").ZenonActor.getID());b=b.getURI();b=new(c("AsyncRequest"))(b).setData({message:JSON.stringify(a)});return i(b,a)}function e(a){var b=c("XGroupCallSendRequestController").getURIBuilder();c("gkx")("2028434")&&b.setFBID("av",d("ZenonActorHooks").ZenonActor.getID());b=b.getURI();b=new(c("AsyncRequest"))(b).setData({request:JSON.stringify(a)});return i(b,a)}g.sendMessage=a;g.sendRequest=e}),98);
__d("ZenonXControllerMWMessageSender",["ZenonDebugLogger","ZenonMWMessageLogger","ZenonMWMessageReliabilityLogger","ZenonMWMessageTranslator","ZenonMWMessageTypes","ZenonMWTranslatorUtils","ZenonXControllerSendRequest","regeneratorRuntime","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var e=a.prototype;e.handleResponse=function(a){a=a.payload;if(a==null)return;var b=a.header||null;a=a.body||null;var e=c("ZenonDebugLogger").getInstance();if(b!=null&&a!=null){b=d("ZenonMWTranslatorUtils").createMWMessage(b,a);d("ZenonMWMessageReliabilityLogger").logStartProcessingResponse(b);e.logMWMessage("RECEIVED","XController",b);d("ZenonMWMessageReliabilityLogger").logReceivedMessage(b);a=d("ZenonMWMessageTranslator").toSignalingMessage(b);if(this.$1!=null)this.$1(a),d("ZenonMWMessageReliabilityLogger").logProcessingMessage(b);else throw c("unrecoverableViolation")("Should never have null message receiver","rtc_www")}};e.asyncSendMessage=function(a){var e,f,g;return b("regeneratorRuntime").async(function(h){while(1)switch(h.prev=h.next){case 0:e=c("ZenonDebugLogger").getInstance();e.logMWMessage("SENDING","XController",a);this.$2&&d("ZenonMWMessageLogger").logSentMessage(a,this.$2);h.prev=3;if(!this.isResponseExpected(a)){h.next=11;break}h.next=7;return b("regeneratorRuntime").awrap(d("ZenonXControllerSendRequest").sendRequest(a));case 7:f=h.sent;this.handleResponse(f);h.next=13;break;case 11:h.next=13;return b("regeneratorRuntime").awrap(d("ZenonXControllerSendRequest").sendMessage(a));case 13:h.next=20;break;case 15:h.prev=15,h.t0=h["catch"](3),g=h.t0!=null?h.t0.toString():"Message Send Error",d("ZenonMWMessageReliabilityLogger").logSendMessageFailed(a),e.logSendMultiwayMessageFailure(g,a.jsonPayload.header.type);case 20:case"end":return h.stop()}},null,this,[[3,15]])};e.isResponseExpected=function(a){switch(a.jsonPayload.header.type){case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.JOIN:case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.CLIENT_MEDIA_UPDATE:case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.DATA_MESSAGE:case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.CLIENT_EVENT:case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.UNSUBSCRIBE:case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.UPDATE:case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.CONNECT:return!0;case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.RING:case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.SERVER_MEDIA_UPDATE:case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.NOTIFY:case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.CONFERENCE_STATE:case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.HANGUP:case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.ICE_CANDIDATE:case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.DISMISS:case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.ADD_PARTICIPANTS:case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.SUBSCRIPTION:case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.REMOVE_PARTICIPANTS:case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.PING:case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.P2P_PROTOCOL:return!1;default:return!1}};e.sendMessage=function(a){a=d("ZenonMWMessageTranslator").toMWMessage(a);a!=null&&this.asyncSendMessage(a)};e.setMessageReceiver=function(a){this.$1=a};e.setLoggingEventHandler=function(a){this.$2=a};return a}();g["default"]=a}),98);
__d("ZenonHybridMWMessageSender",["FBLogger","ZenonActorHooks","ZenonGraphQLMWMessageSender","ZenonInfraActionsLogger","ZenonMWMessageTranslator","ZenonMWMessageTypes","ZenonMqttMWMessageSender","ZenonXControllerMWMessageSender"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=new(c("ZenonXControllerMWMessageSender"))(),this.$2=new(c("ZenonGraphQLMWMessageSender"))(),this.$3=new(c("ZenonMqttMWMessageSender"))(),this.$4=!1,this.$4=d("ZenonActorHooks").ZenonActor.isPage()}var b=a.prototype;b.sendMessage=function(a){try{var b=d("ZenonMWMessageTranslator").toMWMessage(a),e=b==null?void 0:b.jsonPayload.header.type;if(a.getHeader().remoteSignalingID==null&&e!=null&&e!==d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.JOIN){c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"[ZP][DROP] No remoteSignalingID in message: "+e});c("FBLogger")("rtc_www").warn("[ZP][DROP] No remoteSignalingID in message: "+e);return}b!=null&&(this.$4?this.$2.asyncSendMessage(b):(this.$3.asyncSendMessage(b),e!==d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.DATA_MESSAGE&&this.$2.asyncSendMessage(b)))}catch(a){c("FBLogger")("rpweb").catching(a).warn("Error sending message from ZenonHybridMWMessageSender");throw a}};b.setMessageReceiver=function(a){this.$1.setMessageReceiver(a),this.$2.setMessageReceiver(a)};b.setLoggingEventHandler=function(a){this.$1.setLoggingEventHandler(a),this.$2.setLoggingEventHandler(a)};return a}();g["default"]=a}),98);
__d("TokenBucketRateLimit",["DateConsts"],(function(a,b,c,d,e,f,g){"use strict";var h=1e3;a=function(){function a(a,b){this.$1=a*h,this.$2=a*h,this.$3=Date.now(),this.$4=b*h}var b=a.prototype;b.take=function(a){a===void 0&&(a=1);a=a*h;this.$5();if(this.$2<a)return!1;this.$2-=a;return!0};b.$5=function(){if(this.$2>=this.$1)return;var a=Date.now(),b=(a-this.$3)/d("DateConsts").MS_PER_SEC;b=Math.round(b*this.$4);if(b===0)return;this.$2=Math.min(this.$1,this.$2+b);this.$3=a};return a}();g["default"]=a}),98);
__d("ZenonSDKRateLimiter",["TokenBucketRateLimit","ZenonPlatformRateLimitSitevarConfig"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=new Map()}var b=a.prototype;b.take=function(a,b){b===void 0&&(b=1);a=this.$2(a);return a.take(b)};b.$2=function(a){var b,d=this.$1.get(a);if(d)return d;b=(b=c("ZenonPlatformRateLimitSitevarConfig").buckets.get(a))!=null?b:c("ZenonPlatformRateLimitSitevarConfig")["default"];d=new(c("TokenBucketRateLimit"))(b.bucket_size,b.refill_rate);this.$1.set(a,d);return d};return a}();g["default"]=a}),98);
__d("ZenonP2PMessageValidator",["ZenonActorHooks","ZenonP2PMessageTypes","err"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=JSON.parse(a);var b=a.call_id,e=a.from,f=a.id,g=a.msg_type,h=a.payload,i=a.source,j=a.to;a=a.type;if(j!=null&&j.toString()!==d("ZenonActorHooks").ZenonActor.getID())throw c("err")("P2P message.to field "+j+" does not match logged in user ID "+d("ZenonActorHooks").ZenonActor.getID()+" for msg_type "+g);if(e&&b&&h){j={call_id:b,from:e,id:f,msg_type:g,payload:h,source:i,type:a};return j}else throw c("err")("P2P message does not have valid from, call_id, and payload fields")}function b(a){if(a){var b=a.msg_type;switch(b){case d("ZenonP2PMessageTypes").ZenonP2PSignalingPayloadType.OFFER:return i(a);case d("ZenonP2PMessageTypes").ZenonP2PSignalingPayloadType.HANG_UP:return j(a);case d("ZenonP2PMessageTypes").ZenonP2PSignalingPayloadType.ICE_CANDIDATE:return h(a);case d("ZenonP2PMessageTypes").ZenonP2PSignalingPayloadType.OTHER_DISMISS:return k(a)}}return null}function h(a){var b=a.from,c=a.payload;a=a.source;c=JSON.parse(c);var e=c.call_id,f=c.capability,g=c.label,h=c.msg_id,i=c.sdp,j=c.sdp_line_idx,k=c.sdp_mid;c=c.version;e={call_id:e,capability:f,from:b,label:g,msg_id:h,sdp:i,sdp_line_idx:j,sdp_mid:k,source:a,type:d("ZenonP2PMessageTypes").ZenonP2PSignalingPayloadType.ICE_CANDIDATE,version:c};return e}function i(a){var b,c,e,f,g=a.from,h=a.payload;a=a.source;h=JSON.parse(h);var i=h.call_id,j=h.calltype,k=h.capability;b=(b=h.escalation_conference_name)!=null?b:null;c=(c=h.experiments)!=null?c:[];e=(e=h.extraParams)!=null?e:[];f=(f=h.fbexp)!=null?f:"";var l=h.handlescollision!==void 0?h.handlescollision:!1,m=h.offer_escalation_support!==void 0?h.offer_escalation_support:!1,n=h.msg_id,o=h.sdp;h=h.videoon;i={call_id:i,calltype:j,capability:k,escalation_conference_name:b,experiments:c,extraParams:e,fbexp:f,from:g,handlescollision:l,msg_id:n,offer_escalation_support:m,sdp:o,source:a,type:d("ZenonP2PMessageTypes").ZenonP2PSignalingPayloadType.OFFER,videoon:h};return i}function j(a){var b=a.from,c=a.payload;a=a.source;c=JSON.parse(c);var e=c.call_id,f=c.capability,g=c.msg_id,h=c.reason;c=c.subreason;e={call_id:e,capability:f,from:b,msg_id:g,reason:h,source:a,subreason:c,type:d("ZenonP2PMessageTypes").ZenonP2PSignalingPayloadType.HANG_UP};return e}function k(a){var b=a.from,c=a.payload;a=a.source;c=JSON.parse(c);var e=c.call_id,f=c.capability;c=c.msg_id;e={call_id:e,capability:f,from:b,msg_id:c,source:a,type:d("ZenonP2PMessageTypes").ZenonP2PSignalingPayloadType.OTHER_DISMISS};return e}g.getValidP2PMessage=a;g.transformP2PMessage=b}),98);
__d("RTWebSignalingListener",["FBLogger","FBMqttChannel","ZenonDebugLogger","ZenonMWMessageReliabilityLogger","ZenonMWMessageTranslator","ZenonP2PMessageTranslator","ZenonP2PMessageValidator","cr:2068","gkx","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=null,this.$1=b("cr:2068")?new(b("cr:2068"))():null}var e=a.prototype;e.subscribe=function(a,b,e){var f=this;c("gkx")("1752")||c("FBMqttChannel").subscribe("/webrtc",function(e){var g=c("ZenonDebugLogger").getInstance(),h=d("ZenonP2PMessageValidator").getValidP2PMessage(e),i=d("ZenonP2PMessageValidator").transformP2PMessage(h);f.$2(e,b);if(i){e=d("ZenonP2PMessageTranslator").toSignalingMessage(i);e&&(g.logP2PMessageReceived(h),a(e),g.logP2PMessageProcessed(h))}});c("FBMqttChannel").subscribe("/rtc_multi",function(b){try{var g=JSON.parse(b),h=c("ZenonDebugLogger").getInstance();d("ZenonMWMessageReliabilityLogger").logReceivedMessage(g);h.logMWMessage("RECEIVED","MQTT",g);h=d("ZenonMWMessageTranslator").toSignalingMessage(g);a(h);e&&f.$3(b,e);d("ZenonMWMessageReliabilityLogger").logProcessingMessage(g)}catch(a){c("FBLogger")("rpweb").catching(a).warn("Error receiving MQTT message from /rtc_multi topic")}});this.$1&&c("FBMqttChannel").subscribeBinary("/t_rtc_multi",function(b){try{if(f.$1==null)return;b=f.$1.toZenonMWMessage(b);if(b==null)return;var g=d("ZenonMWMessageTranslator").toSignalingMessage(b);a(g);e&&e(b)}catch(a){c("FBLogger")("rpweb").catching(a).warn("Error receiving binary MQTT message from /t_rtc_multi topic")}})};e.unsubscribe=function(){c("FBMqttChannel").unsubscribeAll("/webrtc"),c("FBMqttChannel").unsubscribeAll("/rtc_multi"),this.$1&&c("FBMqttChannel").unsubscribeAll("/t_rtc_multi")};e.$2=function(a,b){try{a=JSON.parse(a);b(a)}catch(a){c("recoverableViolation")("Signaling messages should be json parsable. error:"+a,"rtweb")}};e.$3=function(a,b){try{a=JSON.parse(a);b(a)}catch(a){c("recoverableViolation")("Signaling messages should be json parsable. error:"+a,"rtweb")}};return a}();g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("ArmadilloDataTraceType.bs",[],(function(a,b,c,d,e,f){"use strict";a=[0,13];f.armadilloMessageSend=a}),null);
__d("LSDataTraceType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").one;c=[0,2];d=[0,3];e=[0,4];b=[0,5];var g=[0,6],h=[0,70],i=[0,71],j=[0,72],k=[0,73],l=[0,75],m=[0,76],n=[0,77],o=[0,198],p=[0,199],q=[0,200],r=[0,201],s=[0,203],t=[0,204],u=[0,205];f.task=a;f.sync=c;f.receiveMsg=d;f.richMediaSend=e;f.richMediaDownload=b;f.taskClientMode=g;f.encryptedBackupsInit=h;f.encryptedBackupsAddDevice=i;f.encryptedBackupsUpload=j;f.encryptedBackupsRestore=k;f.encryptedBackupsDeleteBackup=l;f.encryptedBackupsCreateExtraVirtualDevice=m;f.encryptedBackupsQrAddDevice=n;f.encryptedBackupsShadowInit=o;f.encryptedBackupsShadowAddDevice=p;f.encryptedBackupsShadowUpload=q;f.encryptedBackupsShadowRestore=r;f.encryptedBackupsShadowDeleteBackup=s;f.encryptedBackupsShadowCreateExtraVirtualDevice=t;f.encryptedBackupsShadowQrAddDevice=u}),null);
__d("LsDataTraceFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743851");c=b("FalcoLoggerInternal").create("ls_data_trace",a);e.exports=c}),null);
__d("LSDataTraceFlush.bs",["ArmadilloDataTraceType.bs","LSDataTraceType.bs","LSDatabaseDeferred.bs","LSInt64.bs","LSTransaction.bs","LsDataTraceFalcoEvent","ODS","Promise","ReQL.bs","ReQLTable","bs_belt_Option","bs_caml","bs_caml_int64","bs_caml_option","bs_int64","clearTimeout","promiseDone","setTimeout"],(function(a,b,c,d,e,f){"use strict";function g(a,c,d){var e=a.length;if(e===0)return[b("bs_caml_int64").neg_one,b("bs_caml_int64").neg_one,void 0,void 0,void 0];e=a.find(function(a){return a.errorMessage!==void 0});e=b("bs_belt_Option").mapWithDefault(e===void 0?void 0:b("bs_caml_option").some(e),void 0,function(a){return a.errorMessage});a=a[a.length-1|0];var f=b("bs_caml_int64").of_float(Date.now()),g=[0,12e4],h=a.timestampMs;g=b("bs_int64").compare(b("bs_caml_int64").sub(f,d),g)>=0;return!c&&g?[b("bs_caml_int64").sub(f,d),a.checkPointId,h,e,"trace expired"]:[b("bs_caml_int64").sub(h,d),a.checkPointId,h,e,e]}function h(a){return a.reduce(function(a,c,d){var e=b("bs_int64").to_string(c.checkPointId),f=c.timestampMs,g=b("bs_int64").to_string(b("bs_belt_Option").getWithDefault(c.syncChannel,b("bs_caml_int64").neg_one));c=c.tags;c=c!==void 0?","+c:"";if(d===0)a.pointsList="".concat("(",e,",",g,c,")");else{d=String(b("bs_caml_int64").to_int32(b("bs_caml_int64").sub(f,a.lastCheckPointTimestamp)));a.pointsList=a.pointsList.concat("-",d,"-(",e,",",g,c,")")}a.lastCheckPointTimestamp=f;return a},{pointsList:"",lastCheckPointTimestamp:b("bs_caml_int64").zero}).pointsList}var i=[0,2];function j(a,c){var d=c.traceId,e=c.shouldFlush,f=c.traceType,j=b("bs_caml").i64_eq(f,b("LSDataTraceType.bs").task)?"send":b("bs_caml").i64_eq(f,b("ArmadilloDataTraceType.bs").armadilloMessageSend)?"armadillo send":b("bs_caml").i64_eq(f,b("LSDataTraceType.bs").encryptedBackupsInit)?"encrypted_backups_init":b("bs_caml").i64_eq(f,b("LSDataTraceType.bs").encryptedBackupsAddDevice)?"encrypted_backups_add_device":b("bs_caml").i64_eq(f,b("LSDataTraceType.bs").encryptedBackupsUpload)?"encrypted_backups_upload":b("bs_caml").i64_eq(f,b("LSDataTraceType.bs").encryptedBackupsRestore)?"encrypted_backups_restore":b("bs_caml").i64_eq(f,b("LSDataTraceType.bs").encryptedBackupsDeleteBackup)?"encrypted_backups_delete_backup":b("bs_caml").i64_eq(f,b("LSDataTraceType.bs").encryptedBackupsShadowInit)?"shadow_encrypted_backups_init":b("bs_caml").i64_eq(f,b("LSDataTraceType.bs").encryptedBackupsShadowAddDevice)?"shadow_encrypted_backups_add_device":b("bs_caml").i64_eq(f,b("LSDataTraceType.bs").encryptedBackupsShadowUpload)?"shadow_encrypted_backups_upload":b("bs_caml").i64_eq(f,b("LSDataTraceType.bs").encryptedBackupsShadowRestore)?"shadow_encrypted_backups_restore":b("bs_caml").i64_eq(f,b("LSDataTraceType.bs").encryptedBackupsShadowDeleteBackup)?"shadow_encrypted_backups_delete_backup":c.contextTwo;f=c.traceType;var k=b("bs_caml").i64_eq(f,b("ArmadilloDataTraceType.bs").armadilloMessageSend)?"tam_message_send":c.contextOne,l=b("bs_caml").i64_eq(c.traceType,i)?void 0:c.predefinedId,m=c.initTimestampMs;return b("ReQL.bs").toArray(b("ReQL.bs").filter(b("ReQLTable").table(a,"data_trace_addon").asc,function(a){return a.traceId===d})).then(function(a){var c=g(a,e,m),f=c[4],i=c[3],n=c[1],o=c[0],p=a.length,q=h(a);b("LsDataTraceFalcoEvent").log(function(){var a,c;return{data_trace_id:d,trace_flow:b("bs_belt_Option").getWithDefault(j,""),database_id:k,error_message:f,first_error_message:i,has_backgrounded:!1,predefined_id:l,latency:(a=b("bs_caml_option")).some((c=b("LSInt64.bs")).string(o)),last_check_point:a.some(c.string(n)),check_point_count:a.some(c.string(b("bs_caml_int64").of_int32(p))),check_point_list:q,client_event_ts:a.some(c.string(b("bs_caml_int64").of_float(Date.now()))),start_time:a.some(c.string(m)),cold_start_time:void 0,sent_text_messages:void 0,sent_rich_media_messages:void 0,delivered_messages:void 0,media_type:void 0,num_of_attachments:void 0}});return b("Promise").resolve(void 0)}).then(function(c){return b("ReQLTable").table(a,"data_trace_meta")["delete"]({hd:d,tl:0})})}function a(a,c){return b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQLTable").table(a,"data_trace_meta").asc,{hd:c,tl:0})).then(function(c){if(c!==void 0)return j(a,c);else return b("Promise").resolve(void 0)})}var k={contents:void 0};function l(a){var c=[0,12e4];return b("LSDatabaseDeferred.bs").db.then(function(a){return b("LSTransaction.bs").run(a,function(a){return b("ReQL.bs").toArray(b("ReQLTable").table(a,"data_trace_meta").asc).then(function(d){return b("Promise").all(d.map(function(d){var e=d.shouldFlush,f=d.initTimestampMs,g=b("bs_caml_int64").of_float(Date.now());if(e===!1&&b("bs_int64").compare(b("bs_caml_int64").sub(g,f),c)>=0)return j(a,d);else return b("Promise").resolve(void 0)}))})},"readWrite")})}function m(a){b("promiseDone")(l(void 0),function(a){a=k.contents;a!==void 0&&b("clearTimeout")(b("bs_caml_option").valFromOption(a));a=b("setTimeout")(function(a){return m(void 0)},6e4);k.contents=b("bs_caml_option").some(a)},function(a){a=k.contents;a!==void 0&&b("clearTimeout")(b("bs_caml_option").valFromOption(a));b("ODS").bumpEntityKey(3185,"mw_trace","error")})}c=[0,4];d=[0,5];f.dataTraceSync=i;f.dataTraceRichMediaSend=c;f.dataTraceRichMediaDownload=d;f.flushForTraceMeta=j;f.flush=a;f.flushExpiredDataTraces=m}),null);
__d("LSSyncChannel.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").one;c=[0,2];d=[0,3];f.mqtt=a;f.http=c;f.dgw=d}),null);
__d("LSMailboxInitialSyncCursor.bs",["CurrentLocale","LSSyncChannel.bs","gkx"],(function(a,b,c,d,e,f){"use strict";a=b("gkx")("1224637")?183:150;c=b("gkx")("1224637")?360:300;d=b("CurrentLocale").get();e={scale:1,preview_height:200,preview_width:a,preview_height_large:400,preview_width_large:c,full_height:200,snapshot_num_threads_per_page:15,locale:d};a={contents:b("LSSyncChannel.bs").mqtt};c={contents:0};d={contents:e};f.defaultSyncParams=e;f.syncChannel=a;f.lastSyncTimestampMs=c;f.syncParams=d}),null);
__d("LSSyncGroupsUtils.bs",["CurrentLocale","LSDict","LSJson","LSMailboxInitialSyncCursor.bs","LSSyncChannel.bs","bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";function a(a,b){return b.reduce(function(b,c){return b.then(function(b){return a.put(c)})},window.Promise.resolve(void 0))}c=b("LSJson").stringify(new(b("LSDict"))([["locale",b("CurrentLocale").get()]]));e={groupId:(d=b("bs_caml_int64")).zero,currentCursor:void 0,syncStatus:d.zero,syncParams:c,sendSyncParams:!0,minTimeToSyncTimestampMs:d.neg_one,canIgnoreTimestamp:!1,priority:d.zero,lastSyncRequestTimestampMs:d.zero,regionHint:void 0,lastSyncCompletedTimestampMs:void 0,dataTraceId:void 0,initTraceTimestampMs:void 0,syncChannel:b("LSSyncChannel.bs").mqtt};c=d.zero;b=d.of_float(b("LSMailboxInitialSyncCursor.bs").lastSyncTimestampMs.contents);c={taskQueueName:"",syncDatabaseId:d.zero,epochId:c,networkTaskIdentifier:void 0,lastSentTimestampMs:d.zero,failureCount:d.zero,lastSyncRequestTimestampMs:b,lastDelayedRequestTimestampMs:void 0};b={taskQueueName:"",syncDatabaseId:d.zero,epochId:void 0,networkTaskIdentifier:void 0,lastSentTimestampMs:d.zero,failureCount:d.zero,lastSyncRequestTimestampMs:d.zero,lastDelayedRequestTimestampMs:void 0};f.writeRows=a;f.defaultNetworkRequest=b;f.defaultSyncGroup=e;f.preloadedNetworkRequest=c}),null);
__d("LSDefaultSyncGroups.bs",["CurrentUser","LSDatabaseType.bs","LSMailboxInitialSyncCursor.bs","LSSyncGroupsUtils.bs","MNetRankType.bs","ReQLTable","bs_caml_format","bs_caml_int64","bs_curry","cr:11269","qex"],(function(a,b,c,d,e,f){"use strict";c=b("qex")._("1549");d=c==null?!1:c;var g={mnet_rank_types:d?[b("MNetRankType.bs").messengerUserSearch,b("MNetRankType.bs").messengerUserSearchNullstate,b("MNetRankType.bs").inboxActiveNow,b("MNetRankType.bs").messengerOmnipickerNullstate].map(b("bs_caml_int64").to_int32):[]};function h(a){return[function(c){var d;return(c=b("LSSyncGroupsUtils.bs")).writeRows(b("ReQLTable").table(a,"network_requests"),[{taskQueueName:c.preloadedNetworkRequest.taskQueueName,syncDatabaseId:(d=b("LSDatabaseType.bs")).mailbox,epochId:c.preloadedNetworkRequest.epochId,networkTaskIdentifier:c.preloadedNetworkRequest.networkTaskIdentifier,lastSentTimestampMs:c.preloadedNetworkRequest.lastSentTimestampMs,failureCount:c.preloadedNetworkRequest.failureCount,lastSyncRequestTimestampMs:c.preloadedNetworkRequest.lastSyncRequestTimestampMs,lastDelayedRequestTimestampMs:c.preloadedNetworkRequest.lastDelayedRequestTimestampMs},{taskQueueName:c.preloadedNetworkRequest.taskQueueName,syncDatabaseId:d.contact,epochId:c.preloadedNetworkRequest.epochId,networkTaskIdentifier:c.preloadedNetworkRequest.networkTaskIdentifier,lastSentTimestampMs:c.preloadedNetworkRequest.lastSentTimestampMs,failureCount:c.preloadedNetworkRequest.failureCount,lastSyncRequestTimestampMs:c.preloadedNetworkRequest.lastSyncRequestTimestampMs,lastDelayedRequestTimestampMs:c.preloadedNetworkRequest.lastDelayedRequestTimestampMs},{taskQueueName:c.defaultNetworkRequest.taskQueueName,syncDatabaseId:d.payments,epochId:c.defaultNetworkRequest.epochId,networkTaskIdentifier:c.defaultNetworkRequest.networkTaskIdentifier,lastSentTimestampMs:c.defaultNetworkRequest.lastSentTimestampMs,failureCount:c.defaultNetworkRequest.failureCount,lastSyncRequestTimestampMs:c.defaultNetworkRequest.lastSyncRequestTimestampMs,lastDelayedRequestTimestampMs:c.defaultNetworkRequest.lastDelayedRequestTimestampMs},{taskQueueName:c.defaultNetworkRequest.taskQueueName,syncDatabaseId:d.threadTheme,epochId:c.defaultNetworkRequest.epochId,networkTaskIdentifier:c.defaultNetworkRequest.networkTaskIdentifier,lastSentTimestampMs:c.defaultNetworkRequest.lastSentTimestampMs,failureCount:c.defaultNetworkRequest.failureCount,lastSyncRequestTimestampMs:c.defaultNetworkRequest.lastSyncRequestTimestampMs,lastDelayedRequestTimestampMs:c.defaultNetworkRequest.lastDelayedRequestTimestampMs},{taskQueueName:c.defaultNetworkRequest.taskQueueName,syncDatabaseId:d.sticker,epochId:c.defaultNetworkRequest.epochId,networkTaskIdentifier:c.defaultNetworkRequest.networkTaskIdentifier,lastSentTimestampMs:c.defaultNetworkRequest.lastSentTimestampMs,failureCount:c.defaultNetworkRequest.failureCount,lastSyncRequestTimestampMs:c.defaultNetworkRequest.lastSyncRequestTimestampMs,lastDelayedRequestTimestampMs:c.defaultNetworkRequest.lastDelayedRequestTimestampMs},{taskQueueName:c.defaultNetworkRequest.taskQueueName,syncDatabaseId:d.settings,epochId:c.defaultNetworkRequest.epochId,networkTaskIdentifier:c.defaultNetworkRequest.networkTaskIdentifier,lastSentTimestampMs:c.defaultNetworkRequest.lastSentTimestampMs,failureCount:c.defaultNetworkRequest.failureCount,lastSyncRequestTimestampMs:c.defaultNetworkRequest.lastSyncRequestTimestampMs,lastDelayedRequestTimestampMs:c.defaultNetworkRequest.lastDelayedRequestTimestampMs},{taskQueueName:c.defaultNetworkRequest.taskQueueName,syncDatabaseId:d.inthreadbanner,epochId:c.defaultNetworkRequest.epochId,networkTaskIdentifier:c.defaultNetworkRequest.networkTaskIdentifier,lastSentTimestampMs:c.defaultNetworkRequest.lastSentTimestampMs,failureCount:c.defaultNetworkRequest.failureCount,lastSyncRequestTimestampMs:c.defaultNetworkRequest.lastSyncRequestTimestampMs,lastDelayedRequestTimestampMs:c.defaultNetworkRequest.lastDelayedRequestTimestampMs}])},function(c){var d,e,f;return(c=b("LSSyncGroupsUtils.bs")).writeRows(b("ReQLTable").table(a,"sync_groups"),[{groupId:(d=b("LSDatabaseType.bs")).mailbox,currentCursor:c.defaultSyncGroup.currentCursor,syncStatus:c.defaultSyncGroup.syncStatus,syncParams:JSON.stringify((e=b("LSMailboxInitialSyncCursor.bs")).syncParams.contents),sendSyncParams:c.defaultSyncGroup.sendSyncParams,minTimeToSyncTimestampMs:c.defaultSyncGroup.minTimeToSyncTimestampMs,canIgnoreTimestamp:c.defaultSyncGroup.canIgnoreTimestamp,priority:c.defaultSyncGroup.priority,lastSyncRequestTimestampMs:(f=b("bs_caml_int64")).of_float(e.lastSyncTimestampMs.contents),regionHint:c.defaultSyncGroup.regionHint,lastSyncCompletedTimestampMs:c.defaultSyncGroup.lastSyncCompletedTimestampMs,dataTraceId:c.defaultSyncGroup.dataTraceId,initTraceTimestampMs:c.defaultSyncGroup.initTraceTimestampMs,syncChannel:e.syncChannel.contents},{groupId:d.contact,currentCursor:c.defaultSyncGroup.currentCursor,syncStatus:c.defaultSyncGroup.syncStatus,syncParams:c.defaultSyncGroup.syncParams,sendSyncParams:c.defaultSyncGroup.sendSyncParams,minTimeToSyncTimestampMs:c.defaultSyncGroup.minTimeToSyncTimestampMs,canIgnoreTimestamp:c.defaultSyncGroup.canIgnoreTimestamp,priority:c.defaultSyncGroup.priority,lastSyncRequestTimestampMs:f.of_float(e.lastSyncTimestampMs.contents),regionHint:c.defaultSyncGroup.regionHint,lastSyncCompletedTimestampMs:c.defaultSyncGroup.lastSyncCompletedTimestampMs,dataTraceId:c.defaultSyncGroup.dataTraceId,initTraceTimestampMs:c.defaultSyncGroup.initTraceTimestampMs,syncChannel:e.syncChannel.contents},{groupId:d.payments,currentCursor:c.defaultSyncGroup.currentCursor,syncStatus:c.defaultSyncGroup.syncStatus,syncParams:c.defaultSyncGroup.syncParams,sendSyncParams:c.defaultSyncGroup.sendSyncParams,minTimeToSyncTimestampMs:[2328,1316134911],canIgnoreTimestamp:c.defaultSyncGroup.canIgnoreTimestamp,priority:c.defaultSyncGroup.priority,lastSyncRequestTimestampMs:c.defaultSyncGroup.lastSyncRequestTimestampMs,regionHint:c.defaultSyncGroup.regionHint,lastSyncCompletedTimestampMs:c.defaultSyncGroup.lastSyncCompletedTimestampMs,dataTraceId:c.defaultSyncGroup.dataTraceId,initTraceTimestampMs:c.defaultSyncGroup.initTraceTimestampMs,syncChannel:c.defaultSyncGroup.syncChannel},{groupId:d.threadTheme,currentCursor:c.defaultSyncGroup.currentCursor,syncStatus:c.defaultSyncGroup.syncStatus,syncParams:c.defaultSyncGroup.syncParams,sendSyncParams:c.defaultSyncGroup.sendSyncParams,minTimeToSyncTimestampMs:f.neg_one,canIgnoreTimestamp:c.defaultSyncGroup.canIgnoreTimestamp,priority:c.defaultSyncGroup.priority,lastSyncRequestTimestampMs:c.defaultSyncGroup.lastSyncRequestTimestampMs,regionHint:c.defaultSyncGroup.regionHint,lastSyncCompletedTimestampMs:c.defaultSyncGroup.lastSyncCompletedTimestampMs,dataTraceId:c.defaultSyncGroup.dataTraceId,initTraceTimestampMs:c.defaultSyncGroup.initTraceTimestampMs,syncChannel:c.defaultSyncGroup.syncChannel},{groupId:d.sticker,currentCursor:c.defaultSyncGroup.currentCursor,syncStatus:c.defaultSyncGroup.syncStatus,syncParams:c.defaultSyncGroup.syncParams,sendSyncParams:c.defaultSyncGroup.sendSyncParams,minTimeToSyncTimestampMs:[2328,1316134911],canIgnoreTimestamp:c.defaultSyncGroup.canIgnoreTimestamp,priority:c.defaultSyncGroup.priority,lastSyncRequestTimestampMs:c.defaultSyncGroup.lastSyncRequestTimestampMs,regionHint:c.defaultSyncGroup.regionHint,lastSyncCompletedTimestampMs:c.defaultSyncGroup.lastSyncCompletedTimestampMs,dataTraceId:c.defaultSyncGroup.dataTraceId,initTraceTimestampMs:c.defaultSyncGroup.initTraceTimestampMs,syncChannel:c.defaultSyncGroup.syncChannel},{groupId:d.ranking,currentCursor:c.defaultSyncGroup.currentCursor,syncStatus:c.defaultSyncGroup.syncStatus,syncParams:JSON.stringify(g),sendSyncParams:c.defaultSyncGroup.sendSyncParams,minTimeToSyncTimestampMs:[2328,1316134911],canIgnoreTimestamp:c.defaultSyncGroup.canIgnoreTimestamp,priority:c.defaultSyncGroup.priority,lastSyncRequestTimestampMs:c.defaultSyncGroup.lastSyncRequestTimestampMs,regionHint:c.defaultSyncGroup.regionHint,lastSyncCompletedTimestampMs:c.defaultSyncGroup.lastSyncCompletedTimestampMs,dataTraceId:c.defaultSyncGroup.dataTraceId,initTraceTimestampMs:c.defaultSyncGroup.initTraceTimestampMs,syncChannel:c.defaultSyncGroup.syncChannel},{groupId:d.settings,currentCursor:c.defaultSyncGroup.currentCursor,syncStatus:c.defaultSyncGroup.syncStatus,syncParams:c.defaultSyncGroup.syncParams,sendSyncParams:c.defaultSyncGroup.sendSyncParams,minTimeToSyncTimestampMs:c.defaultSyncGroup.minTimeToSyncTimestampMs,canIgnoreTimestamp:c.defaultSyncGroup.canIgnoreTimestamp,priority:c.defaultSyncGroup.priority,lastSyncRequestTimestampMs:c.defaultSyncGroup.lastSyncRequestTimestampMs,regionHint:c.defaultSyncGroup.regionHint,lastSyncCompletedTimestampMs:c.defaultSyncGroup.lastSyncCompletedTimestampMs,dataTraceId:c.defaultSyncGroup.dataTraceId,initTraceTimestampMs:c.defaultSyncGroup.initTraceTimestampMs,syncChannel:c.defaultSyncGroup.syncChannel},{groupId:d.inthreadbanner,currentCursor:c.defaultSyncGroup.currentCursor,syncStatus:c.defaultSyncGroup.syncStatus,syncParams:c.defaultSyncGroup.syncParams,sendSyncParams:c.defaultSyncGroup.sendSyncParams,minTimeToSyncTimestampMs:f.neg_one,canIgnoreTimestamp:c.defaultSyncGroup.canIgnoreTimestamp,priority:c.defaultSyncGroup.priority,lastSyncRequestTimestampMs:c.defaultSyncGroup.lastSyncRequestTimestampMs,regionHint:c.defaultSyncGroup.regionHint,lastSyncCompletedTimestampMs:c.defaultSyncGroup.lastSyncCompletedTimestampMs,dataTraceId:c.defaultSyncGroup.dataTraceId,initTraceTimestampMs:c.defaultSyncGroup.initTraceTimestampMs,syncChannel:c.defaultSyncGroup.syncChannel}])},function(c){return b("LSSyncGroupsUtils.bs").writeRows(b("ReQLTable").table(a,"_user_info"),[{id:b("bs_caml_int64").one,facebookUserId:b("bs_caml_format").caml_int64_of_string(b("CurrentUser").getID())}])},function(c){if(b("cr:11269")==null)return window.Promise.resolve(void 0);else return b("bs_curry")._1(b("cr:11269").seed,a)}]}function a(a){return h(a).reduce(function(a,c){return a.then(b("bs_curry").__1(c))},window.Promise.resolve(void 0))}f.syncRankingLimited=d;f.syncRankingParams=g;f.$LSE2EEMetadataSyncSyncGroups$requireCond=b("cr:11269");f.writeData=h;f.seedDb=a}),null);
__d("MWLSSchemaEphemeral.bs",["LSDefaultSyncGroups.bs","LSJSInMemoryStorage.bs","LSTransaction.bs","MPWLSDBCreateSchema.bs","Promise"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("Promise").resolve(b("LSJSInMemoryStorage.bs").make(b("MPWLSDBCreateSchema.bs").metadata)).then(function(a){return b("LSTransaction.bs").run(a,b("LSDefaultSyncGroups.bs").seedDb,"readWrite").then(function(b){return a})})}f.createDB=a}),null);
__d("XMessengerDotComLogoutController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/logout/",{next:{type:"String"}})}),null);/*FB_PKG_DELIM*/
__d("MWChatOpenTabForPage.re",["MWChatOpenTabForPage.bs","bs_curry"],(function(a,b,c,d,e,f){a=function(a,c){a=b("bs_curry")._2(b("MWChatOpenTabForPage.bs").useHook,a.preventAutofocus,c);return a};f.useHook=a}),null);
__d("useMWChatOpenTabForPage",["MWChatOpenTabForPage.re","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo;function a(a,b){var d={};b!=null&&(d.preventAutofocus=b.preventAutofocus_DO_NOT_USE);var e=c("MWChatOpenTabForPage.re").useHook(d,a);return h(function(){return function(a,b){return e(a,(a=b)!=null?a:!1)}},[e])}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("ZenonMachineToQPLEvent",["qpl"],(function(a,b,c,d,e,f,g){"use strict";a={ConnectionStateMachine:c("qpl")._(64243854,"2452"),ParentSignalingClient:c("qpl")._(64234815,"1094"),PeerConnectionStateMachine:c("qpl")._(64239068,"6172"),SignalingStateMachine:c("qpl")._(64245348,"8823")};g["default"]=a}),98);
__d("compactArray",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=[];for(var c=0;c<a.length;++c){var d=a[c];d!=null&&b.push(d)}return b}f["default"]=a}),66);