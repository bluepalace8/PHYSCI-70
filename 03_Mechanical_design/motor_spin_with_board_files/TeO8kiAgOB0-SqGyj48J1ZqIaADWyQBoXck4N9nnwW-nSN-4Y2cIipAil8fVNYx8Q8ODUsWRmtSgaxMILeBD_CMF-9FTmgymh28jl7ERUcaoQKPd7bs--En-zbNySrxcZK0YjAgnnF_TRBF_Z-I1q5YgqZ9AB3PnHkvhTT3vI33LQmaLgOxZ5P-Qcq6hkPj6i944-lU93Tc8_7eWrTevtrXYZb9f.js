if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }

__d("RTCAudioTrackNoiseDetector",["invariant","MediaStream","Promise"],(function(a,b,c,d,e,f,g,h){"use strict";var i="audio track with absolute silence",j="audio track data timeout",k='wrong track type, expected "audio"',l=100;function a(a,d){if("kind"in a&&a.kind!=="audio")return b("Promise").reject(new Error(k));var e=new(c("MediaStream"))();e.addTrack(a);var f=new AudioContext(),g=f.createMediaStreamSource(e),m=f.createScriptProcessor(0,1,1),n=l,o=function(){m!=null||h(0,2865);m.onaudioprocess=null;m.disconnect();m=null;g!=null||h(0,2866);g.disconnect();g=null;e!=null||h(0,2867);e.removeTrack(a);e=null;f!=null||h(0,2868);return b("Promise").resolve(f.close())["catch"](function(){return b("Promise").resolve()}).then(function(){f=null})};return b("Promise").race([new(b("Promise"))(function(a,b){m!=null||h(0,2865),m.onaudioprocess=function(c){c=c.inputBuffer;for(var c=c.getChannelData(0),d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;if(f!==0){a();return}}n>0?n--:b(new Error(i))},g!=null||h(0,2866),g.connect(m),f!=null||h(0,2868),m.connect(f.destination)}),new(b("Promise"))(function(a){return window.setTimeout(a,d)}).then(function(){throw new Error(j)})]).then(function(){return o()})["catch"](function(a){return o().then(function(){throw a})})}g.ABSOLUTE_SILENCE_ERROR=i;g.DATA_TIMEOUT_ERROR=j;g.WRONG_TRACK_TYPE_ERROR=k;g.detect=a}),98);
__d("RTCEndCallReason",["FBRTCConstants","FBRTCDismissReason","FBRTCHangupReason","FBRTCRtcResponseStatusCode","RTWebStrings"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$3="local",typeof a==="string"||a instanceof String?this.$1=d("FBRTCConstants").endCallReasonFromString(a):this.$1=a}var b=a.prototype;b.setSubreason=function(a){this.$2=a;return this};b.getSubreason=function(){return this.$2};b.setRemoteEnded=function(a){this.$3=a?"remote":"local";return this};b.getRemoteEnded=function(){return this.$3==="remote"};b.toStrName=function(a){a===void 0&&(a=!0);return a?this.$4()+"_"+this.$3:this.$4()};b.$4=function(){return d("FBRTCConstants").callEndReasonString(this.$1)};b.getReasonID=function(){return this.$1};b.toString=function(a){var b;a===void 0&&(a=!1);b=((b=this.$5(a))!=null?b:"").toString();return a?b+" "+this.$6():b};b.$5=function(a){switch(this.$1){case d("FBRTCConstants").CallEndReason.NO_ANSWER_TIMEOUT:case d("FBRTCConstants").CallEndReason.IGNORE_CALL:return d("RTWebStrings").noAnswer;case d("FBRTCConstants").CallEndReason.OTHER_NOT_CAPABLE:if(this.$2===d("FBRTCConstants").CollabCallEndSubreason.MCU_INVALID_STREAM_CONFIGURATION)return d("RTWebStrings").invalidStreamConfiguration;case d("FBRTCConstants").CallEndReason.INCOMING_TIMEOUT:case d("FBRTCConstants").CallEndReason.NO_PERMISSION:case d("FBRTCConstants").CallEndReason.OTHER_CARRIER_BLOCKED:return d("RTWebStrings").unreachable;case d("FBRTCConstants").CallEndReason.SIGNALING_MESSAGE_FAILED:case d("FBRTCConstants").CallEndReason.WEBRTC_ERROR:case d("FBRTCConstants").CallEndReason.NO_UI_ERROR:case d("FBRTCConstants").CallEndReason.CALLER_NOT_VISIBLE:case d("FBRTCConstants").CallEndReason.CLIENT_ERROR:return d("RTWebStrings").callFailed;case d("FBRTCConstants").CallEndReason.UNSUPPORTED_VERSION:return d("RTWebStrings").cannotConnect;case d("FBRTCConstants").CallEndReason.IN_ANOTHER_CALL:return d("RTWebStrings").inAnotherCall;case d("FBRTCConstants").CallEndReason.CARRIER_BLOCKED:return d("RTWebStrings").switchToWiFi;case d("FBRTCConstants").CallEndReason.CLIENT_INTERRUPTED:return d("RTWebStrings").callInterrupted;case d("FBRTCConstants").CallEndReason.HANGUP_CALL:case d("FBRTCConstants").CallEndReason.ACCEPT_AFTER_HANGUP:return a?"":d("RTWebStrings").callEnded;case d("FBRTCConstants").CallEndReason.CONNECTION_DROPPED:return d("RTWebStrings").connectionLost;case d("FBRTCConstants").CallEndReason.OTHER_INSTANCE_HANDLED:return null;case d("FBRTCConstants").CallEndReason.CLIENT_ENCRYPTION_ERROR:return d("RTWebStrings").clientEncryptionError;case d("FBRTCConstants").CallEndReason.INACTIVE_TIMEOUT:return d("RTWebStrings").inactive;default:return null}};b.$6=function(){var a;if(this.$1!==d("FBRTCConstants").CallEndReason.OTHER_NOT_CAPABLE&&this.$1!==d("FBRTCConstants").CallEndReason.SIGNALING_MESSAGE_FAILED&&this.$1!==d("FBRTCConstants").CallEndReason.HANGUP_CALL&&this.$1!==d("FBRTCConstants").CallEndReason.ACCEPT_AFTER_HANGUP)return"";switch(this.$2){case d("FBRTCConstants").CollabCallEndSubreason.REMOTE_PEER_HANGUP:return"Call ended";case d("FBRTCConstants").CollabCallEndSubreason.REMOTE_PEER_REJECT:return"Call declined";case d("FBRTCConstants").CollabCallEndSubreason.CLOSED_BY_MCU:return"Call expired";case d("FBRTCConstants").CollabCallEndSubreason.CLOSED_AS_STALE:return"Server failed, call is stale";case d("FBRTCConstants").CollabCallEndSubreason.CALL_INITIALIZATION_FAILED:return"Call initialization to room failed";case d("FBRTCConstants").CollabCallEndSubreason.SIP_CONNECTION_INITIALIZATION_FAILED:return"No Answer";case d("FBRTCConstants").CollabCallEndSubreason.LOST_MCU_CONNECTION:return"MCU Media connection failed";case d("FBRTCConstants").CollabCallEndSubreason.LOST_MCU_THRIFT_CONNECTION:return"MCU infrastructure dropped connection";case d("FBRTCConstants").CollabCallEndSubreason.LOST_SIP_ADAPTER_CONNECTION:return"SIP infrastructure dropped connection";case d("FBRTCConstants").CollabCallEndSubreason.MCU_NO_AUDIO_STREAM:return"Invalid audio stream";case d("FBRTCConstants").CollabCallEndSubreason.MCU_INVALID_STREAM_CONFIGURATION:return"Invalid stream configuration";case d("FBRTCConstants").CollabCallEndSubreason.INVALID_MEETING_ID:return"Invalid meeting ID";case d("FBRTCConstants").CollabCallEndSubreason.UNKNOWN:default:a=(a=this.$2)!=null?a:"Unknown";return this.$2!=null&&this.$2!==""?"Unexpected call failure: "+a:"Call ended"}};a.fromHangupReason=function(b){switch(b){case c("FBRTCHangupReason").IGNORE_CALL:return new a(d("FBRTCConstants").CallEndReason.IGNORE_CALL);case c("FBRTCHangupReason").NO_ANSWER_TIMEOUT:return new a(d("FBRTCConstants").CallEndReason.NO_ANSWER_TIMEOUT);case c("FBRTCHangupReason").HANGUP_CALL:return new a(d("FBRTCConstants").CallEndReason.HANGUP_CALL);case c("FBRTCHangupReason").CLIENT_ERROR:return new a(d("FBRTCConstants").CallEndReason.CLIENT_ERROR);case c("FBRTCHangupReason").IN_ANOTHER_CALL:return new a(d("FBRTCConstants").CallEndReason.IN_ANOTHER_CALL);case c("FBRTCHangupReason").CLIENT_INTERRUPTED:return new a(d("FBRTCConstants").CallEndReason.CLIENT_INTERRUPTED);default:return new a(d("FBRTCConstants").CallEndReason.HANGUP_CALL)}};a.subreasonFromDismissRequest=function(a){if(!a)return null;switch(a.reason){case c("FBRTCDismissReason").REMOVED_BY_PARTICIPANT:return"REMOVED_BY_PARTICIPANT";default:return null}};a.fromDismissRequest=function(b){if(!b)return new a(d("FBRTCConstants").CallEndReason.HANGUP_CALL);switch(b.reason){case c("FBRTCDismissReason").ANSWERED_ON_ANOTHER_DEVICE:case c("FBRTCDismissReason").REJECTED_ON_ANOTHER_DEVICE:return new a(d("FBRTCConstants").CallEndReason.OTHER_INSTANCE_HANDLED);case c("FBRTCDismissReason").CALL_ENDED:return new a(d("FBRTCConstants").CallEndReason.HANGUP_CALL);case c("FBRTCDismissReason").IN_ANOTHER_CALL:return new a(d("FBRTCConstants").CallEndReason.IN_ANOTHER_CALL);case c("FBRTCDismissReason").CONNECTION_DROPPED:return new a(d("FBRTCConstants").CallEndReason.CONNECTION_DROPPED);case c("FBRTCDismissReason").REMOVED_BY_PARTICIPANT:return new a(d("FBRTCConstants").CallEndReason.HANGUP_CALL);case c("FBRTCDismissReason").REJECTED_BY_CALLEE:return new a(d("FBRTCConstants").CallEndReason.IGNORE_CALL);case c("FBRTCDismissReason").INTERNAL_ERROR:return new a(d("FBRTCConstants").CallEndReason.SIGNALING_MESSAGE_FAILED);default:return new a(d("FBRTCConstants").CallEndReason.HANGUP_CALL)}};a.fromResponseStatusCode=function(b){switch(b){case c("FBRTCRtcResponseStatusCode").METHOD_NOT_ALLOWED:case c("FBRTCRtcResponseStatusCode").UNAUTHORIZED:return new a(d("FBRTCConstants").CallEndReason.NO_PERMISSION);case c("FBRTCRtcResponseStatusCode").SERVICE_UNAVAILABLE:return new a(d("FBRTCConstants").CallEndReason.SIGNALING_MESSAGE_FAILED);case c("FBRTCRtcResponseStatusCode").SERVER_INTERNAL_ERROR:case c("FBRTCRtcResponseStatusCode").BAD_REQUEST:case c("FBRTCRtcResponseStatusCode").CONDITIONAL_REQUEST_FAILED:case c("FBRTCRtcResponseStatusCode").NOT_FOUND:return new a(d("FBRTCConstants").CallEndReason.CLIENT_ERROR);default:return new a(d("FBRTCConstants").CallEndReason.HANGUP_CALL)}};return a}();g["default"]=a}),98);
__d("RTCVideoTrackActivityDetector",["invariant","MediaStream","Promise","assignMediaStream"],(function(a,b,c,d,e,f,g,h){"use strict";var i="video track playback timeout",j="unexpected video track ready state",k='wrong track type, expected "video"';function a(a,d){if("kind"in a&&a.kind!=="video")return b("Promise").reject(new Error(k));var e=document.createElement("video");e.muted=!0;var f=new(c("MediaStream"))();f.addTrack(a);var g,l=null,m=function(){window.clearInterval(l),e&&(e.pause(),c("assignMediaStream")(e,null),e.removeEventListener("timeupdate",g),e=null),f&&(f.removeTrack(a),f=null)};return b("Promise").race([new(b("Promise"))(function(d,i){e!=null||h(0,5995),c("assignMediaStream")(e,f),g=function(b){e!=null||h(0,5995),e.currentTime>0&&(a.readyState==="live"?(d(),m()):i(new Error(j)))},b("Promise").resolve(e.pause()).then(function(){e!=null||h(0,5995);return e.play()}).then(function(){g(),e!=null||h(0,5995),e.addEventListener("timeupdate",g),l=window.setInterval(g,50)})["catch"](function(a){return i(a)})}),new(b("Promise"))(function(a){return window.setTimeout(a,d)}).then(function(){throw new Error(i)})])["catch"](function(a){m();throw a})}g.PLAYBACK_TIMEOUT_ERROR=i;g.WRONG_READY_STATE_ERROR=j;g.WRONG_TRACK_TYPE_ERROR=k;g.detect=a}),98);
__d("RTCMediaStreamValidator",["Promise","RTCAudioTrackNoiseDetector","RTCVideoTrackActivityDetector"],(function(a,b,c,d,e,f,g){"use strict";var h="no audio tracks",i="no video tracks",j="too many audio tracks",k="too many video tracks",l="unexpected audio track(s)",m="unexpected video track(s)";function a(a,c,d,e){d===void 0&&(d={});e===void 0&&(e={});d=d;var f=d.audio;f=f===void 0?!0:f;d=d.video;d=d===void 0?!0:d;e=e;var g=e.audio;g=g===void 0?1e3:g;e=e.video;e=e===void 0?1e3:e;return b("Promise").all([n(a,c,f,g),o(a,c,d,e)]).then(function(){return a})}function n(a,c,e,f){var g=a.getAudioTracks();if(!c.audio)return g.length>0?b("Promise").reject(new Error(l)):b("Promise").resolve(a);if(g.length<1)return b("Promise").reject(new Error(h));else if(g.length>1)return b("Promise").reject(new Error(j));return e?d("RTCAudioTrackNoiseDetector").detect(g[0],f).then(function(){return a}):b("Promise").resolve(a)}function o(a,c,e,f){var g=a.getVideoTracks();if(!c.video)return g.length>0?b("Promise").reject(new Error(m)):b("Promise").resolve(a);if(g.length<1)return b("Promise").reject(new Error(i));else if(g.length>1)return b("Promise").reject(new Error(k));return e?d("RTCVideoTrackActivityDetector").detect(g[0],f).then(function(){return a}):b("Promise").resolve(a)}g.NO_AUDIO_TRACKS_ERROR=h;g.NO_VIDEO_TRACKS_ERROR=i;g.TOO_MANY_AUDIO_TRACKS_ERROR=j;g.TOO_MANY_VIDEO_TRACKS_ERROR=k;g.UNEXPECTED_AUDIO_TRACKS_ERROR=l;g.UNEXPECTED_VIDEO_TRACKS_ERROR=m;g.validate=a}),98);
__d("RTCUserMediaConstraints",["FBRTCConstants","FBRTCSupport","RTCConfig","ZenonVideoConstraintUtils"],(function(a,b,c,d,e,f,g){"use strict";var h={width:d("FBRTCConstants").RTCConstraints.FHD_WIDTH,height:d("FBRTCConstants").RTCConstraints.FHD_HEIGHT,frameRate:d("FBRTCConstants").RTCConstraints.FRAME_RATE},i={width:d("FBRTCConstants").RTCConstraints.HD_WIDTH,height:d("FBRTCConstants").RTCConstraints.HD_HEIGHT,frameRate:d("FBRTCConstants").RTCConstraints.FRAME_RATE},j={width:d("FBRTCConstants").RTCConstraints.SD_WIDTH,height:d("FBRTCConstants").RTCConstraints.SD_HEIGHT,frameRate:d("FBRTCConstants").RTCConstraints.FRAME_RATE},k={width:d("FBRTCConstants").RTCConstraints.LQ_WIDTH,height:d("FBRTCConstants").RTCConstraints.LQ_HEIGHT,frameRate:d("FBRTCConstants").RTCConstraints.LQ_FRAME_RATE};function a(a){return a?{deviceId:{exact:a}}:!0}function b(a,b,c){c===void 0&&(c=d("RTCConfig").CollaborationCallQuality.videoToRoom);b=b?{deviceId:{exact:b}}:null;if(a===d("FBRTCConstants").VideoQuality.CUSTOM_VIDEO)return babelHelpers["extends"]({},c,b);if(d("FBRTCSupport").isMobileDevice())return m(d("ZenonVideoConstraintUtils").getP2PVideoConstraints());c=o(a);a=n(a)?k:q(c);return babelHelpers["extends"]({width:p(c,"width",a),height:p(c,"height",a),frameRate:p(c,"frameRate",{frameRate:10})},b)}function c(a,b){a=a.video;a=l(a);if(typeof a!=="object")return{audio:!1,video:Boolean(a)};var c=a.mandatory;a=a.optional;a=a===void 0?[]:a;return{audio:!1,video:{mandatory:babelHelpers["extends"]({},c,{chromeMediaSource:"desktop",chromeMediaSourceId:b}),optional:[{googTemporalLayeredScreencast:!0}].concat(a)}}}function l(a,b){if(!a||typeof a!=="object")return Boolean(a);if(!t(a))return a;b=b?b.optionalConstraintsOnly:!1;var c=a.mandatory;c=c===void 0?{}:c;var d=a.optional;d=d===void 0?[]:d;var e=Object.entries(a);for(var f=0;f<e.length;f++){var g=e[f],h=g[0];g=g[1];if(h==="require"||h==="advanced"||h==="mediaSource")continue;g=g&&typeof g==="object"?g:{ideal:g};Number.isFinite(g.exact)&&(g.min=g.exact,g.max=g.exact);var i=g.exact,j=g.ideal;if(j!==void 0)if(Number.isFinite(j)){var k;d.push((k={},k[s(h,"min")]=j,k),(k={},k[s(h,"max")]=j,k))}else{d.push((k={},k[s(h)]=j,k))}if(!b)if(i!==void 0&&!Number.isFinite(i))c[s(h)]=i;else{j=["min","max"];for(var k=0;k<j.length;k++){i=j[k];Number.isFinite(g[i])&&(c[s(h,i)]=g[i])}}}a.advanced&&d.push.apply(d,a.advanced);i={};Object.keys(c).length>0?i.mandatory=c:b&&(i.mandatory={});d.length>0&&(i.optional=d);return i}function m(a){if(a===null)return{};a={width:a==null?void 0:a.width,height:a==null?void 0:a.height,aspectRatio:a==null?void 0:a.aspectRatio,frameRate:a==null?void 0:a.frameRate,facingMode:{ideal:"user"}};return a}function n(a){return a===d("FBRTCConstants").VideoQuality.HD_IDEAL_LQ_REQUIRED_VIDEO||a===d("FBRTCConstants").VideoQuality.FHD_IDEAL_LQ_REQUIRED_VIDEO}function o(a){switch(a){case d("FBRTCConstants").VideoQuality.FHD_VIDEO:case d("FBRTCConstants").VideoQuality.FHD_IDEAL_LQ_REQUIRED_VIDEO:return h;case d("FBRTCConstants").VideoQuality.HD_VIDEO:case d("FBRTCConstants").VideoQuality.HD_IDEAL_LQ_REQUIRED_VIDEO:return i;case d("FBRTCConstants").VideoQuality.LQ_VIDEO:return k;case d("FBRTCConstants").VideoQuality.SD_VIDEO:return j;default:return i}}function p(a,b,c){c===void 0&&(c=q(a));var d=a[b];return{min:Math.min(c[b],d),max:Math.max(r(a)[b],d),ideal:d}}function q(a){switch(a){case h:return i;case i:return j;case j:case k:default:return k}}function r(a){switch(a){case k:return j;case j:return i;case i:case h:default:return h}}function s(b,a){return a?""+a+b.charAt(0).toUpperCase()+b.slice(1):b==="deviceId"?"sourceId":b}function t(a){return Object.keys(a).some(function(a){return a!=="mandatory"&&a!=="optional"})}g.audio=a;g.video=b;g.chromeMediaSource=c;g.chromify=l}),98);
__d("RTCScreenSharing",["CollabRTCChromeScreenSharing","Promise","RTCUserMediaConstraints","RTCUtils","UserAgent","WorkplaceChatHelper"],(function(a,b,c,d,e,f,g){"use strict";var h="SCREEN_SHARING_NOT_SUPPORTED",i="UNEXPECTED_ERROR";function a(a,e,f){if(c("UserAgent").isBrowser("Chrome")){var g;d("WorkplaceChatHelper").isDesktopChatApp()?g=d("WorkplaceChatHelper").getScreenSharingSourceID():g=d("CollabRTCChromeScreenSharing").getSourceID(f,e);return g.then(function(b){return d("RTCUtils").getUserMedia(d("RTCUserMediaConstraints").chromeMediaSource(a,b))}).then(function(a){for(var b=a.getTracks(),c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;e.addEventListener("ended",function(b){return window.setTimeout(function(){a.active||j()})})}return a})}else if(d("RTCUtils").isVCScreenSharingSupported()&&navigator.mediaDevices&&typeof navigator.mediaDevices.getUserMedia==="function")return b("Promise").resolve(navigator.mediaDevices.getUserMedia(a)["catch"](function(a){if(a.name==="NotAllowedError")throw new Error(h)}));return b("Promise").reject(new Error(h))}function j(){return c("UserAgent").isBrowser("Chrome")?d("WorkplaceChatHelper").isDesktopChatApp()?d("WorkplaceChatHelper").stopScreenSharing():d("CollabRTCChromeScreenSharing").stop():b("Promise").reject(new Error(i))}g.SCREEN_SHARING_NOT_SUPPORTED=h;g.getUserMedia=a;g.stop=j}),98);
__d("UserMediaRequestError",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d){var e;e=a.call(this,c)||this;e.constraint=d;e.nativeErrorName=b;e.message=g(c);e.name=h(b);return e}b.createFromNative=function(a){var c=a.constraint,d=a.message;a=a.name;return new b(a,d,c||"")};var c=b.prototype;c.isRecoverableError=function(){return this.name==="InvalidStateError"?!0:!1};c.getEndCallSubReason=function(){return"MediaFailed: "+this.name+", "+this.constraint};return b}(babelHelpers.wrapNativeSuper(Error));function g(a){switch(a){case"The operation is insecure.":return"The request is not allowed by the user agent or the platform in the current context.";default:return a}}function h(a){switch(a){case"ConstraintNotSatisfiedError":return"OverconstrainedError";case"NO_DEVICES_FOUND":case"DevicesNotFoundError":return"NotFoundError";case"MediaDeviceFailedDueToShutdown":case"MediaDeviceKillSwitchOn":case"TrackStartError":return"NotReadableError";case"PermissionDeniedError":case"PERMISSION_DENIED":case"PermissionDismissedError":return"NotAllowedError";default:return a}}f["default"]=a}),66);
__d("generateRTCTransactionID",["randomInt"],(function(a,b,c,d,e,f,g){"use strict";function a(){return String(c("randomInt")(0,4294967294)+1)}g["default"]=a}),98);
__d("RTCUtils",["invariant","CurrentUser","FBLogger","FBRTCConfig","FBRTCLogger","FBRTCUtils","Promise","RTCAudioTrackNoiseDetector","RTCEndCallReason","RTCMediaDevices","RTCMediaStreamValidator","RTCScreenSharing","RTCUser","RTCUserMediaConstraints","RTCVideoTrackActivityDetector","RTWebClientFeatureGating","RTWebUserActionLogger","URI","UserAgent","UserMediaRequestError","generateRTCTransactionID","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("RTCAudioTrackNoiseDetector").DATA_TIMEOUT_ERROR,j=b("RTCVideoTrackActivityDetector").PLAYBACK_TIMEOUT_ERROR,k={isGroupCall:function(a){return a.split(":")[0]==="GROUP"},isMessengerCall:function(a){return a.split(":")[0]==="MESSENGER"},isRoomCall:function(a){return a.split(":")[0]==="ROOM"},isPeerCall:function(a){return a.split(":")[0]==="PEER"},isAlohaCall:function(a){return a.split(":")[0]==="ALOHA"},isWatchPartyCall:function(a){return a.split(":")[0]==="WATCH"},isSupportedMWCall:function(a){return k.isGroupCall(a)||k.isMessengerCall(a)||k.isRoomCall(a)||k.isAlohaCall(a)||k.isWatchPartyCall(a)},getPeerID:function(a){if(k.isGroupCall(a))throw new Error("Not a P2P call: "+a);a=a.split(":");a=a.slice(1);return a[0]===b("CurrentUser").getID()?a[1]:a[0]},getMessengerCallID:function(a){if(!k.isMessengerCall(a))throw new Error("Not a Messenger call: "+a);return Number(a.split(":")[1])},getThreadID:function(a){return!k.isGroupCall(a)?null:Number(a.split(":")[1])},getSandboxingTierFromURIOrEmpty:function(a,b){b=b+"=";a=a.split(b);if(a[1]){b=a.pop().split("&").shift();return b}return""},maybeAppendSandboxOverrides:function(a){a.extensions==null&&(a.extensions={});if(b("RTWebClientFeatureGating").canUseMultiwaySandbox()){var c=window.location.href,d=k.getSandboxingTierFromURIOrEmpty(c,"multiway_www_tier");c=k.getSandboxingTierFromURIOrEmpty(c,"multiway_core_tier");d&&a.extensions!=null&&(a.extensions.multiwayWwwTier=d);c&&a.extensions!=null&&(a.extensions.multiwayCoreTier=c)}},createRequestHeader:function(a,c,d,e,f){a={type:a,clientStack:4,transactionId:b("generateRTCTransactionID")(),retryCount:0,conferenceName:c,clientSessionId:e?e:""};c={};d&&(a.serverInfoData=d);f&&(c.esc_p2p_call_id=f);a.extensions=c;k.maybeAppendSandboxOverrides(a);return a},createClientContextMessage:function(a,b){a={num_participants:a,trigger:b};b={header:{topic_DEPRECATED:"client_context",shouldSendToAllUsers:!1},body:{genericMessage:{topic:"client_context",data:JSON.stringify(a)}}};return b},createResponseHeader:function(a,b,c){b={type:a.type,clientStack:4,transactionId:a.transactionId,retryCount:0,conferenceName:a.conferenceName,responseStatusCode:b,clientSessionId:c?c:""};a.serverInfoData&&(b.serverInfoData=a.serverInfoData);b.extensions={};k.maybeAppendSandboxOverrides(b);return b},maybeRemoveVideoConstraint:function(a){return b("RTCMediaDevices").enumerateDevices().then(function(c){if(c.some(function(a){return a.kind==="videoinput"})){b("RTWebUserActionLogger").logCheckpoint({checkpoint:"[maybeRemoveVideoConstraint] At least one device has videoinput.  Keeping constraints "+JSON.stringify(a)});return a}b("RTWebUserActionLogger").logCheckpoint({checkpoint:"[maybeRemoveVideoConstraint] No devices capable of videoinput.",errorDomain:"GetUserMedia",errorType:"Removing video stream by setting video constraint to false."});return babelHelpers["extends"]({},a,{video:!1})})["catch"](function(){return b("Promise").resolve(a)})},getUserMediaWithAudioFallback:function(a,c){return a.video?k.maybeRemoveVideoConstraint(a).then(function(a){return k.getUserMedia(a,c)})["catch"](function(c){if(a.video){if(c.name==="NotFoundError"||c.name==="StreamFailedToStart"){var d="Audio Fallback Error Recovery: "+JSON.stringify(c)+" constraints: "+JSON.stringify(a);b("RTWebUserActionLogger").logCheckpoint({checkpoint:"[getUserMediaWithAudioFallback] Retrying getUserMedia with no video stream",errorDomain:"GetUserMedia",errorType:d});return k.getUserMedia({video:!1,audio:a.audio})}if(c.name==="OverconstrainedError"){d="Video Constraints Error Recovery: "+JSON.stringify(c)+" constraints: "+JSON.stringify(a);b("RTWebUserActionLogger").logCheckpoint({checkpoint:"[getUserMediaWithAudioFallback] Retrying getUserMedia with no video constraints",errorDomain:"GetUserMedia",errorType:d});return k.getUserMedia({video:!0,audio:a.audio})}}d="Error: "+JSON.stringify(c)+" constraints: "+JSON.stringify(a);b("RTWebUserActionLogger").logCheckpoint({checkpoint:"[getUserMediaWithAudioFallback] Throwing other error",errorDomain:"GetUserMedia",errorType:d});throw c}):k.getUserMedia(a,c)},getUserMediaWithFallbackToEmptyVideoConstraints:function(a,c){return k.getUserMedia(a,c)["catch"](function(c){if(a.video&&c.name==="OverconstrainedError"){b("RTWebUserActionLogger").logCheckpoint({checkpoint:"[getUserMediaWithFallbackToEmptyVideoConstraints] Fallback getUserMedia with no video constraints",errorDomain:"GetUserMedia",errorType:"Original Constraints: "+JSON.stringify(a)});return k.getUserMedia(babelHelpers["extends"]({},a,{video:!0}))}throw c})},getUserScreenMedia:function(a,c,d){return b("RTCScreenSharing").getUserMedia(a,c,d)},getUserMedia:function(a,c){var d=navigator,e=d.mediaDevices;if(typeof a.video==="object"&&a.video.mediaSource){b("FBLogger")("rtc_www").mustfix("Please use %s instead of %s for screen","RTCUtils.getUserScreenMedia()","RTCUtils.getUserMedia()");return b("RTCScreenSharing").getUserMedia(a,"unknown")}d=c&&c.optionalConstraintsOnly&&a.video;var f=k._parseConstraints(a,{optionalConstraintsOnly:!!d}),g=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return new(b("Promise"))(function(a,d){e&&typeof e.getUserMedia==="function"?(b("RTWebUserActionLogger").logCheckpoint({checkpoint:"[getUserMedia] Newer version"}),a(e.getUserMedia(f).then(function(a){return k._maybeSupportFilteredStreams(a,!!(c&&c.supportFilteredStreams))}))):g?(b("RTWebUserActionLogger").logCheckpoint({checkpoint:"[getUserMedia] Backwards compatible version"}),g.call(navigator,f,a,d)):(b("RTWebUserActionLogger").logCheckpoint({checkpoint:"[getUserMedia] Not supported"}),d("getUserMedia not supported"))})["catch"](function(a){var c=a.message,d=a.name,e=a.constraint;b("RTWebUserActionLogger").logError({errorDomain:"GetUserMedia",errorType:(d?d:"unknown GetUserMedia error")+":"+(c?" "+c:"")+(e?" "+e:"")});throw b("UserMediaRequestError").createFromNative(a)})},_parseConstraints:function(a,c){if(b("UserAgent").isBrowser("Chrome")||b("UserAgent").isBrowser("Opera")){var d=a.audio,e=a.video,f={};d!==void 0&&(f.audio=b("RTCUserMediaConstraints").chromify(d));e!==void 0&&(f.video=b("RTCUserMediaConstraints").chromify(e,c));return f}return a},_maybeSupportFilteredStreams:function(a,b){return a},getUserMediaWithValidation:function(a,c,d,e){c===void 0&&(c={audio:!0,video:!0});d===void 0&&(d=5);e===void 0&&(e={audio:1e3,video:1e3});return new(b("Promise"))(function(f,g){var h=function d(h){k.getUserMedia(a).then(function(d){return b("RTCMediaStreamValidator").validate(d,a,c,e).then(function(a){return f({stream:a})})["catch"](function(a){if(a.message===i||a.message===j)f({stream:d,err:a});else{k.stopMediaStream(d);throw a}})},g)["catch"](function(a){h>0?d(h-1):g(a)})};h(d)})},isFullScreen:function(){return Boolean(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement)},requestFullScreen:function(a){a===void 0&&(a=document.documentElement),typeof a.requestFullscreen==="function"?a.requestFullscreen():typeof a.msRequestFullscreen==="function"?a.msRequestFullscreen():typeof a.mozRequestFullScreen==="function"?a.mozRequestFullScreen():typeof a.webkitRequestFullscreen==="function"&&a.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)},exitFullScreen:function(){typeof document.exitFullscreen==="function"?document.exitFullscreen():typeof document.msExitFullscreen==="function"?document.msExitFullscreen():typeof document.mozCancelFullScreen==="function"?document.mozCancelFullScreen():typeof document.webkitExitFullscreen==="function"&&document.webkitExitFullscreen()},toggleFullScreen:function(){k.isFullScreen()?k.exitFullScreen():k.requestFullScreen()},endCallReasonFromHangupReason:function(a){return b("RTCEndCallReason").fromHangupReason(a).getReasonID()},endCallReasonFromDismissRequest:function(a){return b("RTCEndCallReason").fromDismissRequest(a).getReasonID()},endCallSubreasonFromDismissRequest:function(a){return b("RTCEndCallReason").subreasonFromDismissRequest(a)},endCallReasonFromResponseStatusCode:function(a){return b("RTCEndCallReason").fromResponseStatusCode(a).getReasonID()},stopMediaStream:function(a){if(!a.active&&"active"in a)return;a.getTracks().forEach(function(a){a.readyState!=="ended"&&a.stop()})},transferAudioTracks:function(a,b){for(var c=b.getAudioTracks(),d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;a.addTrack(f);b.removeTrack(f)}},payloadParticipantsToRTCUsers:function(a){return a.map(function(a){var c=a.big_image_src||a.image_src;a.fbid||g(0,1174);return new(b("RTCUser"))({FBID:a.fbid,profileUrl:new(h||(h=b("URI")))(a.href),profilePictureUrl:c,isMessengerUser:!!a.is_messenger_user,isPartiesUser:!!a.is_parties_user,userName:a.name,userShortName:a.short_name,vanity:a.vanity||""})})},getStreamVideoResolution:function(a){return new(b("Promise"))(function(c,d){var e=document.createElement("video");b("FBRTCUtils").attachMediaStream(e,a);var f=function(){e.removeEventListener("loadedmetadata",g),e.removeEventListener("error",h),b("FBRTCUtils").attachMediaStream(e,null)},g=function(){c({height:e.videoHeight,width:e.videoWidth}),f()},h=function(){d(e.error),f()};e.addEventListener("loadedmetadata",g);e.addEventListener("error",h)})},isScreenSharingSupported:function(){return b("UserAgent").isBrowser("Chrome")||k.isVCScreenSharingSupported()},isVCScreenSharingSupported:function(){return b("FBRTCConfig").isVCEndpointCall()&&b("gkx")("1738376")},filterDevicesByKind:function(a,b){return a?a.filter(function(a){return a.kind===b}):[]},isDevicePresent:function(a,b){return a==null?!1:a.some(function(a){return a.deviceId===b})}};e.exports=k}),null);/*FB_PKG_DELIM*/
__d("CometUnitHeader.react",["CometBase.react","CometColumn.react","CometColumnItem.react","CometIcon.react","CometPressable.react","IconSource","SVGIcon","TetraText.react","TetraTextPairing.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useState,j=8,k={action:{backgroundColor:"b0kwm4yp",borderTop:"gcieejh5",borderEnd:"bn081pho",borderBottom:"humdl8nn",borderStart:"izx4hr6d",borderTopStartRadius:"jk6sbkaj",borderTopEndRadius:"kdgqqoy6",borderBottomEndRadius:"ihh4hy1g",borderBottomStartRadius:"qttc61fc",display:"q9uorilb",marginTop:"kvgmc6g5",marginEnd:"cxmmr5t8",marginBottom:"oygrvhab",marginStart:"hcukyx3x",paddingTop:"jb3vyjys",paddingEnd:"rz4wbd8a",paddingBottom:"qt6c0cv9",paddingStart:"a8nywdso",position:"l9j0dhe7",verticalAlign:"pzggbiyp"},actionButton:{color:"py34i1dx",cursor:"nhd2j8a9",textDecoration:"owjl8umy"},actionHidden:{opacity:"b5wmifdl"},hairline:{backgroundColor:"pwoa4pd7",height:"ay7djpcl",marginBottom:"mkjtxrlb"},root:{paddingBottom:"e5nlhep0"},showActionOnHover:{visibility:"kr9hpln1","@media (pointer: coarse)":{visibility:"jbb2w91c"}}},l={0:{paddingTop:"jb3vyjys"},8:{paddingTop:"cxgpxx05"},12:{paddingTop:"pybr56ya"},16:{paddingTop:"discj3wi"},20:{paddingTop:"aodizinl"}};function a(a){var b=a.action,e=a.actionAccessibilityLabel,f=a.actionDisabled;f=f===void 0?!1:f;var g=a.actionHidden;g=g===void 0?!1:g;var m=a.actionLinkProps,n=a.actionRef,o=a.actiontestid,p=a.actionWrapper,q=a.addOn_DEPRECATED,r=a.body,s=a.bodyColor;s=s===void 0?"secondary":s;var t=a.disabled,u=a.hasTopDivider;u=u===void 0?!1:u;var v=a.headline,w=a.headlineColor;w=w===void 0?"primary":w;var x=a.iconColor;x=x===void 0?"primary":x;var y=a.iconSize;y=y===void 0?16:y;a.iconType;var z=a.isSemanticHeading;z=z===void 0?!0:z;var A=a.level,B=a.linkProps,C=a.meta,D=a.metaColor;D=D===void 0?"secondary":D;var E=a.metaLocation,F=a.onActionHoverIn,G=a.onActionHoverOut,H=a.onActionPress,I=a.onActionPressIn,J=a.onActionPressOut,K=a.onPress,L=a.onPressIn,M=a.onPressOut,N=a.paddingHorizontal;N=N===void 0?16:N;var O=a.paddingTop;O=O===void 0?20:O;var P=a.showActionOnHover;P=P===void 0?!1:P;var Q=a.testOnly_actionPressed,R=a.testOnly_pressed;a=babelHelpers.objectWithoutPropertiesLoose(a,["action","actionAccessibilityLabel","actionDisabled","actionHidden","actionLinkProps","actionRef","actiontestid","actionWrapper","addOn_DEPRECATED","body","bodyColor","disabled","hasTopDivider","headline","headlineColor","iconColor","iconSize","iconType","isSemanticHeading","level","linkProps","meta","metaColor","metaLocation","onActionHoverIn","onActionHoverOut","onActionPress","onActionPressIn","onActionPressOut","onPress","onPressIn","onPressOut","paddingHorizontal","paddingTop","showActionOnHover","testOnly_actionPressed","testOnly_pressed"]);var S=i(!1),T=S[0];S=S[1];var U;if(b!=null){m={"aria-label":e,disabled:f,linkProps:m,onHoverIn:F,onHoverOut:G,onPress:H,onPressIn:I,onPressOut:J,testid:o,testOnly_pressed:(e=Q)!=null?e:!1};b instanceof c("IconSource")?U=h.jsx(c("CometIcon.react"),babelHelpers["extends"]({},m,{color:x,icon:b,ref:n})):b instanceof d("SVGIcon").SVGIcon?U=h.jsx(c("CometIcon.react"),babelHelpers["extends"]({},m,{color:x,icon:b,ref:n,size:y})):U=h.jsx(c("CometPressable.react"),babelHelpers["extends"]({},m,{className_DEPRECATED:"actionChildElement",onFocusVisibleChange:S,overlayOffset:j,overlayRadius:4,ref:n,xstyle:[k.actionButton,k.action,g&&!T&&k.actionHidden,P&&k.showActionOnHover],children:h.jsx(c("TetraText.react"),{color:f?"disabled":"blueLink",numberOfLines:1,type:A===2?"body2":"body3",children:b})}))}else q!=null&&(U=h.jsx("div",{className:c("stylex")(k.action),children:q}));if(p!=null){F=p.component;U=h.jsx(F,babelHelpers["extends"]({},p.props,{children:U}))}H=h.jsx(c("TetraTextPairing.react"),{body:r,bodyColor:s,bodyLineLimit:3,headline:v,headlineAddOn:U,headlineColor:w,headlineLineLimit:2,isSemanticHeading:z,level:A,meta:C,metaColor:D,metaLineLimit:1,metaLocation:(G=E)!=null?G:"below"});J=h.jsx(c("CometColumn.react"),babelHelpers["extends"]({},a,{paddingHorizontal:u?0:N,xstyle:[k.root,l[O]],children:h.jsx(c("CometColumnItem.react"),{children:K!=null?h.jsx(c("CometPressable.react"),{disabled:t,linkProps:B,onPress:K,onPressIn:L,onPressOut:M,overlayDisabled:!0,ref:n,testOnly_pressed:(I=R)!=null?I:!1,children:H}):H})}));return u?h.jsxs(c("CometColumn.react"),{paddingHorizontal:N,children:[h.jsx(c("CometColumnItem.react"),{children:h.jsx(c("CometBase.react"),{xstyle:k.hairline})}),J]}):J}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useNullthrowsViolation",["err","fb-error","useCometErrorProject"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b===void 0&&(b="Unexpected null value");var d=c("useCometErrorProject")();if(d==null)throw c("err")("useNullthrowsViolation can only be used if CometErrorProjectContext\n        has a provider in your component tree");if(a!=null)return a;a=c("err")(b);a.project=d;(b=a.taalOpcodes)==null?void 0:b.push(c("fb-error").TAALOpcode.PREVIOUS_FRAME);throw a}g["default"]=a}),98);
__d("CometInternalTypeaheadFetchProvider",["CometInternalTypeaheadFetchContext","react","useBaseTypeaheadDataSourceFetch","useCometInternalTypeaheadStateDispatcher","useCometTypeaheadVolumeLoggingProvider"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useMemo;function a(a){var b=a.children,d=a.dataSource,e=a.dataSourceFetchConfigParams,f=a.loggingContext,g=a.onFetchEntries_DO_NOT_USE,k=a.traceProvider;a=c("useCometInternalTypeaheadStateDispatcher")();var l=a.dispatchActiveEntries,m=c("useCometTypeaheadVolumeLoggingProvider")(f);a=c("useBaseTypeaheadDataSourceFetch")({dataSource:d,dataSourceFetchConfigParams:e,onResolvePayload:i(function(a,b){var c;a=a.entries;var d=b.isTraceComplete;b=b.source;l((c=a)!=null?c:[]);m.logRequest(o);g&&g(a);k&&!k.isResolved()&&(d&&(b==="cache"&&a.length>=k.getEntriesCountForVisualComplete()?k.setEndReason("max_suggestions_reached"):b==="network"?k.setEndReason("all_queries_completed"):b==="network-no-results"&&k.setEndReason("all_queries_completed_no_network_results"),k.resolve()))},[l,g,k])});f=a[0];var n=f.isLoading,o=f.source,p=a[1],q=a[2];d=j(function(){return{fetch:p,isLoading:n,refetch:q,source:o}},[p,n,q,o]);return h.jsx(c("CometInternalTypeaheadFetchContext").Provider,{value:d,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("BaseTypeahead.react",["CometHeroInteractionContextPassthrough.react","CometInternalTypeahead.react","CometInternalTypeaheadFetchProvider","CometInternalTypeaheadStateProvider","emptyFunction","react","useCometUniqueID","withCometTypeaheadInputStrategyShouldQueryStringFollowHighlightedEntry"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useMemo;function a(a){var b=a.autoFocus;b=b===void 0?!1:b;var d=a.inputStrategyRenderer,e=a.dataSource,f=a.dataSourceFetchConfigParams,g=a.decorators,k=g===void 0?[]:g;g=a.emptyEntries_DO_NOT_USE;var l=a.id,m=a.isDisabled;m=m===void 0?!1:m;var n=a.label;n=n===void 0?"":n;var o=a.loggingContext,p=a.onBackspace;p=p===void 0?c("emptyFunction"):p;var q=a.onBlur;q=q===void 0?c("emptyFunction"):q;var r=a.onChange,s=a.onClose,t=a.onEnter;t=t===void 0?c("emptyFunction"):t;var u=a.onEscape;u=u===void 0?c("emptyFunction"):u;var v=a.onFetchEntries_DO_NOT_USE,w=a.onFocus;w=w===void 0?c("emptyFunction"):w;var x=a.onOpen,y=a.onPressEntry,z=a.placeholder;z=z===void 0?"":z;var A=a.shouldQueryStringFollowHighlightedEntry,B=A===void 0?!0:A;A=a.shouldQueryStringUpdateFromSelectedEntryOnClick;var C=A===void 0?!0:A;A=a.testid;A=A===void 0?"":A;A=a.traceProvider;var D=a.viewRole;D=D===void 0?"listbox":D;var E=a.viewStrategyRenderer,F=a.inputRef;a=babelHelpers.objectWithoutPropertiesLoose(a,["autoFocus","inputStrategyRenderer","dataSource","dataSourceFetchConfigParams","decorators","emptyEntries_DO_NOT_USE","id","isDisabled","label","loggingContext","onBackspace","onBlur","onChange","onClose","onEnter","onEscape","onFetchEntries_DO_NOT_USE","onFocus","onOpen","onPressEntry","placeholder","shouldQueryStringFollowHighlightedEntry","shouldQueryStringUpdateFromSelectedEntryOnClick","testid","traceProvider","viewRole","viewStrategyRenderer","inputRef"]);var G=c("useCometUniqueID")(),H=j(function(){var a=c("CometInternalTypeahead.react");k.forEach(function(b){var c=b.decorate;b=b.params;a=c(a,b)});return a},[k]),I=i(function(a){C&&r(a.label),y&&y(a)},[r,y,C]),J=j(function(){return c("withCometTypeaheadInputStrategyShouldQueryStringFollowHighlightedEntry")(d,{shouldQueryStringFollowHighlightedEntry:B})},[d,B]);n=n||z;return h.jsx(c("CometHeroInteractionContextPassthrough.react"),{clear:!0,children:h.jsx(c("CometInternalTypeaheadStateProvider"),{emptyEntries_DO_NOT_USE:g,onClose:s,onOpen:x,children:h.jsx(c("CometInternalTypeaheadFetchProvider"),{dataSource:e,dataSourceFetchConfigParams:f,loggingContext:o,onFetchEntries_DO_NOT_USE:v,traceProvider:A,children:h.jsx(H,babelHelpers["extends"]({},a,{autoFocus:b,id:(g=l)!=null?g:G,inputRef:F,inputStrategyRenderer:J,isDisabled:m,label:n,onBackspace:p,onBlur:q,onChange:r,onDownArrow:c("emptyFunction"),onEnter:t,onEscape:u,onFocus:w,onHighlightEntry:c("emptyFunction"),onPressEntry:I,onShiftTab:c("emptyFunction"),onTab:c("emptyFunction"),onUpArrow:c("emptyFunction"),placeholder:z,testid:void 0,traceProvider:A,viewRole:D,viewStrategyRenderer:E}))})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometTypeaheadInMemoryMapDataCache",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=new Map()}var b=a.prototype;b.clear=function(){this.$1.clear()};b.get=function(a){return this.$1.get(a)};b.has=function(a){return this.$1.has(a)};b.remove=function(a){this.$1["delete"](a)};b.set=function(a,b){this.$1.set(a,b)};b.values=function(){return Array.from(this.$1.values())};return a}();f["default"]=a}),66);
__d("CometTypeaheadNetworkDataSource",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.fetchNetwork=function(a){var b=this;return this.$1.fetch(a).then(function(c){var d=c.requestQueryVariables;c=c.response;return{entries:b.$2(c,d),params:a}})};return a}();f["default"]=a}),66);
__d("CometTypeaheadNetworkCacheDataSource",["CometTypeaheadNetworkDataSource"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,d){d=d.normalizeFunc;this.$1=new(c("CometTypeaheadNetworkDataSource"))(a,d);this.$2=b}var b=a.prototype;b.fetchCache=function(a){var b=a.query;b=this.$2.match(b);return{entries:b,params:a}};b.fetchNetwork=function(a){var b=this,c=a.query;return this.$1.fetchNetwork(a).then(function(d){d=d.entries;d!=null&&b.$2.add(d,c);return{entries:b.$2.match(c),params:a}})};return a}();g["default"]=a}),98);
__d("cometTypeaheadLabelSuffixBuilder",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a=a.label.trimLeft().toLowerCase();return b==null||!a.startsWith(b)?"":a.slice(b.length)}f["default"]=a}),66);
__d("cometTypeaheadFetchPayloadDecorate",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){b===void 0&&(b=[]);var c=a;b.forEach(function(a){c=a(c)});return c}f["default"]=a}),66);
__d("CometTypeaheadDataProvider",["CometRelay","CometRelayErrorHandling","Promise"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=a.onError,c=a.options,d=a.query,e=a.queryVariablesBuilder;a=a.relayEnvironment;this.$1=b;this.$2=d;this.$3=e;this.$4=a;this.$5=c}var c=a.prototype;c.fetch=function(a){var c=this,e=this.$3.build(),f=e(a);return new(b("Promise"))(function(a,b){var e,g=!1;d("CometRelay").fetchQuery(c.$4,c.$2,f,{fetchPolicy:(e=c.$5)==null?void 0:e.fetchPolicy}).subscribe({error:function(a){d("CometRelayErrorHandling").markErrorAsHandled(a),c.$1!=null&&c.$1(a),b(a)},next:function(b){g||(g=!0,a({requestQueryVariables:f,response:b}))}})})};return a}();g["default"]=a}),98);
__d("CometTypeaheadDataProviderQueryVariablesBuilder",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=null,this.$2=null,this.$3=a}var b=a.prototype;b.build=function(){return this.$3(this.$1,this.$2)};b.setComputedVariables=function(a){this.$2=a;return this};b.setDefaultVariables=function(a){this.$1=a;return this};return a}();f["default"]=a}),66);
__d("cometDataEntryLabelKeyBuilder",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.label.trimLeft().toLowerCase()}f["default"]=a}),66);
__d("cometCacheEntryLabelKeyBuilder",["cometDataEntryLabelKeyBuilder"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("cometDataEntryLabelKeyBuilder")(a.entry)}g["default"]=a}),98);
__d("cometTypeaheadDedupEntriesBuilder",[],(function(a,b,c,d,e,f){"use strict";function a(a){return function(b,c){var d=new Set(b.map(function(b){return a(b)}));c=c.filter(function(b){return!d.has(a(b))});return[].concat(b,c)}}f["default"]=a}),66);
__d("CometTypeaheadQueryDataCacheProvider",["CometTypeaheadInMemoryMapDataCache","cometCacheEntryLabelKeyBuilder","cometTypeaheadDedupEntriesBuilder","cometTypeaheadLabelSuffixBuilder","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){a=a===void 0?{}:a;var b=a.dedupe;a=a.suffixBuilder;this.$1=new(c("CometTypeaheadInMemoryMapDataCache"))();this.$2=(b=b)!=null?b:c("cometTypeaheadDedupEntriesBuilder")(c("cometCacheEntryLabelKeyBuilder"));this.$3=(b=a)!=null?b:c("cometTypeaheadLabelSuffixBuilder")}var b=a.prototype;b.add=function(a,b){b===void 0&&(b="");b=((b=b)!=null?b:"").trimLeft().toLowerCase();a=this.$4(a,b);this.$1.set(b,a)};b.clear=function(){this.$1.clear()};b.match=function(a){a=a.trimLeft().toLowerCase();if(a===""){var b;return((b=this.$1.get(a))!=null?b:[]).map(function(a){a=a.entry;return a})}b=[];for(var c=1;c<=a.length;c++){var d=a.substring(0,c),e=a.substring(c,a.length);d=this.$5(d,e);b=this.$2(b,d)}return b.map(function(a){a=a.entry;return a})};b.remove=function(a){c("recoverableViolation")("'remove' is not implemented for CometTypeaheadQueryDataCacheProvider","search")};b.$5=function(a,b){a=(a=this.$1.get(a))!=null?a:[];return a.map(function(a){return!a.suffix.startsWith(b)&&a.suffix!==b.trim()?null:a}).filter(Boolean)};b.$4=function(a,b){var c=this;return a.map(function(a){return{entry:a,suffix:c.$3(a,b)}})};b.values=function(){c("recoverableViolation")("'entries' is not implemented for CometTypeaheadQueryDataCacheProvider","search");return[]};return a}();g["default"]=a}),98);
__d("cometDataEntryKeyBuilder",[],(function(a,b,c,d,e,f){"use strict";function a(a){a=a.key;return a.trimLeft().toLowerCase()}f["default"]=a}),66);
__d("cometCacheEntryKeyBuilder",["cometDataEntryKeyBuilder"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("cometDataEntryKeyBuilder")(a.entry)}g["default"]=a}),98);
__d("CometTypeaheadInternalLayoutInlineStrategy.react",["CometTypeaheadInputStrategyEventListener.react","CometTypeaheadViewStrategyEventListener.react","cometHandleHighlightDropOnMouseLeave","react","stylex","useCometInternalTypeaheadState","useCometTypeaheadLayoutStrategyStyles"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={helperText:{marginTop:"aov4n071"}};function a(a){var b=a.extraLayoutProps,d=b.ariaProps,e=d.ariaDescribedByProps,f=d.ariaInputProps,g=d.ariaViewProps;d=b.helperTextComponent;var j=b.isLoading;b=b.isOpened;var k=a.description,l=a.errorMessage,m=a.extraViewProps,n=a.id,o=a.inputStrategyRenderer,p=a.label,q=a.onBackspace,r=a.onBlur,s=a.onChange,t=a.onClick,u=a.onDownArrow,v=a.onEnter,w=a.onEscape,x=a.onFocus,y=a.onShiftTab,z=a.onTab,A=a.onUpArrow,B=a.queryString,C=a.inputRef,D=a.viewStrategyRenderer,E=a.xstyles;E=E===void 0?{}:E;var F=babelHelpers.objectWithoutPropertiesLoose(a,["extraLayoutProps","description","errorMessage","extraViewProps","id","inputStrategyRenderer","label","onBackspace","onBlur","onChange","onClick","onDownArrow","onEnter","onEscape","onFocus","onShiftTab","onTab","onUpArrow","queryString","inputRef","viewStrategyRenderer","xstyles"]);a=c("useCometInternalTypeaheadState")();var G=a.activeEntries,H=a.highlightedEntry;a=c("useCometTypeaheadLayoutStrategyStyles")({isOpened:b,xstyles:E});E=a.inputXStyle;var I=a.layoutXStyle,J=a.viewXStyle_DO_NOT_USE,K=c("cometHandleHighlightDropOnMouseLeave")(F.onHighlightEntry);return h.jsxs("div",{className:c("stylex")(I),children:[h.jsx("div",{className:c("stylex")(E),children:h.jsx(c("CometTypeaheadInputStrategyEventListener.react"),{onBackspace:q,onBlur:r,onChange:s,onClick:t,onDownArrow:u,onEnter:v,onEscape:w,onFocus:x,onShiftTab:y,onTab:z,onUpArrow:A,ref:C,children:function(a,b){return h.jsx(o,babelHelpers["extends"]({},b,{ariaProps:f,autoFocus:F.autoFocus,description:k,errorMessage:l,id:n,inputEndContent:F.inputEndContent,inputExtraProps:F.inputExtraProps,inputStartContent:F.inputStartContent,isDisabled:F.isDisabled,label:p,placeholder:F.placeholder,queryString:B,ref:a,testid:void 0}))}})}),d!=null&&h.jsx("div",babelHelpers["extends"]({className:c("stylex")(i.helperText)},e,{children:d})),b&&h.jsx(c("CometTypeaheadViewStrategyEventListener.react"),{onOutsideClick:F.onOutsideClick,children:function(a){return h.jsx("div",{className:c("stylex")(J),onMouseLeave:K,ref:a,children:h.jsx(D,{ariaProps:g,entries:G,extraViewProps:m,highlightedEntry:H,isLoading:j,onAbandonTypeahead_DO_NOT_USE:F.onAbandonTypeahead_DO_NOT_USE,onHighlightEntry:F.onHighlightEntry,onPressEntry:F.onPressEntry,queryString:B})})}})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("cometSearchTypeaheadPayloadDecoratorAddLimit",[],(function(a,b,c,d,e,f){"use strict";function a(a){return function(b){var c=b.entries;c=((c=c)!=null?c:[]).slice(0,a);return babelHelpers["extends"]({},b,{entries:c})}}f["default"]=a}),66);
__d("useSubscriptionValue",["React"],(function(a,b,c,d,e,f,g){b=d("React");var h=b.useCallback,i=b.useEffect,j=b.useState;function a(a){var b=a.getCurrentValue,c=a.subscribe;a=j(function(){return b()});var d=a[0],e=a[1],f=h(function(){e(b)},[b]);a=j(function(){return b});var g=a[0];a=a[1];g!==b&&(a(function(){return b}),f());i(function(){var a=!1,b=function(){a||f()},d=c(b);f();return function(){a=!0,d()}},[f,c]);return d}g["default"]=a}),98);
__d("useWindowSize",["ExecutionEnvironment","react","throttle","useSubscriptionValue"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function i(){return!c("ExecutionEnvironment").canUseDOM?{innerHeight:0,innerWidth:0,outerHeight:0,outerWidth:0}:{innerHeight:window.innerHeight,innerWidth:window.innerWidth,outerHeight:window.outerHeight,outerWidth:window.outerWidth}}function a(a){a===void 0&&(a=500);var b=h(function(b){var d=c("throttle")(b,a);window.addEventListener("resize",d);return function(){window.removeEventListener("resize",d)}},[a]);return c("useSubscriptionValue")({getCurrentValue:i,subscribe:b})}g["default"]=a}),98);
__d("XMessengerHelpCenterContentControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/help/messenger-app/{cms_id}/{?cms_title}/",Object.freeze({maybe_redirect_pol:!0}),void 0);b=a;g["default"]=b}),98);
__d("TokenizeUtil",["nullthrows"],(function(a,b,c,d,e,f,g){var h=/[ ]+/g,i=/[^ ]+/g;f=new RegExp("[^ "+l()+"]+|"+a(),"g");var j=new RegExp(a(),"g"),k=1e3;function l(){return".,+*?$|#{}()'\\^\\-\\[\\]\\\\\\/!@%\"~=<>_:;\u30fb\u3001\u3002\u3008-\u3011\u3014-\u301f\uff1a-\uff1f\uff01-\uff0f\uff3b-\uff40\uff5b-\uff65\u2e2e\u061f\u066a-\u066c\u061b\u060c\u060d\ufd3e\ufd3f\u1801\u0964\u104a\u104b\u2010-\u2027\u2030-\u205e\xa1-\xb1\xb4-\xb8\xba\xbb\xbf"}function a(){return"["+l()+"]"}var m={},n={a:"\u0430 \xe0 \xe1 \xe2 \xe3 \xe4 \xe5 \u0101",b:"\u0431",c:"\u0446 \xe7 \u010d",d:"\u0434 \xf0 \u010f \u0111",e:"\u044d \u0435 \xe8 \xe9 \xea \xeb \u011b \u0113",f:"\u0444",g:"\u0433 \u011f \u0123",h:"\u0445 \u0127",i:"\u0438 \xec \xed \xee \xef \u0131 \u012b",j:"\u0439",k:"\u043a \u0138 \u0137",l:"\u043b \u013e \u013a \u0140 \u0142 \u013c",m:"\u043c",n:"\u043d \xf1 \u0148 \u0149 \u014b \u0146",o:"\u043e \xf8 \xf6 \xf5 \xf4 \xf3 \xf2",p:"\u043f",r:"\u0440 \u0159 \u0155",s:"\u0441 \u015f \u0161 \u017f",t:"\u0442 \u0165 \u0167 \xfe",u:"\u0443 \u044e \xfc \xfb \xfa \xf9 \u016f \u016b",v:"\u0432",y:"\u044b \xff \xfd",z:"\u0437 \u017e",ae:"\xe6",oe:"\u0153",ts:"\u0446",ch:"\u0447",ij:"\u0133",sh:"\u0448",ss:"\xdf",ya:"\u044f"};for(var o in n){var p=n[o].split(" ");for(var q=0;q<p.length;q++)m[p[q]]=o}function b(a){return a.replace(j," ")}function r(a){a=a.toLowerCase();var b="",c;for(var d=a.length;d--;)c=a.charAt(d),b=(m[c]||c)+b;return b.replace(h," ")}function s(a,b){b===void 0&&(b=i);var c=[],d=b.exec(a);while(d)d=d[0],c.push(d),d=b.exec(a);return c}function d(a,b){b===void 0&&(b=i);var c={},d=0;return function(e,f){if(!Object.prototype.hasOwnProperty.call(c,e)){d>=k&&(c={},d=0);var g=r(e),h=a(g);c[e]={value:e,flatValue:g,tokens:s(h,b),isPrefixQuery:!!h&&h[h.length-1]!=" "};d++}f!=null&&f!==!1&&c[e].sortedTokens===void 0&&(c[e].sortedTokens=c[e].tokens.slice(),c[e].sortedTokens.sort(function(a,b){return b.length-a.length}));return c[e]}}var t=d(b),u=d(function(a){return a},f);function e(a,b,d){var e=a=="query"||a=="query_punc",f=a=="aligned",g=a=="query_punc"?u:t;b=g(b,a=="prefix");var h=a=="prefix"?c("nullthrows")(b.sortedTokens):b.tokens,i=g(d).tokens,j={},k=b.isPrefixQuery&&(e||f)?h.length-1:null;g=function(b,c){for(var d=0;d<i.length;++d){var g=i[d];if(!j[d]&&(g==b||((e||f)&&c===k||a=="prefix")&&g.indexOf(b)===0))return j[d]=!0;if(f&&!j[d])return!1}return!1};return Boolean(h.length&&h.every(g))}p={flatten:r,parse:t,parseIncludingPunctuations:u,getPunctuation:a,makeParse:d,isExactMatch:e.bind(null,"exact"),isQueryMatch:e.bind(null,"query"),isQueryMatchIncludingPunctuations:e.bind(null,"query_punc"),isAlignedMatch:e.bind(null,"aligned"),isPrefixMatch:e.bind(null,"prefix"),tokenize:s};q=p;g["default"]=q}),98);/*FB_PKG_DELIM*/
__d("MWChatSettingsCustomizeEmoji.bs",["fbt","ix","CometLazyDialogTrigger.react","JSResource","MWMenuItem.react","ODS","bs_curry","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function a(a){a=a.thread;var c=j.useRef(null);return j.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("MWChatCustomizeEmojiDialog").__setRef("MWChatSettingsCustomizeEmoji.bs"),dialogProps:{threadKey:a.threadKey,onClose:function(a){}},children:function(a){return j.jsx(b("MWMenuItem.react"),{primaryText:g._(/*FBT_CALL*/"Emoji"/*FBT_CALL*/),onClick:function(c){b("ODS").bumpEntityKey(3185,"mwchat_settings","emoji");return b("bs_curry")._1(a,void 0)},icon:b("fbicon")._(h("642537"),20),ref:c,testid:"messenger_settings_emoji_menu"})}})}c=a;f.make=c}),null);
__d("MWV2EditEmojiMenuItemCond.bs",["cr:209"],(function(a,b,c,d,e,f){"use strict";a=b("cr:209").make;f.$MWV2EditEmojiMenuItem$OR$MWChatSettingsCustomizeEmoji$requireCond=b("cr:209");f.make=a}),null);
__d("MWV2ChatSettingsBlockGroupMember.bs",["fbt","ix","CometLazyDialogTrigger.react","JSResourceForInteraction","MWMenuItem.react","bs_curry","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function a(a){a=a.thread;var c=g._(/*FBT_CALL*/"Block a member"/*FBT_CALL*/);return j.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResourceForInteraction")("MWV2BlockGroupMemberDialogForJSResource.react",{name:"MWV2BlockGroupMemberDialog","class":"fluid"}).__setRef("MWV2ChatSettingsBlockGroupMember.bs"),dialogProps:{threadKey:a.threadKey,onClose:function(a){}},children:function(a){return j.jsx(b("MWMenuItem.react"),{primaryText:c,onClick:function(c){return b("bs_curry")._1(a,void 0)},icon:b("fbicon")._(h("482898"),20)})}})}c=a;f.make=c}),null);
__d("MWV2ChatSettingsIgnoreMessages.bs",["fbt","ix","CometLazyDialogTrigger.react","JSResourceForInteraction","LsIgnoreTappedFalcoEvent","LsMessengerThreadDamagingActionsEntryPoint.bs","MWMenuItem.react","bs_caml_int64","bs_curry","bs_int64","fbicon","react","uuid"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function a(a){var c=a.thread;a=a.tab;var d=b("uuid")(),e=j.useRef(null);return j.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResourceForInteraction")("MWV2IgnoreMessagesDialogForJSResource",{name:"MWV2IgnoreMessagesDialog","class":"fluid"}).__setRef("MWV2ChatSettingsIgnoreMessages.bs"),dialogProps:{thread:c,tab:a,onClose:function(a){},uuid:d,entryPoint:b("LsMessengerThreadDamagingActionsEntryPoint.bs").threadSettings},children:function(a){return j.jsx(b("MWMenuItem.react"),{primaryText:g._(/*FBT_CALL*/"Ignore messages"/*FBT_CALL*/),onClick:function(e){b("LsIgnoreTappedFalcoEvent").log(function(){return{thread:{id:b("bs_int64").to_string(c.threadKey),type:b("bs_caml_int64").to_int32(c.threadType)},entry_point:{entry_point:b("bs_caml_int64").to_int32(b("LsMessengerThreadDamagingActionsEntryPoint.bs").threadSettings)},uuid:d,extra_data_map:{}}});return b("bs_curry")._1(a,void 0)},icon:b("fbicon")._(h("578906"),20),ref:e,testid:"messenger_settings_ignore"})}})}c=a;f.make=c}),null);
__d("MWV2ChatSettingsMute.bs",["ix","CometLazyDialogTrigger.react","JSResource","MWMenuItem.react","MessengerMuteUtils.bs","ODS","bs_curry","fbicon","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c=a.thread;a=a.disabled;var d=a!==void 0?a:!1,e=b("MessengerMuteUtils.bs").muteActionLabel(!1),f=i.useRef(null);return i.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("LSMuteThreadDialogForJSResource.react").__setRef("MWV2ChatSettingsMute.bs"),dialogProps:{onClose:function(a){},thread:c},children:function(a){return i.jsx(b("MWMenuItem.react"),{primaryText:e,onClick:function(c){b("ODS").bumpEntityKey(3185,"mwchat_settings","mute");return b("bs_curry")._1(a,void 0)},icon:b("fbicon")._(g("532356"),20),ref:f,disabled:d,testid:"messenger_settings_mute_menu"})}})}c=a;f.make=c}),null);
__d("MAWChatSettingsUnmuteMenuItem.bs",["ix","MAWSecureThreadUpdateMuteSetting.bs","MWMenuItem.react","bs_caml_option","bs_curry","fbicon","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c=a.thread,d=a.label;a=a.mutedUntilLabel;var e=b("MAWSecureThreadUpdateMuteSetting.bs").useHook(c.threadKey,0,function(a){});c={primaryText:d,onClick:function(a){b("bs_curry")._1(e,void 0)},icon:b("fbicon")._(g("652791"),20)};a!==void 0&&(c.secondaryText=b("bs_caml_option").valFromOption(a));return i.jsx(b("MWMenuItem.react"),c)}c=a;f.make=c}),null);
__d("MWV2ChatSettingsUnmute.bs",["ix","LSMessagingThreadTypeUtil.bs","MAWChatSettingsUnmuteMenuItem.bs","MAWGating.bs","MWChatUnmuteThread.bs","MWMenuItem.react","MessengerMuteUtils.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","bs_belt_Option","bs_caml_int64","bs_caml_option","bs_curry","cr:10881","fbicon","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function j(a){var c=a.threadKey,d=b("useReStore")();return b("bs_belt_Option").getWithDefault(b("ReQLSubscription.bs").useFirst(i.useMemo(function(){return b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("ReQLTable").table(d,"threads").asc,{hd:c,tl:0}),function(a){return b("bs_caml_int64").to_float(a.muteExpireTimeMs)})},[d,JSON.stringify(c)])),0)}function a(a){var c=a.thread;a=j(c);var d=b("LSMessagingThreadTypeUtil.bs").isSecure(c.threadType),e=b("MessengerMuteUtils.bs").muteActionLabel(!0);a=b("MessengerMuteUtils.bs").mutedUntilLabel(a/1e3);var f=b("MWChatUnmuteThread.bs").useHook(void 0);if(!(b("cr:10881")==null)&&!b("MAWGating.bs").isOccamadillo&&d)return i.jsx(b("MAWChatSettingsUnmuteMenuItem.bs").make,{thread:c,label:e,mutedUntilLabel:a});d={primaryText:e,onClick:function(a){return b("bs_curry")._1(f,c)},icon:b("fbicon")._(g("652791"),20)};a!==void 0&&(d.secondaryText=b("bs_caml_option").valFromOption(a));return i.jsx(b("MWMenuItem.react"),d)}c=a;f.$MAWChatMuteConversationDialogButton$requireCond=b("cr:10881");f.make=c}),null);
__d("MWV2EditPhotoMenuItem.bs",["fbt","MWInboxInfoActionsSectionIcons.bs","MWMenuItem.react","MWV2EditPhotoUploader.bs","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j=g._(/*FBT_CALL*/"Change photo"/*FBT_CALL*/);function a(a){a=a.thread;return i.jsx(b("MWV2EditPhotoUploader.bs").make,{thread:a,children:function(a){return i.jsx(b("MWMenuItem.react"),{primaryText:j,onClick:function(c){return b("bs_curry")._1(a,void 0)},icon:b("MWInboxInfoActionsSectionIcons.bs").ChangePhoto.icon,preventClosingMenuOnSelect:!0})}})}c=a;f.make=c}),null);
__d("MWV2EditThemeMenuItem.bs",["fbt","CometSVGIcon.react","JSResourceForInteraction","MWMenuItem.react","MWPThreadTheme.bs","MWV2ColorUtils.bs","bs_caml_array","bs_caml_int32","bs_curry","bs_int64","react","useCometLazyDialog","useCometUniqueID","useSetAttributeRef"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function j(a){a=b("MWPThreadTheme.bs").useHook(void 0);var c=a.gradientColors.sort(function(a,c){return b("bs_int64").compare(a.gradientIndex,c.gradientIndex)}).map(function(a){return b("MWV2ColorUtils.bs").int64ToHex(a.color)});c.length===0&&c.push(b("MWV2ColorUtils.bs").int64ToHex(a.threadTheme.fallbackColor));c.length===1&&c.push(b("bs_caml_array").get(c,0));a=i.jsx("linearGradient",{gradientTransform:"rotate(90)",children:c.map(function(a,d){var e=b("bs_caml_int32").div(100,c.length-1|0);e=String(Math.imul(d,e))+"%";return i.jsx("stop",{stopColor:a,offset:e},String(d))})});var d=b("useCometUniqueID")(),e=b("useSetAttributeRef")("id",d);d=b("useSetAttributeRef")("mask","url(#"+d+")");return i.jsxs(b("CometSVGIcon.react"),{color:a,children:[i.jsx("defs",{children:i.jsxs("mask",{ref:e,children:[i.jsx("rect",{width:"100%",height:"100%",fill:"white"}),i.jsx("circle",{cx:"10",cy:"10",r:"3",fill:"black"})]})}),i.jsx("circle",{cx:"10",cy:"10",r:"10",ref:d})],size:"20",viewBox:"0 0 20 20"})}c={make:j};function a(a){var c=a.thread;a=b("MWPThreadTheme.bs").useHook(void 0);var d=a.setPreviewId;a=b("useCometLazyDialog")(b("JSResourceForInteraction")("MWV2EditThemeDialog.react").__setRef("MWV2EditThemeMenuItem.bs"));var e=a[0];return i.jsx(b("MWMenuItem.react"),{primaryText:g._(/*FBT_CALL*/"Change theme"/*FBT_CALL*/),onClick:function(a){a={thread:c,onClose:function(a){}};var f=function(a){return b("bs_curry")._1(d,function(a){})};return e(a,f)},icon:j})}d=a;f.Icon=c;f.make=d}),null);
__d("XCometGroupLandingControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/groupslanding/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("MWV2HeaderSettingsMenu.bs",["fbt","ix","Actor.re","CurrentEnvironment","FBID.bs","LS.bs","LSContactBlockedByViewerStatus.bs","LSLocalOptimisticDeleteCommunityChannel","LSMessagingThreadTypeUtil.bs","LSOptimisticRemoveThread","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","LSThreadRemoveType.bs","LSTransaction.bs","LsMessengerThreadDamagingActionsEntryPoint.bs","LsMessengerThreadDamagingActionsSource","MAWGating.bs","MWAddMemberToGroupDialogTrigger.bs","MWCMGating.bs","MWCMReportCommunityChannel.bs","MWCMShareLinkMenuItem.bs","MWCMThreadTypes.bs","MWChatSettingsChangeConversationName.bs","MWChatSettingsDeleteConversation.bs","MWChatSettingsEditNicknames.bs","MWChatSettingsMembers.bs","MWChatSettingsOpenMD.bs","MWChatSettingsViewProfile.bs","MWChatStateActions.bs","MWChatStateV2.bs","MWGroupLimitContainer.bs","MWInboxInfoBlockMessages.bs","MWInboxInfoFRXItem.bs","MWInboxInfoMessengerRestrict.bs","MWLSActor.bs","MWLSCanLeaveGroup.bs","MWLSContactTypeExactUtils.bs","MWLSFeatureLimitedStatus.bs","MWLSLeaveGroupMenuItem.bs","MWMenu.react","MWMenuItem.react","MWMenuTopSeparator.bs","MWPParticipantsAndContactsForThread.bs","MWPUseIsThreadMuted.bs","MWThreadListHoverButtonDropdownMenuIcons.bs","MWV2ChatSettingsBlockGroupMember.bs","MWV2ChatSettingsIgnoreMessages.bs","MWV2ChatSettingsMute.bs","MWV2ChatSettingsUnmute.bs","MWV2EditEmojiMenuItemCond.bs","MWV2EditPhotoMenuItem.bs","MWV2EditThemeMenuItem.bs","MWV2OpenGroupHeaderMenuItem.bs","MWV2OpenTabOrThread.bs","MWV2ThreadIsPage.bs","MWXacGating.bs","MessengerDesktopDeepLinkUtils","MessengerDesktopDeeplinkEventFalcoEvent","MessengerRestrictButtonSource.bs","ODS","ReQL.bs","ReQLSubscription.bs","ReQLSuspense.bs","ReQLTable","XCometVanityURLControllerRouteBuilder","XMessengerDotComDesktopLaunchAppInterstitialControllerRouteBuilder","bs_caml","bs_caml_array","bs_caml_option","bs_curry","bs_int64","cr:12292","cr:12293","cr:12294","cr:777","cr:890","fbicon","gkx","promiseDone","react","useReStore","uuid"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function k(a){a=a.thread;var c=b("MWV2OpenTabOrThread.bs").useHook(void 0),d=b("MWCMThreadTypes.bs").isJoinedCMThread(a.threadType);return d&&!(b("cr:777")==null)?j.jsx(b("cr:777").make,{thread:a}):j.jsx(b("MWMenuItem.react"),{primaryText:g._(/*FBT_CALL*/"Open in Messenger"/*FBT_CALL*/),href:b("bs_curry")._1(c.getUrlFromThreadKey,a.threadKey),onClick:function(a){b("ODS").bumpEntityKey(3185,"mwchat_settings","open_messenger")},icon:b("fbicon")._(h("505620"),20),testid:"messenger_settings_open_inbox"})}c={make:k};function l(a){a=a.thread;var c=b("Actor.re").useActor(),d=j.useRef(b("uuid")()),e=j.useRef(!1);j.useEffect(function(){e.current||(e.current=!0,b("MessengerDesktopDeeplinkEventFalcoEvent").log(function(a){return{event:"chat_settings_open_in_app_impression",eventLocation:"browser",eventType:"thread",funnelSessionId:d.current,mobile_app_source:"unknown"}}))},[]);var f=function(a){b("MessengerDesktopDeeplinkEventFalcoEvent").log(function(a){return{event:"chat_settings_open_in_app_click",eventLocation:"browser",eventType:"thread",funnelSessionId:d.current,mobile_app_source:"unknown"}})};return j.jsx(b("MWMenuItem.react"),{primaryText:g._(/*FBT_CALL*/"Open Messenger app"/*FBT_CALL*/),href:b("XMessengerDotComDesktopLaunchAppInterstitialControllerRouteBuilder").buildUri({funnel_session_id:d.current,id:b("bs_caml_option").some(c[0]),thread:b("bs_int64").to_string(a.threadKey),origin:"FB"}).setDomain("www.messenger.com").setProtocol("https").toString(),onClick:f,icon:b("fbicon")._(h("505620"),20),testid:"messenger_settings_open_in_app"})}d={make:l};function m(a){a=a.thread;var c=b("MWCMThreadTypes.bs").isJoinedCMThread(a.threadType)?g._(/*FBT_CALL*/"Add members"/*FBT_CALL*/):g._(/*FBT_CALL*/"Add people"/*FBT_CALL*/);return j.jsx(b("MWGroupLimitContainer.bs").make,{children:j.jsx(b("MWAddMemberToGroupDialogTrigger.bs").make,{thread:a,children:function(a,d){return j.jsx(b("MWMenuItem.react"),{primaryText:c,onClick:function(c){b("ODS").bumpEntityKey(3185,"mwchat_settings","add_people");return b("bs_curry")._1(a,void 0)},icon:b("fbicon")._(h("497891"),20)})}}),groupLimitReachedContent:null,thread:a})}e={make:m};function n(a){var c=a.thread,d=b("useReStore")(),e=b("MWChatStateV2.bs").useDispatch(void 0),f=b("MWLSActor.bs").useActor(void 0);a=b("ReQLSubscription.bs").useArray(j.useMemo(function(){return b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("ReQLTable").table(d,"participants").asc,{hd:c.threadKey,tl:0}),function(a){return b("ReQLSuspense.bs").first(b("ReQL.bs").getKeyRange(b("ReQLTable").table(d,"contacts").asc,{hd:a.contactId,tl:0}))})},[d,JSON.stringify(c.threadKey)]));var i=[];a.forEach(function(a){if(a!==void 0&&b("bs_caml").i64_neq(a.id,f)){i.push(a);return}});return j.jsx(b("MWMenuItem.react"),{primaryText:g._(/*FBT_CALL*/"Create group"/*FBT_CALL*/),onClick:function(a){return b("bs_curry")._1(e,b("MWChatStateActions.bs").openTab(Date.now(),{shouldFocus:!0},{TAG:0,_0:i}))},icon:b("fbicon")._(h("943402"),20)})}var o={make:n};function p(a){var c=a.thread,d=a.contactId;a=a.isPage;return j.jsx(b("MWInboxInfoBlockMessages.bs").make,{thread:c,contactId:d,isPage:a,children:function(a,c,d,e){return j.jsx(b("MWMenuItem.react"),{primaryText:d,onClick:function(c){b("ODS").bumpEntityKey(3185,"mwchat_settings","block");return b("bs_curry")._1(a,void 0)},icon:b("fbicon")._(h("482898"),20),testid:"mw_block_messages_button"})},loggingEntryPoint:b("LsMessengerThreadDamagingActionsEntryPoint.bs").threadSettings,loggingSource:a?b("LsMessengerThreadDamagingActionsSource").PAGE:b("LsMessengerThreadDamagingActionsSource").CANONICAL_THREAD})}var q={make:p};function r(a){var c=a.contactId;a=a.threadKey;return j.jsx(b("MWInboxInfoMessengerRestrict.bs").make,{contactId:c,threadKey:a,loggingEntryPoint:b("LsMessengerThreadDamagingActionsEntryPoint.bs").threadSettings,buttonSource:b("MessengerRestrictButtonSource.bs").chat_tab_settings})}var s={make:r};function t(a){var c=a.thread,d=a.tab,e=b("useReStore")(),f=b("MWChatStateV2.bs").useDispatch(void 0),g=b("MWCMThreadTypes.bs").isJoinedCMThread(c.threadType);a=j.useCallback(function(a){b("promiseDone")(b("LSTransaction.bs").run(e,function(a){if(g)return b("LSLocalOptimisticDeleteCommunityChannel")(c.threadKey,b("LS.bs").make(a));else return b("LSOptimisticRemoveThread")(c.threadKey,b("LSThreadRemoveType.bs").deleteThread,b("LS.bs").make(a))},"readWrite"),function(a){return b("bs_curry")._1(f,b("MWChatStateActions.bs").closeTab(Date.now(),d.tabId))},void 0),b("ODS").bumpEntityKey(3185,"mwchat_settings","delete_conv")},[e,c,f,g]);return j.jsx(b("MWChatSettingsDeleteConversation.bs").make,{onClick:a,thread:c})}var u={make:t};function v(a){a=a.thread;return j.jsx(b("MWInboxInfoFRXItem.bs").make,{thread:a,children:function(a,c,d,e){return j.jsx(b("MWMenuItem.react"),{primaryText:d,onClick:function(c){b("bs_curry")._1(a,void 0),b("ODS").bumpEntityKey(3185,"mwchat_settings","feedback")},icon:b("MWThreadListHoverButtonDropdownMenuIcons.bs").SomethingIsWrong.icon,ref:c})}})}var w={make:v};function a(a){var c=a.thread;a=a.tab;var d=b("MWLSActor.bs").useActor(void 0),e=b("MWPParticipantsAndContactsForThread.bs").useValue(c),f=b("LSMessagingThreadTypeUtil.bs").isOneToOne(c.threadType)?b("bs_caml_option").undefined_to_opt(e.find(function(a){return b("bs_caml").i64_neq(a[1].id,d)})):void 0,g;if(f!==void 0){var h=f[1],i=h.secondaryName,o=0;i!==void 0&&b("MWLSContactTypeExactUtils.bs").isIgContact(h)?g="https://www.instagram.com/"+i:o=1;o===1&&(g=(b("CurrentEnvironment").facebookdotcom?"":"https://www.facebook.com")+b("XCometVanityURLControllerRouteBuilder").buildURL({vanity:b("FBID.bs").ofStringExn(b("bs_int64").to_string(c.threadKey))}))}else g=void 0;h=b("MWLSCanLeaveGroup.bs").useHook(c);i=b("MWV2ThreadIsPage.bs").useIsPage(void 0);o=f!==void 0?b("bs_caml").i64_neq(f[1].blockedByViewerStatus,b("LSContactBlockedByViewerStatus.bs").unblocked):!1;var q=e.some(function(a){return b("bs_caml").i64_eq(a[1].id,d)}),s=!1;if(e.length===1){e=b("bs_caml_array").get(e,0);s=b("bs_caml").i64_eq(e[1].id,d)}e=b("LSMessagingThreadTypeUtil.bs").isSecure(c.threadType);var u=b("MWPUseIsThreadMuted.bs").useHook(c),w=b("MWLSFeatureLimitedStatus.bs").useIsReadOnlyFeatureLimited(void 0)&&(!e||b("MAWGating.bs").isFeatureLimitEnabled(void 0)),x=f!==void 0?b("MWLSContactTypeExactUtils.bs").isIgContact(f[1])?b("MWXacGating.bs").isGroupsEnabled(void 0):!0:!1,y=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").threadDetailsProfileButton,c)&&!s,z=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").colorCustomization,c)&&!w,A=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").emojiCustomization,c)&&!w,B=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").nicknames,c)&&b("gkx")("1846003"),C=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").threadNameCustomization,c)&&b("gkx")("1841593")&&!w,D=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").threadPhotoCustomization,c)&&!w,E=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").addMember,c)&&b("gkx")("1480724")&&!w,F=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").memberList,c);w=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").createGroup,c)&&!w&&x;x=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").goToSecretConversation,c);var G=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").muteThread,c),H=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").ignoreMessages,c)&&!e,I=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").block,c),J=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").restrictContact,c),K=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").blockGroupMember,c),L=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").threadDetailsDeleteThread,c),M=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").reportChatToAdmin,c),N=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").feedbackAndReport,c),O=b("gkx")("1123")&&b("MessengerDesktopDeepLinkUtils").isMessengerDesktopDeeplinkEligible(),P=b("MWCMThreadTypes.bs").isJoinedCMThread(c.threadType);s=P&&s;return j.jsxs(b("MWMenu.react"),{autoFocus:!0,children:[P?j.jsx(b("MWV2OpenGroupHeaderMenuItem.bs").make,{thread:c}):null,!P||b("MWCMGating.bs").isM2Enabled?O?j.jsx(l,{thread:c}):j.jsx(k,{thread:c}):null,P?null:j.jsx(b("MWChatSettingsOpenMD.bs").make,{}),y&&g!==void 0?j.jsx(b("MWChatSettingsViewProfile.bs").make,{href:g}):null,o?null:j.jsxs(b("MWMenuTopSeparator.bs").make,{children:[z?j.jsx(b("MWV2EditThemeMenuItem.bs").make,{thread:c}):null,A?j.jsx(b("MWV2EditEmojiMenuItemCond.bs").make,{thread:c}):null,B?j.jsx(b("MWChatSettingsEditNicknames.bs").make,{thread:c}):null,C?j.jsx(b("MWChatSettingsChangeConversationName.bs").make,{thread:c}):null,D?j.jsx(b("MWV2EditPhotoMenuItem.bs").make,{thread:c}):null]}),q?j.jsxs(b("MWMenuTopSeparator.bs").make,{children:[F?j.jsx(b("MWChatSettingsMembers.bs").make,{}):null,P?j.jsx(b("MWCMShareLinkMenuItem.bs").make,{thread:c}):null,E?j.jsx(m,{thread:c}):null,h?j.jsx(b("MWLSLeaveGroupMenuItem.bs").make,{thread:c,showIcon:!0,shouldDeleteThreadOnLeave:s}):null,w?j.jsx(n,{thread:c}):null]}):null,x&&!(b("cr:12294")==null)?j.jsx(b("cr:12294").make,{fbid:b("FBID.bs").ofStringExn(b("bs_int64").to_string(c.threadKey)),entryPoint:"chatTabSettingsMenu"}):null,j.jsxs(b("MWMenuTopSeparator.bs").make,{children:[o||!G?null:u?j.jsx(b("MWV2ChatSettingsUnmute.bs").make,{thread:c}):j.jsx(b("MWV2ChatSettingsMute.bs").make,{thread:c}),H?j.jsx(b("MWV2ChatSettingsIgnoreMessages.bs").make,{thread:c,tab:a}):null,I&&f!==void 0?j.jsx(p,{thread:c,contactId:f[1].id,isPage:i}):null,J&&f!==void 0?j.jsx(r,{contactId:f[1].id,threadKey:c.threadKey}):null,K?j.jsx(b("MWV2ChatSettingsBlockGroupMember.bs").make,{thread:c}):null]}),!(b("cr:12293")==null)&&b("LSMessagingThreadTypeUtil.bs").isSecure(c.threadType)?j.jsx(b("cr:12293").make,{thread:c}):null,b("cr:890")==null?null:j.jsx(b("cr:890").make,{thread:c}),j.jsxs(b("MWMenuTopSeparator.bs").make,{children:[L?b("cr:12292")==null?j.jsx(t,{thread:c,tab:a}):e?j.jsx(b("cr:12292").make,{thread:c,tab:a}):j.jsx(t,{thread:c,tab:a}):null,b("MWCMThreadTypes.bs").isJoinedCMThread(c.threadType)&&M?j.jsx(b("MWCMReportCommunityChannel.bs").make,{onClick:function(a){},thread:c}):null,N?j.jsx(v,{thread:c}):null]})],withArrow:!0})}var x=b("cr:12292"),y=b("cr:777");a=a;f.$MAWHeaderSettingsMenuDeleteSecureThread$requireCondXplat=b("cr:12292");f.mawHeaderSettingsMenuDeleteSecureThreadModule=x;f.$MWCMChatSettingsOpenInbox$OR$null$requireCond=b("cr:777");f.mwcmChatSettingsOpenInbox=y;f.OpenInMessenger=c;f.OpenInMessengerApp=d;f.AddMember=e;f.CreateGroup=o;f.BlockUser=q;f.RestrictUser=s;f.DeleteThread=u;f.FeedbackAndReport=w;f.$MAWEndToEndEncryptionKeysMenuItem$requireCondXplat=b("cr:12293");f.$MAWEphemeralMessagesSettingsMenuItem$requireCondXplat=b("cr:890");f.$MAWSecureConversationThreadListMenuItem$requireCondXplat=b("cr:12294");f.make=a}),null);
__d("MWV2HeaderSettingsMenuForJSResource.react",["MWV2HeaderSettingsMenu.bs"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=d("MWV2HeaderSettingsMenu.bs").make}),98);/*FB_PKG_DELIM*/
__d("MWCMDeleteThread.bs",["LS.bs","LSLocalOptimisticDeleteCommunityChannel","LSTransaction.bs","MWThreadKey.bs","promiseDone","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useReStore")(),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0);return h.useCallback(function(a){b("promiseDone")(b("LSTransaction.bs").run(c,function(a){return b("LSLocalOptimisticDeleteCommunityChannel")(d,b("LS.bs").make(a))},"readWrite"),void 0,void 0)},[c,d])}f.useDeleteThread=a}),null);
__d("MWChatSettingsAddPeople.bs",["fbt","ix","MWMenuItem.react","ODS","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function a(a){var c=a.dispatch;a=g._(/*FBT_CALL*/"Add members"/*FBT_CALL*/);return j.jsx(b("MWMenuItem.react"),{primaryText:a,onClick:function(a){b("ODS").bumpEntityKey(3185,"mwchat_settings","add_people");return c("ToggleAddParticipants")},icon:b("fbicon")._(h("497891"),20),testid:"messenger_settings_add_people_menu"})}c=a;f.make=c}),null);
__d("MWChatSettingsBlockMember.bs",["fbt","ix","CometLazyDialogTrigger.react","JSResource","MWMenuItem.react","ODS","bs_curry","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function a(a){var c=a.participants,d=a.threadFbid;a=a.thread;var e=g._(/*FBT_CALL*/"Block a member"/*FBT_CALL*/),f=g._(/*FBT_CALL*/"Block a member?"/*FBT_CALL*/),i=b("fbicon")._(h("482898"),20),k=j.useRef(null);return j.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("MWChatBlockMemberDialogForJSResource.react").__setRef("MWChatSettingsBlockMember.bs"),dialogProps:{title:f,onClose:function(a){},participants:c,threadFbid:d,thread:a},children:function(a){return j.jsx(b("MWMenuItem.react"),{primaryText:e,onClick:function(c){b("ODS").bumpEntityKey(3185,"mwchat_settings","block_member");return b("bs_curry")._1(a,void 0)},icon:i,ref:k,testid:"messenger_settings_block_menu"})}})}c=a;f.make=c}),null);
__d("MWChatSettingsCreateGroup.bs",["fbt","ix","FBID.bs","LSContactBitOffset.bs","LSContactCapabilityBitOffset.bs","LSMediaUrl.bs","MNetContactItemType.bs","MWChatOpenNewTab.bs","MWLSActor.bs","MWLSChatThreadHook.bs","MWLSContactTypeExactUtils.bs","MWLSLoadParticipants.bs","MWMenuItem.react","MessagingThreadType.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","SortedAsyncIterable.bs","bs_belt_Option","bs_caml_array","bs_caml_format","bs_caml_int64","bs_curry","bs_int64","createMWChatSearchTypeaheadDataEntry","fbicon","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function k(a){var c=b("useReStore")(),d=b("MWLSActor.bs").useActor(void 0),e=j.useMemo(function(){var c=Array.from(a.entries()).filter(function(a){return a[0]!==b("FBID.bs").ofStringExn(b("bs_int64").to_string(d))});if(c.length===1)return b("bs_caml_array").get(c,0)},[d,a]),f=b("ReQLSubscription.bs").useFirst(j.useMemo(function(){if(e!==void 0)return b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"contacts").asc,{hd:b("bs_caml_format").caml_int64_of_string(e[0]),tl:0});else return b("SortedAsyncIterable.bs").empty(void 0)},[c,e]));return j.useMemo(function(){return b("bs_belt_Option").map(f,function(a){var c=a.secondaryName,d=a.name,e=b("bs_int64").to_string(a.id),f=a.name,g=b("LSMediaUrl.bs").Contact.profilePictureUrl(a);c=c!==void 0?c:"";var h=a.blockedByViewerStatus,i=b("LSContactBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").verified,a),j=b("LSContactBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").isXacEligible,a),k=b("LSContactBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").isGroupsXacEligible,a);d={query:d,resultId:e,globalIndex:b("bs_caml_int64").zero,type_:b("MNetContactItemType.bs").contact,threadType:b("MessagingThreadType.bs").oneToOne,displayName:f,profilePicUrl:g,secondaryProfilePicUrl:void 0,contextLine:c,messageId:void 0,messageTimestampMs:void 0,blockedByViewerStatus:h,isVerified:i,isInteropEligible:j,isGroupsXacEligible:k};return b("createMWChatSearchTypeaheadDataEntry")({displayName:f,id:e,imageUrl:g,secondaryImageUrl:void 0,isContact:!0,isE2e:!1,isInstagramAccount:b("MWLSContactTypeExactUtils.bs").isIgContact(a),isInteropEligible:j,isGroupsXacEligible:k,resultType:"user",subtext:c,isVerified:b("bs_belt_Option").getWithDefault(i,!1),section:"",serverSearchResult:d,searchSource:void 0,threadKey:void 0,rankingScore:void 0})})},[f])}function a(a){a=a.threadID;b("MWLSChatThreadHook.bs").useThread(a);var c=b("MWChatOpenNewTab.bs").useHook("settingsCreateGroup");a=b("MWLSLoadParticipants.bs").useParticipants(a);var d=k(a);a=d===void 0;var e=j.useCallback(function(a){if(d!==void 0)return b("bs_curry")._1(c,d)},[c,d]),f=b("fbicon")._(h("943402"),20);return j.jsx(b("MWMenuItem.react"),{primaryText:g._(/*FBT_CALL*/"Create group"/*FBT_CALL*/),onClick:function(a){return b("bs_curry")._1(e,void 0)},icon:f,disabled:a,testid:"messenger_settings_create_group"})}c=a;f.useMWChatSearchTypeaheadDataEntryForOtherParticipant=k;f.make=c}),null);
__d("MWChatSettingsCustomizeTheme.react",["fbt","ix","CometLazyDialogTrigger.react","CometMenuItem.react","JSResourceForInteraction","ODS","emptyFunction","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=c("JSResourceForInteraction")("MWChatThreadThemes.react").__setRef("MWChatSettingsCustomizeTheme.react");function a(a){var b=a.disabled;return j.jsx(c("CometLazyDialogTrigger.react"),{dialogProps:{onClose:c("emptyFunction")},dialogResource:k,children:function(a){return j.jsx(c("CometMenuItem.react"),{disabled:b,icon:d("fbicon")._(i("787955"),20),onClick:function(b){d("ODS").bumpEntityKey(3185,"mwchat_settings","color"),a()},primaryText:h._(/*FBT_CALL*/"Color"/*FBT_CALL*/)})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatSettingsIgnoreMessages.bs",["fbt","ix","CometLazyDialogTrigger.react","JSResource","LsIgnoreTappedFalcoEvent","LsMessengerThreadDamagingActionsEntryPoint.bs","MWMenuItem.react","ODS","bs_caml_int64","bs_curry","bs_int64","fbicon","react","uuid"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function a(a){var c=a.disabled,d=a.thread,e=c!==void 0?c:!1,f=b("uuid")(),i=j.useRef(null);return j.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("MWChatIgnoreMessagesDialogForJSResource.react").__setRef("MWChatSettingsIgnoreMessages.bs"),dialogProps:{onClose:function(a){},thread:d,uuid:f,entryPoint:b("LsMessengerThreadDamagingActionsEntryPoint.bs").threadSettings},children:function(a){return j.jsx(b("MWMenuItem.react"),{primaryText:g._(/*FBT_CALL*/"Ignore messages"/*FBT_CALL*/),onClick:function(c){b("LsIgnoreTappedFalcoEvent").log(function(){return{thread:{id:b("bs_int64").to_string(d.threadKey),type:b("bs_caml_int64").to_int32(d.threadType)},entry_point:{entry_point:b("bs_caml_int64").to_int32(b("LsMessengerThreadDamagingActionsEntryPoint.bs").threadSettings)},uuid:f,extra_data_map:{}}});b("ODS").bumpEntityKey(3185,"mwchat_settings","ignore_thread");return b("bs_curry")._1(a,void 0)},icon:b("fbicon")._(h("578906"),20),ref:i,disabled:e,testid:"messenger_settings_ignore"})}})}c=a;f.make=c}),null);
__d("MWChatSettingsLeaveGroup.bs",["fbt","ix","MWMenuItem.react","ODS","bs_curry","fbicon","react","useCometConfirmationDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function a(a){var c=a.onLeaveGroup,d=a.isCMThread;a=a.shouldDeleteThreadOnLeave;var e=a!==void 0?a:!1,f=b("useCometConfirmationDialog")(),i=j.useCallback(function(a){a=d?e?{body:g._(/*FBT_CALL*/"You are the last participant in this chat. If you leave this chat, the chat and all its content will be permanently deleted from the group."/*FBT_CALL*/),cancel:g._(/*FBT_CALL*/"Cancel"/*FBT_CALL*/),confirm:g._(/*FBT_CALL*/"Delete chat"/*FBT_CALL*/),title:g._(/*FBT_CALL*/"Leave and delete chat?"/*FBT_CALL*/)}:{body:g._(/*FBT_CALL*/"Leaving means you can't send messages in this chat and won't receive notifications for it. You can rejoin at any time."/*FBT_CALL*/),cancel:g._(/*FBT_CALL*/"Cancel"/*FBT_CALL*/),confirm:g._(/*FBT_CALL*/"Leave chat"/*FBT_CALL*/),title:g._(/*FBT_CALL*/"Leave chat?"/*FBT_CALL*/)}:{body:g._(/*FBT_CALL*/"You will stop receiving messages from this conversation and people will see that you left."/*FBT_CALL*/),cancel:g._(/*FBT_CALL*/"Cancel"/*FBT_CALL*/),confirm:g._(/*FBT_CALL*/"Leave group"/*FBT_CALL*/),title:g._(/*FBT_CALL*/"Leave group chat?"/*FBT_CALL*/)};return b("bs_curry")._3(f,a,c,function(a){})},[f,c,d,e]);a=d?g._(/*FBT_CALL*/"Leave chat"/*FBT_CALL*/):g._(/*FBT_CALL*/"Leave group"/*FBT_CALL*/);var k=b("fbicon")._(h("538183"),20);return j.jsx(b("MWMenuItem.react"),{primaryText:a,onClick:function(a){b("ODS").bumpEntityKey(3185,"mwchat_settings","leave_thread");return b("bs_curry")._1(i,void 0)},icon:k})}c=a;f.make=c}),null);
__d("MWChatSettingsMute.bs",["ix","CometLazyDialogTrigger.react","JSResource","MWMenuItem.react","MWThread_DEPRECATED.bs","MessengerMuteUtils.bs","ODS","bs_curry","fbicon","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c=a.disabled;a=a.thread;var d=c!==void 0?c:!1;c=i.useContext(b("MWThread_DEPRECATED.bs").context);var e=b("MessengerMuteUtils.bs").muteActionLabel(!1),f=i.useRef(null);if(c!==void 0)return i.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("LSMuteThreadDialogForJSResource.react").__setRef("MWChatSettingsMute.bs"),dialogProps:{onClose:function(a){},thread:a},children:function(a){return i.jsx(b("MWMenuItem.react"),{primaryText:e,onClick:function(c){b("ODS").bumpEntityKey(3185,"mwchat_settings","mute");return b("bs_curry")._1(a,void 0)},icon:b("fbicon")._(g("532356"),20),ref:f,disabled:d,testid:"messenger_settings_mute_menu"})}});else return null}c=a;f.make=c}),null);
__d("MWChatSettingsOpenInApp.bs",["fbt","ix","Actor.re","MWMenuItem.react","MWThread_DEPRECATED.bs","MessengerDesktopDeeplinkEventFalcoEvent","XMessengerDotComDesktopLaunchAppInterstitialControllerRouteBuilder","bs_caml_option","fbicon","react","uuid"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function a(a){a=b("Actor.re").useActor();var c=j.useContext(b("MWThread_DEPRECATED.bs").context),d=b("uuid")(),e=j.useRef(!1);j.useEffect(function(){e.current||(e.current=!0,b("MessengerDesktopDeeplinkEventFalcoEvent").log(function(a){return{event:"chat_settings_open_in_app_impression",eventLocation:"browser",eventType:"thread",funnelSessionId:d,mobile_app_source:"unknown"}}))},[]);var f=function(a){b("MessengerDesktopDeeplinkEventFalcoEvent").log(function(a){return{event:"chat_settings_open_in_app_click",eventLocation:"browser",eventType:"thread",funnelSessionId:d,mobile_app_source:"unknown"}})};if(c!==void 0)return j.jsx(b("MWMenuItem.react"),{primaryText:g._(/*FBT_CALL*/"Open Messenger app"/*FBT_CALL*/),href:b("XMessengerDotComDesktopLaunchAppInterstitialControllerRouteBuilder").buildUri({funnel_session_id:d,id:b("bs_caml_option").some(a[0]),thread:c.VAL,origin:"FB"}).setDomain("www.messenger.com").setProtocol("https").toString(),onClick:f,icon:b("fbicon")._(h("505620"),20),testid:"messenger_settings_open_in_app"});else return null}c=a;f.make=c}),null);
__d("MWChatSettingsOpenInbox.bs",["fbt","ix","MWCMThreadTypes.bs","MWLSThread.bs","MWMenuItem.react","MWThreadKey.bs","MWThread_DEPRECATED.bs","ODS","XCometMessengerControllerRouteBuilder","cr:777","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function k(a){a=a.threadId;if(a!==void 0)return j.jsx(b("MWMenuItem.react"),{primaryText:g._(/*FBT_CALL*/"Open in Messenger"/*FBT_CALL*/),href:b("XCometMessengerControllerRouteBuilder").buildURL({thread_key:a.VAL}),onClick:function(a){b("ODS").bumpEntityKey(3185,"mwchat_settings","open_messenger")},icon:b("fbicon")._(h("505620"),20),testid:"messenger_settings_open_inbox"});else return null}c={make:k};function a(a){a=j.useContext(b("MWThread_DEPRECATED.bs").context);var c=b("MWThreadKey.bs").useIdMemoizedExn(void 0);c=b("MWLSThread.bs").useThread(c);return c!==void 0&&!(b("cr:777")==null)&&b("MWCMThreadTypes.bs").isJoinedCMThread(c.threadType)?j.jsx(b("cr:777").make,{thread:c}):j.jsx(k,{threadId:a})}d=b("cr:777");e=a;f.$MWCMChatSettingsOpenInbox$OR$null$requireCond=b("cr:777");f.mwcmChatSettingsOpenInbox=d;f.OpenInboxThreadMenuItem=c;f.make=e}),null);
__d("MWChatSettingsOpenPage.bs",["fbt","ix","MWMenuItem.react","ODS","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function a(a){a=a.href;return j.jsx(b("MWMenuItem.react"),{primaryText:g._(/*FBT_CALL*/"View page"/*FBT_CALL*/),href:a,onClick:function(a){b("ODS").bumpEntityKey(3185,"mwchat_settings","open_page")},icon:b("fbicon")._(h("487663"),20)})}c=a;f.make=c}),null);
__d("MWLSThreadMuteExpireTimeMs.bs",["MWThreadKey.bs","MessengerMuteUtils.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","bs_belt_Option","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useReStore")(),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0);return b("bs_belt_Option").getWithDefault(b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"threads").asc,{hd:d,tl:0}),b("MessengerMuteUtils.bs").calcMuteUntilMs)},[c,d])),0)}f.useHook=a}),null);
__d("MWChatSettingsUnmute.bs",["ix","MWChatUnmuteThread.bs","MWLSThreadMuteExpireTimeMs.bs","MWMenuItem.react","MWThread_DEPRECATED.bs","MessengerMuteUtils.bs","bs_caml_option","bs_curry","fbicon","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c=a.thread;a=i.useContext(b("MWThread_DEPRECATED.bs").context);var d=b("MWLSThreadMuteExpireTimeMs.bs").useHook(void 0),e=b("MWChatUnmuteThread.bs").useHook(void 0),f=b("MessengerMuteUtils.bs").muteActionLabel(!0);d=b("MessengerMuteUtils.bs").mutedUntilLabel(d/1e3);if(a===void 0)return null;a={primaryText:f,onClick:function(a){return b("bs_curry")._1(e,c)},icon:b("fbicon")._(g("652791"),20)};d!==void 0&&(a.secondaryText=b("bs_caml_option").valFromOption(d));return i.jsx(b("MWMenuItem.react"),a)}c=a;f.make=c}),null);
__d("MWChatHeaderSettings.bs",["CometMenuSeparator.react","FBID.bs","LSMessagingThreadTypeUtil.bs","LsMessengerThreadDamagingActionsEntryPoint.bs","MWCMDeleteThread.bs","MWCMGating.bs","MWCMReportCommunityChannel.bs","MWCMShareLinkMenuItem.bs","MWCMThreadTypes.bs","MWChatCloseTab.bs","MWChatSettingsAddPeople.bs","MWChatSettingsBlockMember.bs","MWChatSettingsBlockPage.bs","MWChatSettingsBlockUser.bs","MWChatSettingsChangeConversationName.bs","MWChatSettingsCreateGroup.bs","MWChatSettingsCustomizeEmoji.bs","MWChatSettingsCustomizeTheme.react","MWChatSettingsDeleteConversation.bs","MWChatSettingsEditNicknames.bs","MWChatSettingsIgnoreMessages.bs","MWChatSettingsLeaveGroup.bs","MWChatSettingsMembers.bs","MWChatSettingsMute.bs","MWChatSettingsOpenInApp.bs","MWChatSettingsOpenInbox.bs","MWChatSettingsOpenMD.bs","MWChatSettingsOpenPage.bs","MWChatSettingsReportConversation.bs","MWChatSettingsUnmute.bs","MWChatSettingsViewProfile.bs","MWInboxInfoMessengerRestrict.bs","MWLSActor.bs","MWLSDeleteThread.bs","MWLSThread.bs","MWLSThreadCapabilities.bs","MWMenu.react","MWThreadKey.bs","MWV2OpenGroupHeaderMenuItem.bs","MessengerDesktopDeepLinkUtils","MessengerRestrictButtonSource.bs","MessengerWebEntryPoint","MessengerWebEvent","MessengerWebEventsFalcoEvent.bs","ODS","bs_belt_Option","bs_caml_array","bs_caml_format","bs_caml_option","bs_curry","bs_int64","gkx","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.id,d=a.isMuted,e=a.isBlocked,f=a.dispatch,g=a.isViewerInGroup,i=a.isGroup,j=a.participants,k=a.reportingToken,l=a.isEmptyThread,m=a.disableCustomization,n=a.openPageURL;a=a.canonicalThreadProfileLink;g=g!==void 0?g:!1;i=i!==void 0?i:!1;m=m!==void 0?m:!1;var o=b("MWLSActor.bs").useActor(void 0);h.useEffect(function(){b("MessengerWebEventsFalcoEvent.bs").log(function(){if(typeof c==="object"){var a=c.NAME;a=a==="User"||a==="Page"?c.VAL:null}else a=null;return{event_name:b("MessengerWebEvent").OPEN_THREAD_SETTINGS_MENU,other_user_fbid:a,thread_fbid:typeof c==="object"&&c.NAME==="Group"?c.VAL:null}})},[c]);var p=b("MWLSThreadCapabilities.bs").useCapabilities(void 0),q=b("MWLSThreadCapabilities.bs").canCustomizeThreadName(p),r=b("MWLSThreadCapabilities.bs").canCustomizeTheme(p),s=b("MWLSThreadCapabilities.bs").canCustomizeEmoji(p),t=b("MWLSThreadCapabilities.bs").canCustomizeNicknames(p),u=b("MWLSThreadCapabilities.bs").canCreateGroup(p),v=b("MWLSThreadCapabilities.bs").canAddMember(p),w=b("MWLSThreadCapabilities.bs").canCopyInviteLink(p),x=b("MWLSThreadCapabilities.bs").canIgnoreMessages(p),y=b("MWLSThreadCapabilities.bs").canMuteThread(p),z=b("MWLSThreadCapabilities.bs").canRestrict(p),A=b("MWLSThreadCapabilities.bs").canReportChatToAdmin(p);p=b("MWLSThreadCapabilities.bs").canDeleteThread(p);var B=b("gkx")("1846003"),C=b("MWThreadKey.bs").useIdMemoizedExn(void 0),D=b("MWLSThread.bs").useThread(C),E=D!==void 0?b("MWCMThreadTypes.bs").isJoinedCMThread(D.threadType)?[b("LSMessagingThreadTypeUtil.bs").isSecure(D.threadType),!0,h.jsx(b("MWV2OpenGroupHeaderMenuItem.bs").make,{thread:D}),h.jsx(b("MWCMShareLinkMenuItem.bs").make,{thread:D})]:[b("LSMessagingThreadTypeUtil.bs").isSecure(D.threadType),!1,null,null]:[!1,!1,null,null],F=E[1];x=x&&!E[0];var G=b("MWCMDeleteThread.bs").useDeleteThread(void 0),H=b("MWLSDeleteThread.bs").useDeleteThread(void 0),I=b("MWChatCloseTab.bs").useHook(b("MessengerWebEntryPoint").UNKNOWN),J=function(a){b("ODS").bumpEntityKey(3185,"mwchat_settings","delete_conv");F?b("bs_curry")._1(G,void 0):b("bs_curry")._1(H,void 0);return b("bs_curry")._1(I,c)},K=function(a){return f({NAME:"LeaveGroup",VAL:!0})},L=b("gkx")("1123"),M=b("MessengerDesktopDeepLinkUtils").isMessengerDesktopDeeplinkEligible(),N=Array.from(j.entries()),O=!1;if(Array.from(j.entries()).length===1){N=b("bs_caml_array").get(N,0);O=N[0]===b("FBID.bs").ofStringExn(b("bs_int64").to_string(o))}N=F&&O;if(m||b("bs_belt_Option").getWithDefault(e,!0)||typeof c!=="object")o=null;else{O=c.NAME;o=O==="User"||O==="Group"?h.jsxs(h.Fragment,{children:[r||s||t||i&&q?h.jsx(b("CometMenuSeparator.react"),{}):null,r&&!l?h.jsx(b("MWChatSettingsCustomizeTheme.react"),{}):null,s&&!l&&D!==void 0?h.jsx(b("MWChatSettingsCustomizeEmoji.bs").make,{thread:D}):null,t&&!l&&B?h.jsx(b("MWChatSettingsEditNicknames.bs").make,{thread:D}):null,i&&q&&b("gkx")("1841593")&&D!==void 0?h.jsx(b("MWChatSettingsChangeConversationName.bs").make,{thread:D}):null]}):null}if(x&&typeof c==="object"){m=c.NAME;O=(m==="User"||m==="Group")&&D!==void 0?h.jsx(b("MWChatSettingsIgnoreMessages.bs").make,{disabled:l,thread:D}):null}else O=null;if(typeof c==="object"){r=c.NAME;s=r==="Page"?e!==void 0?h.jsx(b("MWChatSettingsBlockPage.bs").make,{isBlocked:e}):null:r==="User"&&e!==void 0?h.jsx(b("MWChatSettingsBlockUser.bs").make,{targetFbid:c.VAL,isBlocked:e,onClick:function(a){}}):null}else s=null;if(p){t={disabled:l,onClick:J};D!==void 0&&(t.thread=b("bs_caml_option").valFromOption(D));B=h.jsx(b("MWChatSettingsDeleteConversation.bs").make,t)}else B=null;return h.jsxs(b("MWMenu.react"),{autoFocus:!0,children:[F?E[2]:null,!F||b("MWCMGating.bs").isM2Enabled?L&&M?h.jsx(b("MWChatSettingsOpenInApp.bs").make,{}):h.jsx(b("MWChatSettingsOpenInbox.bs").make,{}):null,F?null:h.jsx(b("MWChatSettingsOpenMD.bs").make,{}),b("bs_belt_Option").mapWithDefault(a,null,function(a){return h.jsx(b("MWChatSettingsViewProfile.bs").make,{href:a})}),o,g?h.jsxs(h.Fragment,{children:[h.jsx(b("CometMenuSeparator.react"),{}),h.jsx(b("MWChatSettingsMembers.bs").make,{}),b("gkx")("1480724")&&v?h.jsx(b("MWChatSettingsAddPeople.bs").make,{dispatch:f}):null,w?E[3]:null,h.jsx(b("MWChatSettingsLeaveGroup.bs").make,{onLeaveGroup:K,isCMThread:F,shouldDeleteThreadOnLeave:N})]}):null,n!==void 0?h.jsxs(h.Fragment,{children:[h.jsx(b("CometMenuSeparator.react"),{}),h.jsx(b("MWChatSettingsOpenPage.bs").make,{href:n})]}):null,typeof c==="object"&&c.NAME==="User"&&u?h.jsxs(h.Fragment,{children:[h.jsx(b("CometMenuSeparator.react"),{}),h.jsx(b("MWChatSettingsCreateGroup.bs").make,{threadID:c})]}):null,h.jsx(b("CometMenuSeparator.react"),{}),y?d?D!==void 0?h.jsx(b("MWChatSettingsUnmute.bs").make,{thread:D}):null:D!==void 0?h.jsx(b("MWChatSettingsMute.bs").make,{disabled:l,thread:D}):null:null,O,typeof c==="object"&&c.NAME==="User"&&z&&b("gkx")("3846")?h.jsx(b("MWInboxInfoMessengerRestrict.bs").make,{contactId:b("bs_caml_format").caml_int64_of_string(c.VAL),threadKey:C,loggingEntryPoint:b("LsMessengerThreadDamagingActionsEntryPoint.bs").threadSettings,buttonSource:b("MessengerRestrictButtonSource.bs").chat_tab_settings}):null,s,typeof c==="object"&&c.NAME==="Group"&&g?h.jsx(b("MWChatSettingsBlockMember.bs").make,{participants:j,threadFbid:c.VAL,thread:D}):null,h.jsx(b("CometMenuSeparator.react"),{}),B,D!==void 0&&b("MWCMThreadTypes.bs").isJoinedCMThread(D.threadType)&&A?h.jsx(b("MWCMReportCommunityChannel.bs").make,{onClick:function(a){},thread:D}):null,k!==void 0?h.jsx(b("MWChatSettingsReportConversation.bs").make,{id:c,reportingToken:k,onClick:function(a){},thread:D}):null],withArrow:!0})}c=a;f.make=c}),null);
__d("MWChatHeaderSettings.react",["MWChatHeaderSettings.bs"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=d("MWChatHeaderSettings.bs").make}),98);/*FB_PKG_DELIM*/
__d("RTCUser",["FBRTCParticipantCallState","RTCUserRecord","ScotchConstants","immutable","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.clone=function(){return new b(this.toObject())};e.setParticipantState=function(a){return(!this.participantState||this.participantState.state!==c("FBRTCParticipantCallState").CONNECTED)&&a.state===c("FBRTCParticipantCallState").CONNECTED?this.set("participantState",a).set("lastConnectedAt",Date.now()):!this.participantState||this.participantState.state!==a.state?this.set("participantState",a):this};e.getParticipantState=function(){return this.participantState&&this.participantState.state};e.hasAudio=function(){return this.getAllStreamAudioTracks().some(function(a){return a.length>0})};e.hasVideo=function(){return this.streams.some(function(a){return a.getVideoTracks().length>0})};e.hasLiveVideoTracks=function(){return this.streams.some(function(a){return a.getVideoTracks().some(function(a){return a.readyState==="live"})})};e.isAudioDisabled=function(){var a=this;return!this.hasAudio()?!0:this.getAllStreamAudioTracks().every(function(b){return a.areAllTracksDisabled(b)})};e.isVideoDisabled=function(){var a=this;return!this.hasVideo()?!0:this.streams.every(function(b){return a.areAllTracksDisabled(b.getVideoTracks())})};e.areAllTracksDisabled=function(a){return!a.some(function(a){return a.enabled})};e.hasFunctioningVideoTrack=function(){return!this.hasVideo()?!1:this.streams.every(function(a){return a.getVideoTracks().some(function(a){return a.enabled&&!a.muted})})};e.toggleAudioTrackMutedByUser=function(a,b){a=this.audioStreamMuteStates.set(a,b);return this.set("audioStreamMuteStates",a)};e.toggleDisableAudio=function(a){var b=this;this.getAllStreamAudioTracks().forEach(function(c){return b.$RTCUser1(c,a)});return this.clone()};e.toggleDisableVideo=function(a){var b=this;this.streams.forEach(function(c){b.$RTCUser1(c.getVideoTracks(),a)});return this.clone()};e.stopVideo=function(){var a=this;this.streams.forEach(function(b){b.getVideoTracks().forEach(function(c){a.$RTCUser1(b.getVideoTracks(),!0),c.readyState!=="ended"&&(c.onended&&c.onended(),c.stop())})});return this.clone()};e.getAllStreamAudioTracks=function(){return this.streams.concat(this.screenStreams).map(function(a){return a.getAudioTracks()})};e.hasStream=function(){return!this.streams.isEmpty()};e.addStream=function(a){return this.set("streams",this.streams.add(c("nullthrows")(a)))};e.removeStream=function(a){var b=this.audioStreamMuteStates["delete"](a.id);this.set("audioStreamMuteStates",b);return this.set("streams",this.streams["delete"](a))};e.getStream=function(){return this.hasStream()?this.streams.first():null};e.getActiveStream=function(){return this.hasStream()?this.streams.find(function(a){return"active"in a&&a.active}):null};e.replaceStream=function(a,b){return!this.streams.contains(a)?this:this.set("streams",this.streams["delete"](a).add(b))};e.removeAllStreams=function(){return this.set("streams",c("immutable").Set())};e.getScreenStream=function(){return this.screenStreams&&this.hasScreenStream()?this.screenStreams.first():null};e.hasScreenStream=function(){return!this.screenStreams.isEmpty()};e.addScreenStream=function(a){return this.set("screenStreams",this.screenStreams.add(a))};e.removeScreenStream=function(a){return this.set("screenStreams",this.screenStreams["delete"](a))};e.removeAllScreenStreams=function(){return this.set("screenStreams",c("immutable").Set())};e.replaceScreenStream=function(a,b){if(!this.screenStreams.contains(a))return this;return a===b?this:this.set("screenStreams",this.screenStreams.add(b)["delete"](a))};e.setRoomLocation=function(a){return this.set("roomLocation",a)};e.getRoomLocation=function(){return this.roomLocation};e.$RTCUser1=function(a,b){var c=b!=null?!b:this.areAllTracksDisabled(a);a.forEach(function(a){return a.enabled=c})};e.getMediaTypeForTracks=function(){var a=new Map(),b=this.getScreenStream();b&&b.getVideoTracks().forEach(function(b){return a.set(b.id,d("ScotchConstants").MediaContentTypes.SCREEN)});return a};e.subscribeVideo=function(){return this.set("isVideoSubscribed",!0)};e.unsubscribeVideo=function(){return this.set("isVideoSubscribed",!1)};e.setPausedDownlink=function(a){return this.set("pausedDownlink",a)};return b}(c("RTCUserRecord"));g["default"]=a}),98);
__d("RTWebStrings",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a=h._(/*FBT_CALL*/"Busy"/*FBT_CALL*/);b=h._(/*FBT_CALL*/"Call again"/*FBT_CALL*/);c=h._(/*FBT_CALL*/"Call ended"/*FBT_CALL*/);d=h._(/*FBT_CALL*/"Call failed"/*FBT_CALL*/);e=h._(/*FBT_CALL*/"Call interrupted"/*FBT_CALL*/);f=h._(/*FBT_CALL*/"Can't connect call"/*FBT_CALL*/);var i=h._(/*FBT_CALL*/"You left the group video chat"/*FBT_CALL*/),j=h._(/*FBT_CALL*/"This room has the maximum number of participants. When someone leaves, you can try to join again."/*FBT_CALL*/),k=h._(/*FBT_CALL*/"Client encryption error"/*FBT_CALL*/),l=h._(/*FBT_CALL*/"Close"/*FBT_CALL*/),m=h._(/*FBT_CALL*/"Connected"/*FBT_CALL*/),n=h._(/*FBT_CALL*/"Connecting..."/*FBT_CALL*/),o=h._(/*FBT_CALL*/"Connection dropped"/*FBT_CALL*/),p=h._(/*FBT_CALL*/"Connection lost"/*FBT_CALL*/),q=h._(/*FBT_CALL*/"Contacting..."/*FBT_CALL*/),r=h._(/*FBT_CALL*/"Copied"/*FBT_CALL*/),s=h._(/*FBT_CALL*/"Copy link"/*FBT_CALL*/),t=h._(/*FBT_CALL*/"Disconnected"/*FBT_CALL*/),u=h._(/*FBT_CALL*/"Dismiss"/*FBT_CALL*/),v=h._(/*FBT_CALL*/"Hanging up..."/*FBT_CALL*/),w=h._(/*FBT_CALL*/"Call is inactive"/*FBT_CALL*/),x=h._(/*FBT_CALL*/"In another call"/*FBT_CALL*/),y=h._(/*FBT_CALL*/"Incoming video chat"/*FBT_CALL*/),z=h._(/*FBT_CALL*/"Too many clients connected to the room"/*FBT_CALL*/),A=h._(/*FBT_CALL*/"No answer"/*FBT_CALL*/),B=h._(/*FBT_CALL*/"Not now"/*FBT_CALL*/),C=h._(/*FBT_CALL*/"Participant limit reached"/*FBT_CALL*/),D=h._(/*FBT_CALL*/"Please wait..."/*FBT_CALL*/),E=h._(/*FBT_CALL*/"Profile picture"/*FBT_CALL*/),F=h._(/*FBT_CALL*/"Reconnecting..."/*FBT_CALL*/),G=h._(/*FBT_CALL*/"Redial"/*FBT_CALL*/),H=h._(/*FBT_CALL*/"Ringing..."/*FBT_CALL*/),I=h._(/*FBT_CALL*/"Switch to Wi-Fi to complete your call"/*FBT_CALL*/),J=h._(/*FBT_CALL*/"Unreachable"/*FBT_CALL*/),K=function(a){return h._(/*FBT_CALL*/"{name}'s camera is off"/*FBT_CALL*/,[h._param("name",a)])},L=h._(/*FBT_CALL*/"Your camera is off"/*FBT_CALL*/),M=h._(/*FBT_CALL*/"Waiting for others to join..."/*FBT_CALL*/);g.busy=a;g.callAgain=b;g.callEnded=c;g.callFailed=d;g.callInterrupted=e;g.cannotConnect=f;g.chatLinksLeftVideoChat=i;g.chatLinkMaxParticipantsExceeded=j;g.clientEncryptionError=k;g.close=l;g.connected=m;g.connecting=n;g.connectionDropped=o;g.connectionLost=p;g.contacting=q;g.copiedVideoChatLink=r;g.copyVideoChatLink=s;g.disconnected=t;g.dismiss=u;g.hangingUp=v;g.inactive=w;g.inAnotherCall=x;g.incomingVideoChat=y;g.invalidStreamConfiguration=z;g.noAnswer=A;g.notNow=B;g.participantLimitReached=C;g.pleaseWait=D;g.profilePictureAlt=E;g.reconnecting=F;g.redial=G;g.ringing=H;g.switchToWiFi=I;g.unreachable=J;g.userVideoOff=K;g.viewerVideoOff=L;g.waitingForOthers=M}),98);/*FB_PKG_DELIM*/
__d("MWChatSettingsBlockPage.bs",["fbt","ix","CometLazyDialogTrigger.react","JSResource","LsMessengerThreadDamagingActionsEntryPoint.bs","LsMessengerThreadDamagingActionsSource","LsMessengerThreadDamagingActionsSourceOwner","MWChatCollapseTab.bs","MWMenuItem.react","MWThread_DEPRECATED.bs","MWUIBlock.bs","MWUIUnblock.bs","MessengerWebEntryPoint","ODS","bs_curry","fbicon","gkx","react","unrecoverableViolation"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function a(a){var c=a.isBlocked,d=b("MWThread_DEPRECATED.bs").useIdExn(void 0);a=b("MWThread_DEPRECATED.bs").useFBID(void 0);typeof d==="object"&&d.NAME==="Group"&&b("unrecoverableViolation")("Can't block a group or local thread","messenger_comet");var e=b("MWChatCollapseTab.bs").useHook(b("MessengerWebEntryPoint").UNKNOWN),f=b("gkx")("1277703"),i=c?f?g._(/*FBT_CALL*/"Unblock"/*FBT_CALL*/):g._(/*FBT_CALL*/"Turn on messages"/*FBT_CALL*/):f?g._(/*FBT_CALL*/"Block"/*FBT_CALL*/):g._(/*FBT_CALL*/"Turn off messages"/*FBT_CALL*/),k=b("bs_curry")._2(b("MWUIBlock.bs").useHook,function(a){return b("bs_curry")._1(e,d)},function(a){}),l=b("bs_curry")._2(b("MWUIUnblock.bs").useHook,function(a){},function(a){}),m=j.useRef(null);if(f)return j.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("MWChatBlockPageActionDialog").__setRef("MWChatSettingsBlockPage.bs"),dialogProps:{onClose:function(a){},targetFBID:a,threadFBID:a,loggingData:{entryPoint:b("LsMessengerThreadDamagingActionsEntryPoint.bs").threadSettings,source:b("LsMessengerThreadDamagingActionsSource").CANONICAL_THREAD,sourceOwner:b("LsMessengerThreadDamagingActionsSourceOwner").MBI}},children:function(a){return j.jsx(b("MWMenuItem.react"),{primaryText:i,onClick:function(c){b("ODS").bumpEntityKey(3185,"mwchat_settings","block");return b("bs_curry")._1(a,void 0)},icon:b("fbicon")._(h("482898"),20),ref:m,testid:"messenger_settings_block_menu"})}});else return j.jsx(b("MWMenuItem.react"),{primaryText:i,onClick:function(a){if(c)return b("bs_curry")._1(l,void 0);else return b("bs_curry")._1(k,void 0)},icon:b("fbicon")._(h("482898"),20)})}c=a;f.make=c}),null);
__d("MWChatSettingsBlockUser.bs",["fbt","ix","CometLazyDialogTrigger.react","JSResource","LsMessengerThreadDamagingActionsEntryPoint.bs","LsMessengerThreadDamagingActionsSource","MWMenuItem.react","ODS","bs_curry","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function a(a){var c=a.targetFbid,d=a.isBlocked,e=a.onClick,f=j.useRef(null),i=d?g._(/*FBT_CALL*/"Unblock"/*FBT_CALL*/):g._(/*FBT_CALL*/"Block"/*FBT_CALL*/);return j.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("MWChatBlockActionDialog").__setRef("MWChatSettingsBlockUser.bs"),dialogProps:{thread:void 0,targetFBID:c,onClose:function(a){},loggingData:{entryPoint:b("LsMessengerThreadDamagingActionsEntryPoint.bs").threadSettings,requestId:void 0,source:b("LsMessengerThreadDamagingActionsSource").CANONICAL_THREAD}},children:function(a){return j.jsx(b("MWMenuItem.react"),{primaryText:i,onClick:function(c){b("ODS").bumpEntityKey(3185,"mwchat_settings","block");b("bs_curry")._1(e,void 0);return b("bs_curry")._1(a,void 0)},icon:b("fbicon")._(h("482898"),20),ref:f,testid:"messenger_settings_block_menu"})}})}c=a;f.make=c}),null);
__d("MWChatSettingsReportConversation.bs",["fbt","ix","CometLazyDialogTrigger.react","FRXEntryPoint","JSResource","MWCMThreadTypes.bs","MWMenuItem.react","NFXStoryLocation","ODS","bs_caml_option","bs_curry","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function a(a){var c=a.id,d=a.reportingToken,e=a.onClick;a=a.thread;var f,i=0;a!==void 0&&b("MWCMThreadTypes.bs").isJoinedCMThread(a.threadType)?f={entryPoint:b("FRXEntryPoint").REPORT_BUTTON,id:d,location:b("NFXStoryLocation").MESSENGER_COMMUNITY_MESSAGING_GROUP_THREAD_DETAILS}:i=1;if(i===1)if(typeof c==="object"){a=c.NAME;f=a==="Group"?{entryPoint:b("FRXEntryPoint").REPORT_BUTTON,id:d,location:b("NFXStoryLocation").MESSENGER_GROUP_THREAD_DETAILS}:a==="Page"?{entryPoint:b("FRXEntryPoint").REPORT_BUTTON,id:d,location:b("NFXStoryLocation").MESSENGER_P2B_DIRECT_THREAD_DETAILS}:a==="User"?{entryPoint:b("FRXEntryPoint").REPORT_BUTTON,id:d,location:b("NFXStoryLocation").MESSENGER_DIRECT_THREAD_DETAILS}:void 0}else f=void 0;var k=g._(/*FBT_CALL*/"Something's Wrong"/*FBT_CALL*/),l=g._(/*FBT_CALL*/"Give feedback and report the conversation"/*FBT_CALL*/),m=j.useRef(null);if(f!==void 0)return j.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("CometFRX_DEPRECATED.react").__setRef("MWChatSettingsReportConversation.bs"),dialogProps:b("bs_caml_option").valFromOption(f),children:function(a){return j.jsx(b("MWMenuItem.react"),{primaryText:k,onClick:function(c){b("ODS").bumpEntityKey(3185,"mwchat_settings","feedback");b("bs_curry")._1(e,void 0);return b("bs_curry")._1(a,void 0)},secondaryText:l,icon:b("fbicon")._(h("555452"),20),ref:m,testid:"messenger_settings_feedback_menu"})}});else return null}c=a;f.make=c}),null);/*FB_PKG_DELIM*/
__d("ZenonRTCOnDeviceChangePoller",["Promise","RTCMediaDevices","ZenonDebugLogger"],(function(a,b,c,d,e,f,g){"use strict";a=function(){a.isNeeded=function(){var a=navigator;a=a.mediaDevices;return!d("RTCMediaDevices").isSupported("enumerateDevices")||a&&"ondevicechange"in a?!1:!0};function a(a){var c=this;this.$1=[];this.$2="";this.$4=null;this.$7=function(){d("RTCMediaDevices").enumerateDevices().then(function(a){a=a.map(function(a){return a.deviceId+":"+a.label+":"+a.groupId}).sort().join("~");if(a===c.$2)return;c.$2=a;for(var a=c.$1,b=Array.isArray(a),d=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(b){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;try{e()}catch(a){}}})["catch"](function(a){return b("Promise").resolve()}).then(function(){c.$4=window.setTimeout(c.$7,c.$3)})["catch"](function(a){})};this.$3=a}var c=a.prototype;c.add=function(a){this.$1.push(a),this.$5()};c.remove=function(a){this.$1=this.$1.filter(function(b){return b!==a}),this.$6()};c.$5=function(){if(this.$4!==null)return;this.$4=window.setTimeout(this.$7,0)};c.$6=function(){if(this.$1.length>0)return;this.$4!==null&&(window.clearTimeout(this.$4),this.$4=null)};return a}();g["default"]=a}),98);
__d("RTCMediaDevices",["invariant","Promise","ZenonRTCOnDeviceChangePoller"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i=navigator.mediaDevices&&typeof navigator.mediaDevices.enumerateDevices==="function")!=null?i:!1,k=window.MediaStreamTrack&&window.MediaStreamTrack.getSources==="function",l=1e3,m;function a(a,b){if(a==="devicechange"&&c("ZenonRTCOnDeviceChangePoller").isNeeded()){m||(m=new(c("ZenonRTCOnDeviceChangePoller"))(l));m.add(b);return}var d=navigator;d=d.mediaDevices;d&&"addEventListener"in d&&d.addEventListener(a,b)}function d(a,b){if(a==="devicechange"&&c("ZenonRTCOnDeviceChangePoller").isNeeded()){m&&m.remove(b);return}var d=navigator;d=d.mediaDevices;d&&"removeEventListener"in d&&d.removeEventListener(a,b)}function e(a){switch(a){case"enumerateDevices":return j||k;default:return Boolean(navigator.mediaDevices)}}function f(){if(j){navigator.mediaDevices||h(0,4492);return b("Promise").resolve(navigator.mediaDevices.enumerateDevices())}else if(k)return new(b("Promise"))(function(a){return window.MediaStreamTrack.getSources(a)}).then(o);return b("Promise").reject(new Error("enumerateDevices() not supported"))}function n(a,b){return a.filter(function(a){return a.kind===b})}function o(a){return a.map(function(a){var b=a.id,c=a.kind;a=a.label;return{deviceId:b,groupId:"",kind:c==="video"?"videoinput":"audioinput",label:a}})}g.addEventListener=a;g.removeEventListener=d;g.isSupported=e;g.enumerateDevices=f;g.filterDevicesOfKind=n}),98);/*FB_PKG_DELIM*/
__d("RTWebClientFeatureGating",["CurrentUser","FBRTCConfig","FBRTCExperiment","FBRTCSupport","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return d("FBRTCConfig").isVCEndpointCall()||c("CurrentUser").isWorkUser()}function b(){return c("gkx")("867914")}function e(){return!1}function f(){return c("FBRTCExperiment").gen("rtc_www_larger_self_view").getBool("draggable_self_view",!1)}function h(){return!this.isVCCallOrWorkUser()}function i(){return!c("CurrentUser").isWorkUser()&&d("FBRTCSupport").isVideoFilterEffectSupported()}function j(){if(d("FBRTCConfig").isVCEndpointCall())return!1;return c("CurrentUser").isWorkUser()?!1:!0}function k(){return!1}function l(){return c("FBRTCExperiment").getIncomingCallExperiments().getBool("use_new_incoming_call_dialog",!1)}function m(){return c("FBRTCExperiment").getIncomingCallExperiments().getBool("use_three_buttons",!1)}function n(){return c("FBRTCExperiment").gen("rtc_www_call_unification").getBool("in_call_background_updated",!1)}function o(){return c("gkx")("678350")}function p(){if(d("FBRTCConfig").isVCEndpointCall())return!1;var a=c("FBRTCExperiment").gen("turnoff_camera_when_facemute");return a.getBool("camera_off",!1)}function q(){var a=c("FBRTCExperiment").gen("turnoff_camera_when_facemute");return a.getBool("track_api",!1)}function r(){return!this.isVCCallOrWorkUser()}function s(){return c("gkx")("678351")}function t(){return c("gkx")("700608")}function u(){return c("gkx")("724606")}function v(){return navigator.userAgent.indexOf("Intel Mac OS X 10_14")!==-1}function w(){return c("FBRTCExperiment").gen("rt_web_fb_profile_rtc_buttons").getBool("open_chat_tab",!1)}function x(){return this.isVCCallOrWorkUser()?!1:c("FBRTCExperiment").getMediaQualityExperiments().getBool("show_network_indicator",!1)}function y(){return this.isVCCallOrWorkUser()?!1:c("FBRTCExperiment").getMediaQualityExperiments().getBool("monitor_network_quality",!1)}function z(){return!d("FBRTCConfig").isVCEndpointCall()}g.isVCCallOrWorkUser=a;g.shouldShowEndCallQPs=b;g.shouldShowCreateVCLButton=e;g.draggableSelfView=f;g.endCallSurveyDropdownOptions=h;g.canUseMWVideoFilters=i;g.isChatEnabled=j;g.isGroupChatEnabled=k;g.useNewIncomingCallDialog=l;g.answerCallWithThreeButtons=m;g.callUnification=n;g.canUseMultiwaySandbox=o;g.stopVideoWhenMute=p;g.restartVideoWithTrackAPI=q;g.shouldAlwaysShowRedial=r;g.disableOpusStereo=s;g.shouldApplySdpMidTranslation=t;g.preserveFirefoxInactiveDataChannelBlock=u;g.showMojavePermissionsWarning=v;g.alwaysOpenChatTab=w;g.shouldShowNetworkQualityIndicator=x;g.shouldMonitorNetworkQuality=y;g.preferIsacForGroupCalls=z}),98);/*FB_PKG_DELIM*/
__d("FBRTCConfig",["CurrentUser"],(function(a,b,c,d,e,f,g){var h=!1,i=null,j=null,k=0,l=null,m="https://www.facebook.com/help/211644178877843",n="https://www.facebook.com/help/work/919532078125908",o="https://www.facebook.com/help/232232800134371",p="https://www.facebook.com/help/work/180714775754632";function a(a){var b=a.isVCEndpointCall,c=a.meetingID,d=a.meetingPassword,e=a.peerID;a=a.serverConfig;h=b;i=c;j=d;k=e;l=a}function b(){return h}function d(){return i}function e(){return j}function f(){return k}function q(){return{bad_score_count:3,frr_weight:800,plr_weight:500,rtt_weight:2,score_threshold:1e3}}function r(){var a;return((a=(a=l)==null?void 0:(a=a.troubleshooting_urls)==null?void 0:a.unsupported_browser)!=null?a:c("CurrentUser").isWorkUser())?n:m}function s(){var a;return((a=(a=l)==null?void 0:(a=a.troubleshooting_urls)==null?void 0:a.user_media_error)!=null?a:c("CurrentUser").isWorkUser())?p:o}function t(){var a;return((a=(a=l)==null?void 0:(a=a.troubleshooting_urls)==null?void 0:a.user_media_permission_error)!=null?a:c("CurrentUser").isWorkUser())?p:o}function u(){var a;return((a=l)==null?void 0:a.is_messenger_dot_com)===!0}function v(){var a;return((a=l)==null?void 0:a.messenger_call_ui)===!0}function w(){var a;return((a=l)==null?void 0:a.use_hd_video_quality)===!0}function x(){var a;return((a=l)==null?void 0:a.data_channel)===!0}function y(){var a;return((a=l)==null?void 0:a.disable_url_manager)===!0}g.setConfig=a;g.isVCEndpointCall=b;g.getMeetingID=d;g.getMeetingPassword=e;g.getPeerID=f;g.statsInterpreterConfig=q;g.unsupportedBrowserUrl=r;g.userMediaErrorUrl=s;g.userMediaPermissionErrorUrl=t;g.isMessengerDotCom=u;g.useMessengerCallUI=v;g.shouldUseHDVideoQuality=w;g.shouldCreateDataChannel=x;g.disableURLManager=y}),98);/*FB_PKG_DELIM*/
__d("Clipboard",["Promise","UserAgent"],(function(a,b,c,d,e,f,g){function a(){return window.document&&window.document.queryCommandSupported instanceof Function&&window.document.queryCommandSupported("copy")&&!(c("UserAgent").isBrowser("Firefox < 41")||c("UserAgent").isPlatform("iOS < 10.3"))||c("UserAgent").isBrowser("Chrome >= 43")}function h(a,b){b=b||document.body;if(!b)return!1;var d=document.activeElement,e=!0,f=document.createElement("textarea");b.appendChild(f);f.value=a;if(c("UserAgent").isPlatform("iOS >= 10.3")){a=document.createRange();a.selectNodeContents(f);var g=window.getSelection();g.removeAllRanges();g.addRange(a);f.setSelectionRange(0,999999)}else f.select();try{e=document.execCommand("copy")}catch(a){e=!1}b.removeChild(f);d!=null&&d.focus();return e}function d(a){var c=window.navigator;if(c&&c.clipboard&&typeof c.clipboard.writeText==="function")return c.clipboard.writeText(a);return h(a)?b("Promise").resolve():b("Promise").reject()}g.isSupported=a;g.copy=h;g.copyAsync=d}),98);
__d("useBoolean",["react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useState;function a(a){a=i(a);var b=a[0],c=a[1];return{value:b,set:c,toggle:h(function(){return c(function(a){return!a})},[]),setTrue:h(function(){return c(!0)},[]),setFalse:h(function(){return c(!1)},[])}}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("FBRTCUtils",["AsyncRequest","FBIDCheck","FBRTCConfig","RTWebUserActionLogger","assignMediaStream","emptyFunction"],(function(a,b,c,d,e,f,g){var h=6e3,i="setSinkId"in window.HTMLMediaElement.prototype;function a(a,b){if(a==null)return;c("assignMediaStream")(a,b);if(b){b=a.play();b!==void 0&&b["catch"](function(a){c("RTWebUserActionLogger").logError({errorDomain:"autoplay was prevented",errorType:a.toString()})})}}function b(a,b){return a-b<.01&&b-a<.01}function e(a,b,d,e,f,g){b===void 0&&(b=c("emptyFunction"));d===void 0&&(d=c("emptyFunction"));e===void 0&&(e=!1);f===void 0&&(f=h);g===void 0&&(g={});a=new(c("AsyncRequest"))().setURI(a).setData(g).setAllowCrossPageTransition(!0).setHandler(b).setErrorHandler(d).setTimeoutHandler(f,function(){d()});e&&a.setOption("asynchronous_DEPRECATED",!1);a.send()}function f(){return i}function j(a){var b=d("FBRTCConfig").isVCEndpointCall();return b!==void 0?b:!!a&&!d("FBIDCheck").isUser_deprecated(a)}function k(a){return a==="quickdial"||a==="meeting_room_page_profile"}g.attachMediaStream=a;g.aboutEqual=b;g.sendServerRequest=e;g.supportsSetSink=f;g.isPeerVCEndpoint=j;g.isCollabTrigger=k}),98);/*FB_PKG_DELIM*/
__d("FBRTCSupport",["UserAgent","gkx"],(function(a,b,c,d,e,f,g){function h(){return c("UserAgent").isBrowser("Chrome >= 28")||c("UserAgent").isBrowser("Firefox >= 25")||c("UserAgent").isBrowser("Edge (Chromium Based) >= 74.1")||c("UserAgent").isBrowser("Opera >= 20")||j()&&c("gkx")("875718")||c("UserAgent").isBrowser("Oculus Browser >= 6")&&c("gkx")("1188589")||i()}function a(){return c("UserAgent").isBrowser("Chrome >= 28")||c("UserAgent").isBrowser("Edge (Chromium Based) >= 74.1")||c("UserAgent").isBrowser("Opera >= 20")||j()&&c("gkx")("875718")||i()}function i(){return!1}function b(){return h()&&(!!c("gkx")("1738376")||c("UserAgent").isBrowser("Chrome >= "+65))}function d(a){var b=c("UserAgent").isBrowser("Chrome >= 73")||c("UserAgent").isBrowser("Safari >= 12.2");if(a)return b;a=c("gkx")("919244")&&b;return a||c("UserAgent").isBrowser("Mobile Safari >= 12.1.1")}function j(){return c("UserAgent").isBrowser("Safari >= 12.1")||c("UserAgent").isBrowser("Mobile Safari >= 12.1")}function k(){return c("UserAgent").isPlatform("Android")||c("UserAgent").isPlatform("iOS")}function e(){return!k()&&(c("UserAgent").isBrowser("Chrome >= 51")||c("UserAgent").isBrowser("Opera >= 36"))}function f(){return c("UserAgent").isBrowser("Firefox < 60")||c("UserAgent").isBrowser("Edge")}function l(){return c("UserAgent").isBrowser("Chrome")||c("UserAgent").isBrowser("Opera")||c("UserAgent").isBrowser("Edge (Chromium Based) >= 74.1")}g.isWebrtcSupported=h;g.isGroupCallWebtrcSupported=a;g.isUnifiedEnabledForCallsExperimentation=i;g.isCollabSupported=b;g.canUseUnifiedPlan=d;g.isSupportedSafariVersion=j;g.isMobileDevice=k;g.isVideoFilterEffectSupported=e;g.videoEscalationByUnmuteWorkaround=f;g.isChromiumBased=l}),98);/*FB_PKG_DELIM*/
__d("MWChatAudioRecorderStreamSetup.bs",["MWChatAudioLog.bs","Promise","RTCUtils.bs","bs_caml_js_exceptions","bs_caml_obj","bs_caml_option","bs_curry","promiseDone"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f){var g=function(a){return b("RTCUtils.bs").getUserMedia({video:!1,audio:!0}).then(function(a){return b("Promise").resolve(b("bs_caml_option").some(a))})["catch"](function(a){a=b("bs_caml_js_exceptions").caml_as_js_exn(a);var c=0;a!==void 0&&b("bs_caml_obj").caml_equal(b("bs_caml_option").valFromOption(a).name,"NotAllowedError")?(b("bs_curry")._1(e,function(a){return 2}),b("bs_curry")._1(f,void 0),b("MWChatAudioLog.bs").logBrowserDenyAccess(void 0)):c=1;c===1&&(b("bs_curry")._1(e,function(a){return 3}),b("MWChatAudioLog.bs").logBrowserDenyAccess(void 0));b("MWChatAudioLog.bs").logBrowserDenyAccess(void 0);return b("Promise").resolve(void 0)})},h=function(f){if(c.current){a.contents=b("bs_caml_option").some(f);b("bs_curry")._1(e,function(a){return 1});b("bs_curry")._1(d,void 0);return b("MWChatAudioLog.bs").logBrowserAllowAccess(void 0)}else return b("RTCUtils.bs").stopMediaStream(f)};g=g(void 0).then(function(a){a!==void 0?h(b("bs_caml_option").valFromOption(a)):b("bs_curry")._1(f,void 0);return b("Promise").resolve(void 0)});b("promiseDone")(g,void 0,void 0);g=a.contents;if(g!==void 0)return b("RTCUtils.bs").stopMediaStream(b("bs_caml_option").valFromOption(g))}f.setupStream=a}),null);/*FB_PKG_DELIM*/
__d("MWChatAudioRecorderAPI.bs",["Promise","RTCUtils.bs","bs_caml_option","bs_curry"],(function(a,b,c,d,e,f){"use strict";function a(a){var c={contents:void 0},d=new Map(),e=new Map(),f={contents:0},g={contents:0},h={contents:0};return{startRecording:function(a){h.contents=Date.now(),d.forEach(function(c,a,d){return b("bs_curry")._1(c,void 0)})},stopRecording:function(a){a=c.contents;a!==void 0&&b("RTCUtils.bs").stopMediaStream(b("bs_caml_option").valFromOption(a));return b("Promise").all(Array.from(e.entries()).map(function(a){return b("bs_curry")._1(a[1],void 0)})).then(function(a){return b("Promise").resolve(void 0)})},onStartRecording:function(a){var b=f.contents;f.contents=f.contents+1|0;d.set(b,a);return function(a){return d["delete"](b)}},onStopRecording:function(a){var b=g.contents;g.contents=g.contents+1|0;e.set(b,a);return function(a){return e["delete"](b)}},getStartTime:function(a){return h.contents},getAudioStreamRef:function(a){return c},resetStartTime:function(a){h.contents=0}}}c=250;f.cELAPSED_TIME_UPDATE_INTV_MS=c;f.createAudioAPI=a}),null);/*FB_PKG_DELIM*/
__d("MWLSSetBlockStatus.bs",["LS.bs","LSOptimisticSetBlockStatus","LSTransaction.bs","MWThreadKey.bs","bs_curry","promiseDone","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c,d){var e=b("useReStore")(),f=b("MWThreadKey.bs").useIdMemoizedExn(void 0);return h.useCallback(function(g){b("promiseDone")(b("LSTransaction.bs").run(e,function(c){return b("LSOptimisticSetBlockStatus")(f,a,void 0,!1,b("LS.bs").make(c))},"readWrite"),function(a){return b("bs_curry")._1(c,void 0)},b("bs_curry").__1(d))},[e,f])}f.useHook=a}),null);/*FB_PKG_DELIM*/
__d("MWLSBlock.bs",["LSContactBlockedByViewerStatus.bs","MWLSSetBlockStatus.bs"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("MWLSSetBlockStatus.bs").useHook(b("LSContactBlockedByViewerStatus.bs").messageBlocked,a,c)}f.useHook=a}),null);/*FB_PKG_DELIM*/
__d("MWLSUnblock.bs",["LSContactBlockedByViewerStatus.bs","MWLSSetBlockStatus.bs"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("MWLSSetBlockStatus.bs").useHook(b("LSContactBlockedByViewerStatus.bs").unblocked,a,c)}f.useHook=a}),null);/*FB_PKG_DELIM*/
__d("useForceUpdate",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useReducer;function a(){var a=h(function(a){return a+1},0);a[0];a=a[1];return a}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("RTCUtils.bs",["RTCUtils"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("RTCUtils").getUserMedia(a)}function c(a){b("RTCUtils").stopMediaStream(a)}f.getUserMedia=a;f.stopMediaStream=c}),null);/*FB_PKG_DELIM*/
__d("MWUIBlock.bs",["cr:571"],(function(a,b,c,d,e,f){"use strict";a=b("cr:571").useHook;f.useHook=a}),null);
__d("MWUIUnblock.bs",["cr:574"],(function(a,b,c,d,e,f){"use strict";a=b("cr:574").useHook;f.useHook=a}),null);